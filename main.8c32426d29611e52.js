"use strict";(self.webpackChunkApartments=self.webpackChunkApartments||[]).push([[179],{2011:(ht,xe,V)=>{V.d(xe,{Dh:()=>me,GT:()=>pe,cc:()=>Re,hO:()=>Ge,on:()=>$,pX:()=>ce,xv:()=>ye});var a=V(4650),ie=V(127),B=V(5813);ht=V.hmd(ht);const de=["ngOnDestroy"],ce=(_e,rt,ut,ke={})=>new Proxy(_e,{get:(Ce,Se)=>ut.runOutsideAngular(()=>{var ze;if(_e[Se])return!(null===(ze=ke?.spy)||void 0===ze)&&ze.get&&ke.spy.get(Se,_e[Se]),_e[Se];if(de.indexOf(Se)>-1)return()=>{};const Ze=rt.toPromise().then(z=>{const ve=z&&z[Se];return"function"==typeof ve?ve.bind(z):ve&&ve.then?ve.then(J=>ut.run(()=>J)):ut.run(()=>ve)});return new Proxy(()=>{},{get:(z,ve)=>Ze[ve],apply:(z,ve,J)=>Ze.then(se=>{var ue;const ae=se&&se(...J);return!(null===(ue=ke?.spy)||void 0===ue)&&ue.apply&&ke.spy.apply(Se,J,ae),ae})})})}),pe=(_e,rt)=>{rt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(ke=>{Object.defineProperty(_e.prototype,ke,Object.getOwnPropertyDescriptor(ut.prototype||ut,ke))})})};class re{constructor(rt){return rt}}const me=new a.OlP("angularfire2.app.options"),ye=new a.OlP("angularfire2.app.name");function $(_e,rt,ut){const Ce="object"==typeof ut&&ut||{};Ce.name=Ce.name||"string"==typeof ut&&ut||"[DEFAULT]";const ze=ie.Z.apps.filter(Ze=>Ze&&Ze.name===Ce.name)[0]||rt.runOutsideAngular(()=>ie.Z.initializeApp(_e,Ce));try{JSON.stringify(_e)!==JSON.stringify(ze.options)&&Z("error",`${ze.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(ze)}const Z=(_e,...rt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...rt)},ee={provide:re,useFactory:$,deps:[me,a.R0b,[new a.FiY,ye]]};let Ge=(()=>{class _e{constructor(ut){ie.Z.registerVersion("angularfire",B.q4.full,"core"),ie.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ie.Z.registerVersion("angular",a.q4F.full,ut.toString())}static initializeApp(ut,ke){return{ngModule:_e,providers:[{provide:me,useValue:ut},{provide:ye,useValue:ke}]}}}return _e.\u0275fac=function(ut){return new(ut||_e)(a.LFG(a.Lbi))},_e.\u0275mod=a.oAB({type:_e}),_e.\u0275inj=a.cJS({providers:[ee]}),_e})();function Re(_e,rt,ut,ke,Ce){const[,Se,ze]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===_e)||[];if(Se)return function Ee(_e,rt){try{return _e.toString()===rt.toString()}catch{return _e===rt}}(Ce,ze)||(be("error",`${rt} was already initialized on the ${ut} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Ce,was:ze})),Se;{const Ze=ke();return globalThis.\u0275AngularfireInstanceCache.push([_e,Ze,Ce]),Ze}}const ot=!!ht.hot,be=(_e,...rt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,xe,V)=>{V.d(xe,{q4:()=>qe,iC:()=>Ns,fc:()=>Ln,HU:()=>Li,vb:()=>ds,JM:()=>Fl});var a=V(4650),ie=V(5867),B=V(5861),de=V(9681),ce=V(2090),pe=V(4859),re=V(1877),me=V(8766);const ye="@firebase/installations",$="0.5.12",ee=`w:${$}`,Ge="FIS_v2",rt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(S){return S instanceof ce.ZR&&S.code.includes("request-failed")}function ke({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ce(S){return{token:S.token,requestStatus:2,expiresIn:se(S.expiresIn),creationTime:Date.now()}}function Se(S,T){return ze.apply(this,arguments)}function ze(){return(ze=(0,B.Z)(function*(S,T){const H=(yield T.json()).error;return rt.create("request-failed",{requestName:S,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Ze({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function z(S,{refreshToken:T}){const R=Ze(S);return R.append("Authorization",function ue(S){return`${Ge} ${S}`}(T)),R}function ve(S){return J.apply(this,arguments)}function J(){return(J=(0,B.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function se(S){return Number(S.replace("s","000"))}function ae(S,T){return Be.apply(this,arguments)}function Be(){return(Be=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:R}){const H=ke(S),te=Ze(S),le=T.getImmediate({optional:!0});if(le){const It=yield le.getHeartbeatsHeader();It&&te.append("x-firebase-client",It)}const Pe={method:"POST",headers:te,body:JSON.stringify({fid:R,authVersion:Ge,appId:S.appId,sdkVersion:ee})},lt=yield ve(()=>fetch(H,Pe));if(lt.ok){const It=yield lt.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:Ce(It.authToken)}}throw yield Se("Create Installation",lt)})).apply(this,arguments)}function Fe(S){return new Promise(T=>{setTimeout(T,S)})}const Qt=/^[cdef][\w-]{21}$/;function Qe(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function _n(S){return function yt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Qt.test(R)?R:""}catch{return""}}function Zn(S){return`${S.appName}!${S.appId}`}const nn=new Map;function rn(S,T){const R=Zn(S);dn(R,T),function Ea(S,T){const R=function Ni(){return!rr&&"BroadcastChannel"in self&&(rr=new BroadcastChannel("[Firebase] FID Change"),rr.onmessage=S=>{dn(S.data.key,S.data.fid)}),rr}();R&&R.postMessage({key:S,fid:T}),function sr(){0===nn.size&&rr&&(rr.close(),rr=null)}()}(R,T)}function dn(S,T){const R=nn.get(S);if(R)for(const H of R)H(T)}let rr=null;const or="firebase-installations-store";let vr=null;function Da(){return vr||(vr=(0,me.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(or)}})),vr}function it(S,T){return ar.apply(this,arguments)}function ar(){return(ar=(0,B.Z)(function*(S,T){const R=Zn(S),te=(yield Da()).transaction(or,"readwrite"),le=te.objectStore(or),Ie=yield le.get(R);return yield le.put(T,R),yield te.done,(!Ie||Ie.fid!==T.fid)&&rn(S,T.fid),T})).apply(this,arguments)}function Es(S){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,B.Z)(function*(S){const T=Zn(S),H=(yield Da()).transaction(or,"readwrite");yield H.objectStore(or).delete(T),yield H.done})).apply(this,arguments)}function br(S,T){return lr.apply(this,arguments)}function lr(){return(lr=(0,B.Z)(function*(S,T){const R=Zn(S),te=(yield Da()).transaction(or,"readwrite"),le=te.objectStore(or),Ie=yield le.get(R),Pe=T(Ie);return void 0===Pe?yield le.delete(R):yield le.put(Pe,R),yield te.done,Pe&&(!Ie||Ie.fid!==Pe.fid)&&rn(S,Pe.fid),Pe})).apply(this,arguments)}function Yn(S){return ni.apply(this,arguments)}function ni(){return(ni=(0,B.Z)(function*(S){let T;const R=yield br(S.appConfig,H=>{const te=En(H),le=vt(S,te);return T=le.registrationPromise,le.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function En(S){return Mt(S||{fid:Qe(),registrationStatus:0})}function vt(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(rt.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function ft(S,T){return yn.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:yi(S)}:{installationEntry:T}}function yn(){return(yn=(0,B.Z)(function*(S,T){try{const R=yield ae(S,T);return it(S.appConfig,R)}catch(R){throw ut(R)&&409===R.customData.serverCode?yield Es(S.appConfig):yield it(S.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function yi(S){return vi.apply(this,arguments)}function vi(){return(vi=(0,B.Z)(function*(S){let T=yield $i(S.appConfig);for(;1===T.registrationStatus;)yield Fe(100),T=yield $i(S.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:H}=yield Yn(S);return H||R}return T})).apply(this,arguments)}function $i(S){return br(S,T=>{if(!T)throw rt.create("installation-not-found");return Mt(T)})}function Mt(S){return function Ds(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function on(S,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:T},R){const H=sn(S,R),te=z(S,R),le=T.getImmediate({optional:!0});if(le){const It=yield le.getHeartbeatsHeader();It&&te.append("x-firebase-client",It)}const Pe={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ee,appId:S.appId}})},lt=yield ve(()=>fetch(H,Pe));if(lt.ok)return Ce(yield lt.json());throw yield Se("Generate Auth Token",lt)})).apply(this,arguments)}function sn(S,{fid:T}){return`${ke(S)}/${T}/authTokens:generate`}function X(S){return q.apply(this,arguments)}function q(){return(q=(0,B.Z)(function*(S,T=!1){let R;const H=yield br(S.appConfig,le=>{if(!pt(le))throw rt.create("not-registered");const Ie=le.authToken;if(!T&&Dn(Ie))return le;if(1===Ie.requestStatus)return R=j(S,T),le;{if(!navigator.onLine)throw rt.create("app-offline");const Pe=li(le);return R=Me(S,Pe),Pe}});return R?yield R:H.authToken})).apply(this,arguments)}function j(S,T){return W.apply(this,arguments)}function W(){return(W=(0,B.Z)(function*(S,T){let R=yield K(S.appConfig);for(;1===R.authToken.requestStatus;)yield Fe(100),R=yield K(S.appConfig);const H=R.authToken;return 0===H.requestStatus?X(S,T):H})).apply(this,arguments)}function K(S){return br(S,T=>{if(!pt(T))throw rt.create("not-registered");return function $t(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Me(S,T){return $e.apply(this,arguments)}function $e(){return($e=(0,B.Z)(function*(S,T){try{const R=yield on(S,T),H=Object.assign(Object.assign({},T),{authToken:R});return yield it(S.appConfig,H),R}catch(R){if(!ut(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield it(S.appConfig,H)}else yield Es(S.appConfig);throw R}})).apply(this,arguments)}function pt(S){return void 0!==S&&2===S.registrationStatus}function Dn(S){return 2===S.requestStatus&&!function an(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function li(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function An(){return(An=(0,B.Z)(function*(S){const T=S,{installationEntry:R,registrationPromise:H}=yield Yn(T);return H?H.catch(console.error):X(T).catch(console.error),R.fid})).apply(this,arguments)}function os(){return(os=(0,B.Z)(function*(S,T=!1){const R=S;return yield qi(R),(yield X(R,T)).token})).apply(this,arguments)}function qi(S){return ri.apply(this,arguments)}function ri(){return(ri=(0,B.Z)(function*(S){const{registrationPromise:T}=yield Yn(S);T&&(yield T)})).apply(this,arguments)}function Qs(S){return rt.create("missing-app-config-values",{valueName:S})}const Ao="installations",Rn=S=>{const T=S.getProvider("app").getImmediate(),R=function kn(S){if(!S||!S.options)throw Qs("App Configuration");if(!S.name)throw Qs("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!S.options[R])throw Qs(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ko=S=>{const T=S.getProvider("app").getImmediate(),R=(0,de._getProvider)(T,Ao).getImmediate();return{getId:()=>function Lt(S){return An.apply(this,arguments)}(R),getToken:te=>function ii(S){return os.apply(this,arguments)}(R,te)}};(function fu(){(0,de._registerComponent)(new pe.wA(Ao,Rn,"PUBLIC")),(0,de._registerComponent)(new pe.wA("installations-internal",ko,"PRIVATE"))})(),(0,de.registerVersion)(ye,$),(0,de.registerVersion)(ye,$,"esm2017");const as="@firebase/remote-config",oi=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $d{constructor(T,R,H,te){this.client=T,this.storage=R,this.storageCache=H,this.logger=te}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-R,te=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${te}.`),te}fetch(T){var R=this;return(0,B.Z)(function*(){const[H,te]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(te&&R.isCachedDataFresh(T.cacheMaxAgeMillis,H))return te;T.eTag=te&&te.eTag;const le=yield R.client.fetch(T),Ie=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ie.push(R.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ie),le})()}}function yu(S=navigator){return S.languages&&S.languages[0]||S.language}class vu{constructor(T,R,H,te,le,Ie){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=H,this.projectId=te,this.apiKey=le,this.appId=Ie}fetch(T){var R=this;return(0,B.Z)(function*(){var H,te,le;const[Ie,Pe]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},gt={sdk_version:R.sdkVersion,app_instance_id:Ie,app_instance_id_token:Pe,app_id:R.appId,language_code:yu()},Pn={method:"POST",headers:Tt,body:JSON.stringify(gt)},Ai=fetch(It,Pn),Ko=new Promise((Ha,Qo)=>{T.signal.addEventListener(()=>{const zr=new Error("The operation was aborted.");zr.name="AbortError",Qo(zr)})});let fs;try{yield Promise.race([Ai,Ko]),fs=yield Ai}catch(Ha){let Qo="fetch-client-network";throw"AbortError"===(null===(H=Ha)||void 0===H?void 0:H.name)&&(Qo="fetch-timeout"),oi.create(Qo,{originalErrorMessage:null===(te=Ha)||void 0===te?void 0:te.message})}let kt=fs.status;const ps=fs.headers.get("ETag")||void 0;let fo,Tr;if(200===fs.status){let Ha;try{Ha=yield fs.json()}catch(Qo){throw oi.create("fetch-client-parse",{originalErrorMessage:null===(le=Qo)||void 0===le?void 0:le.message})}fo=Ha.entries,Tr=Ha.state}if("INSTANCE_STATE_UNSPECIFIED"===Tr?kt=500:"NO_CHANGE"===Tr?kt=304:("NO_TEMPLATE"===Tr||"EMPTY_CONFIG"===Tr)&&(fo={}),304!==kt&&200!==kt)throw oi.create("fetch-status",{httpStatus:kt});return{status:kt,eTag:ps,config:fo}})()}}class ag{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,B.Z)(function*(){const H=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:H}){var te=this;return(0,B.Z)(function*(){yield function ui(S,T){return new Promise((R,H)=>{const te=Math.max(T-Date.now(),0),le=setTimeout(R,te);S.addEventListener(()=>{clearTimeout(le),H(oi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const le=yield te.client.fetch(T);return yield te.storage.deleteThrottleMetadata(),le}catch(le){if(!function qd(S){if(!(S instanceof ce.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(le))throw le;const Ie={throttleEndTimeMillis:Date.now()+(0,ce.$s)(H),backoffCount:H+1};return yield te.storage.setThrottleMetadata(Ie),te.attemptFetch(T,Ie)}})()}}class bu{constructor(T,R,H,te,le){this.app=T,this._client=R,this._storageCache=H,this._storage=te,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wu(S,T){var R;const H=S.target.error||void 0;return oi.create(T,{originalErrorMessage:H&&(null===(R=H)||void 0===R?void 0:R.message)})}const to="app_namespace_store";class dg{constructor(T,R,H,te=function ug(){return new Promise((S,T)=>{var R;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=te=>{T(wu(te,"storage-open"))},H.onsuccess=te=>{S(te.target.result)},H.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(to,{keyPath:"compositeKey"})}}catch(H){T(oi.create("storage-open",{originalErrorMessage:null===(R=H)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=H,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,B.Z)(function*(){const H=yield R.openDbPromise;return new Promise((te,le)=>{var Ie;const lt=H.transaction([to],"readonly").objectStore(to),It=R.createCompositeKey(T);try{const Tt=lt.get(It);Tt.onerror=gt=>{le(wu(gt,"storage-get"))},Tt.onsuccess=gt=>{const Pn=gt.target.result;te(Pn?Pn.value:void 0)}}catch(Tt){le(oi.create("storage-get",{originalErrorMessage:null===(Ie=Tt)||void 0===Ie?void 0:Ie.message}))}})})()}set(T,R){var H=this;return(0,B.Z)(function*(){const te=yield H.openDbPromise;return new Promise((le,Ie)=>{var Pe;const It=te.transaction([to],"readwrite").objectStore(to),Tt=H.createCompositeKey(T);try{const gt=It.put({compositeKey:Tt,value:R});gt.onerror=Pn=>{Ie(wu(Pn,"storage-set"))},gt.onsuccess=()=>{le()}}catch(gt){Ie(oi.create("storage-set",{originalErrorMessage:null===(Pe=gt)||void 0===Pe?void 0:Pe.message}))}})})()}delete(T){var R=this;return(0,B.Z)(function*(){const H=yield R.openDbPromise;return new Promise((te,le)=>{var Ie;const lt=H.transaction([to],"readwrite").objectStore(to),It=R.createCompositeKey(T);try{const Tt=lt.delete(It);Tt.onerror=gt=>{le(wu(gt,"storage-delete"))},Tt.onsuccess=()=>{te()}}catch(Tt){le(oi.create("storage-delete",{originalErrorMessage:null===(Ie=Tt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Wd{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const R=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),te=T.storage.getActiveConfig(),le=yield R;le&&(T.lastFetchStatus=le);const Ie=yield H;Ie&&(T.lastSuccessfulFetchTimestampMillis=Ie);const Pe=yield te;Pe&&(T.activeConfig=Pe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function cc(){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,B.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function no(){(0,de._registerComponent)(new pe.wA("remote-config",function S(T,{instanceIdentifier:R}){const H=T.getProvider("app").getImmediate(),te=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw oi.create("registration-window");if(!(0,ce.hl)())throw oi.create("indexed-db-unavailable");const{projectId:le,apiKey:Ie,appId:Pe}=H.options;if(!le)throw oi.create("registration-project-id");if(!Ie)throw oi.create("registration-api-key");if(!Pe)throw oi.create("registration-app-id");const lt=new dg(Pe,H.name,R=R||"firebase"),It=new Wd(lt),Tt=new re.Yd(as);Tt.logLevel=re.in.ERROR;const gt=new vu(te,de.SDK_VERSION,R,le,Ie,Pe),Pn=new ag(gt,lt),Ai=new $d(Pn,lt,It,Tt),Ko=new bu(H,Ai,It,lt,Tt);return function bn(S){const T=(0,ce.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ko),Ko},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(as,"0.3.11"),(0,de.registerVersion)(as,"0.3.11","esm2017")}();const ls="/firebase-messaging-sw.js",Ss="/firebase-cloud-messaging-push-scope",Ts="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gl="google.c.a.c_id",uc="google.c.a.c_l",Cu="google.c.a.ts",Nf="google.c.a.e";var xs=(()=>{return(S=xs||(xs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",xs;var S})();function Cr(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cr(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(R),te=new Uint8Array(H.length);for(let le=0;le<H.length;++le)te[le]=H.charCodeAt(le);return te}const Sa="fcm_token_details_db",Mi="fcm_token_object_Store";function Ff(S){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Sa))return null;let T=null;return(yield(0,me.X3)(Sa,5,{upgrade:(H=(0,B.Z)(function*(te,le,Ie,Pe){var lt;if(le<2||!te.objectStoreNames.contains(Mi))return;const It=Pe.objectStore(Mi),Tt=yield It.index("fcmSenderId").get(S);if(yield It.clear(),Tt)if(2===le){const gt=Tt;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;T={token:gt.fcmToken,createTime:null!==(lt=gt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:Cr(gt.vapidKey)}}}else if(3===le){const gt=Tt;T={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:Cr(gt.auth),p256dh:Cr(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:Cr(gt.vapidKey)}}}else if(4===le){const gt=Tt;T={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:Cr(gt.auth),p256dh:Cr(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:Cr(gt.vapidKey)}}}}),function(le,Ie,Pe,lt){return H.apply(this,arguments)})})).close(),yield(0,me.Lj)(Sa),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),Un(T)?T:null;var H}),Lf.apply(this,arguments)}function Un(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Er="firebase-messaging-store";let Wi=null;function hc(){return Wi||(Wi=(0,me.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(Er)}})),Wi}function Fo(S){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,B.Z)(function*(S){const T=Hr(S),H=yield(yield hc()).transaction(Er).objectStore(Er).get(T);if(H)return H;{const te=yield Ff(S.appConfig.senderId);if(te)return yield Xt(S,te),te}})).apply(this,arguments)}function Xt(S,T){return _l.apply(this,arguments)}function _l(){return(_l=(0,B.Z)(function*(S,T){const R=Hr(S),te=(yield hc()).transaction(Er,"readwrite");return yield te.objectStore(Er).put(T,R),yield te.done,T})).apply(this,arguments)}function Lo(S){return fc.apply(this,arguments)}function fc(){return(fc=(0,B.Z)(function*(S){const T=Hr(S),H=(yield hc()).transaction(Er,"readwrite");yield H.objectStore(Er).delete(T),yield H.done})).apply(this,arguments)}function Hr({appConfig:S}){return S.appId}const Fn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function At(S,T){return mc.apply(this,arguments)}function mc(){return(mc=(0,B.Z)(function*(S,T){var R;const H=yield Iu(S),te=Ae(T),le={method:"POST",headers:H,body:JSON.stringify(te)};let Ie;try{Ie=yield(yield fetch(As(S.appConfig),le)).json()}catch(Pe){throw Fn.create("token-subscribe-failed",{errorInfo:null===(R=Pe)||void 0===R?void 0:R.toString()})}if(Ie.error)throw Fn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Fn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Vf(S,T){return gc.apply(this,arguments)}function gc(){return(gc=(0,B.Z)(function*(S,T){var R;const H=yield Iu(S),te=Ae(T.subscriptionOptions),le={method:"PATCH",headers:H,body:JSON.stringify(te)};let Ie;try{Ie=yield(yield fetch(`${As(S.appConfig)}/${T.token}`,le)).json()}catch(Pe){throw Fn.create("token-update-failed",{errorInfo:null===(R=Pe)||void 0===R?void 0:R.toString()})}if(Ie.error)throw Fn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Fn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function _c(S,T){return Du.apply(this,arguments)}function Du(){return(Du=(0,B.Z)(function*(S,T){var R;const te={method:"DELETE",headers:yield Iu(S)};try{const Ie=yield(yield fetch(`${As(S.appConfig)}/${T}`,te)).json();if(Ie.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(le){throw Fn.create("token-unsubscribe-failed",{errorInfo:null===(R=le)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function As({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Iu(S){return yl.apply(this,arguments)}function yl(){return(yl=(0,B.Z)(function*({appConfig:S,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ae({p256dh:S,auth:T,endpoint:R,vapidKey:H}){const te={web:{endpoint:R,auth:T,p256dh:S}};return H!==Ts&&(te.web.applicationPubKey=H),te}const qt=6048e5;function yc(S){return vc.apply(this,arguments)}function vc(){return(vc=(0,B.Z)(function*(S){const T=yield Su(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:Cr(T.getKey("auth")),p256dh:Cr(T.getKey("p256dh"))},H=yield Fo(S.firebaseDependencies);if(H){if(Qd(H.subscriptionOptions,R))return Date.now()>=H.createTime+qt?Ta(S,{token:H.token,createTime:Date.now(),subscriptionOptions:R}):H.token;try{yield _c(S.firebaseDependencies,H.token)}catch(te){console.warn(te)}return vl(S.firebaseDependencies,R)}return vl(S.firebaseDependencies,R)})).apply(this,arguments)}function Hn(S){return bc.apply(this,arguments)}function bc(){return(bc=(0,B.Z)(function*(S){const T=yield Fo(S.firebaseDependencies);T&&(yield _c(S.firebaseDependencies,T.token),yield Lo(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Ta(S,T){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,B.Z)(function*(S,T){try{const R=yield Vf(S.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield Xt(S.firebaseDependencies,H),R}catch(R){throw yield Hn(S),R}})).apply(this,arguments)}function vl(S,T){return bl.apply(this,arguments)}function bl(){return(bl=(0,B.Z)(function*(S,T){const H={token:yield At(S,T),createTime:Date.now(),subscriptionOptions:T};return yield Xt(S,H),H.token})).apply(this,arguments)}function Su(S,T){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,B.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cr(T)})})).apply(this,arguments)}function Qd(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function Bo(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function jn(S,T){if(!T.notification)return;S.notification={};const R=T.notification.title;R&&(S.notification.title=R);const H=T.notification.body;H&&(S.notification.body=H);const te=T.notification.image;te&&(S.notification.image=te)}(T,S),function cs(S,T){!T.data||(S.data=T.data)}(T,S),function xu(S,T){var R,H,te,le,Ie;if(!(T.fcmOptions||null!==(R=T.notification)&&void 0!==R&&R.click_action))return;S.fcmOptions={};const Pe=null!==(te=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==te?te:null===(le=T.notification)||void 0===le?void 0:le.click_action;Pe&&(S.fcmOptions.link=Pe);const lt=null===(Ie=T.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;lt&&(S.fcmOptions.analyticsLabel=lt)}(T,S),T}function Vo(S){return"object"==typeof S&&!!S&&gl in S}function ks(S,T){const R=[];for(let H=0;H<S.length;H++)R.push(S.charAt(H)),H<T.length&&R.push(T.charAt(H));return R.join("")}function wl(S){return Fn.create("missing-app-config-values",{valueName:S})}ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fg{constructor(T,R,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function hg(S){if(!S||!S.options)throw wl("App Configuration Object");if(!S.name)throw wl("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const H of T)if(!R[H])throw wl(H);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:te,installations:R,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Mu(S){return wc.apply(this,arguments)}function wc(){return(wc=(0,B.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register(ls,{scope:Ss}),S.swRegistration.update().catch(()=>{})}catch(R){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Cl(S,T){return Au.apply(this,arguments)}function Au(){return(Au=(0,B.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield Mu(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function El(S,T){return ku.apply(this,arguments)}function ku(){return(ku=(0,B.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=Ts)})).apply(this,arguments)}function Ec(){return(Ec=(0,B.Z)(function*(S,T){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield El(S,T?.vapidKey),yield Cl(S,T?.serviceWorkerRegistration),yc(S)})).apply(this,arguments)}function Ru(S,T,R){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,B.Z)(function*(S,T,R){const H=Pu(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:R[gl],message_name:R[uc],message_time:R[Cu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pu(S){switch(S){case xs.NOTIFICATION_CLICKED:return"notification_open";case xs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Uo(){return(Uo=(0,B.Z)(function*(S,T){const R=T.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===xs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Bo(R)):S.onMessageHandler.next(Bo(R)));const H=R.data;Vo(H)&&"1"===H[Nf]&&(yield Ru(S,R.messageType,H))})).apply(this,arguments)}const Ho="@firebase/messaging",di=S=>{const T=new fg(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Xd(S,T){return Uo.apply(this,arguments)}(T,R)),T},ur=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:H=>function Cc(S,T){return Ec.apply(this,arguments)}(T,H)}};function Nu(){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,B.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tn(){(0,de._registerComponent)(new pe.wA("messaging",di,"PUBLIC")),(0,de._registerComponent)(new pe.wA("messaging-internal",ur,"PRIVATE")),(0,de.registerVersion)(Ho,"0.9.16"),(0,de.registerVersion)(Ho,"0.9.16","esm2017")}();const Aa="analytics",th="firebase_id",jo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sc="https://www.googletagmanager.com/gtag/js",Gn=new re.Yd("@firebase/analytics");function Tc(S){return Promise.all(S.map(T=>T.catch(R=>R)))}function xc(S,T){const R=document.createElement("script");R.src=`${Sc}?l=${S}&id=${T}`,R.async=!0,document.head.appendChild(R)}function Hf(S,T,R,H,te,le){return Go.apply(this,arguments)}function Go(){return(Go=(0,B.Z)(function*(S,T,R,H,te,le){const Ie=H[te];try{if(Ie)yield T[Ie];else{const lt=(yield Tc(R)).find(It=>It.measurementId===te);lt&&(yield T[lt.appId])}}catch(Pe){Gn.error(Pe)}S("config",te,le)})).apply(this,arguments)}function ka(S,T,R,H,te){return zo.apply(this,arguments)}function zo(){return(zo=(0,B.Z)(function*(S,T,R,H,te){try{let le=[];if(te&&te.send_to){let Ie=te.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Pe=yield Tc(R);for(const lt of Ie){const It=Pe.find(gt=>gt.measurementId===lt),Tt=It&&T[It.appId];if(!Tt){le=[];break}le.push(Tt)}}0===le.length&&(le=Object.values(T)),yield Promise.all(le),S("event",H,te||{})}catch(le){Gn.error(le)}})).apply(this,arguments)}function ih(){const S=window.document.getElementsByTagName("script");for(const T of Object.values(S))if(T.src&&T.src.includes(Sc))return T;return null}const wi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tl=new class us{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function sh(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function xl(S){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,B.Z)(function*(S){var T;const{appId:R,apiKey:H}=S,te={method:"GET",headers:sh(H)},le=jo.replace("{app-id}",R),Ie=yield fetch(le,te);if(200!==Ie.status&&304!==Ie.status){let Pe="";try{const lt=yield Ie.json();null!==(T=lt.error)&&void 0!==T&&T.message&&(Pe=lt.error.message)}catch{}throw wi.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Pe})}return Ie.json()})).apply(this,arguments)}function Kn(S){return jr.apply(this,arguments)}function jr(){return(jr=(0,B.Z)(function*(S,T=Tl,R){const{appId:H,apiKey:te,measurementId:le}=S.options;if(!H)throw wi.create("no-app-id");if(!te){if(le)return{measurementId:le,appId:H};throw wi.create("no-api-key")}const Ie=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new Rc;return setTimeout((0,B.Z)(function*(){Pe.abort()}),void 0!==R?R:6e4),Ac({appId:H,apiKey:te,measurementId:le},Ie,Pe,T)})).apply(this,arguments)}function Ac(S,T,R){return $o.apply(this,arguments)}function $o(){return($o=(0,B.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:R},H,te=Tl){var le,Ie;const{appId:Pe,measurementId:lt}=S;try{yield Ml(H,T)}catch(It){if(lt)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${null===(le=It)||void 0===le?void 0:le.message}]`),{appId:Pe,measurementId:lt};throw It}try{const It=yield xl(S);return te.deleteThrottleMetadata(Pe),It}catch(It){const Tt=It;if(!kc(Tt)){if(te.deleteThrottleMetadata(Pe),lt)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${Tt?.message}]`),{appId:Pe,measurementId:lt};throw It}const gt=503===Number(null===(Ie=Tt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,ce.$s)(R,te.intervalMillis,30):(0,ce.$s)(R,te.intervalMillis),Pn={throttleEndTimeMillis:Date.now()+gt,backoffCount:R+1};return te.setThrottleMetadata(Pe,Pn),Gn.debug(`Calling attemptFetch again in ${gt} millis`),Ac(S,Pn,H,te)}})).apply(this,arguments)}function Ml(S,T){return new Promise((R,H)=>{const te=Math.max(T-Date.now(),0),le=setTimeout(R,te);S.addEventListener(()=>{clearTimeout(le),H(wi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function kc(S){if(!(S instanceof ce.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Rc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let so,kl;function oo(){return(oo=(0,B.Z)(function*(S,T,R,H,te){if(te&&te.global)S("event",R,H);else{const le=yield T;S("event",R,Object.assign(Object.assign({},H),{send_to:le}))}})).apply(this,arguments)}function Zo(S){kl=S}function Hu(S){so=S}function Os(){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,B.Z)(function*(){var S;if(!(0,ce.hl)())return Gn.warn(wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(T){return Gn.warn(wi.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Pa(){return(Pa=(0,B.Z)(function*(S,T,R,H,te,le,Ie){var Pe;const lt=Kn(S);lt.then(Ai=>{R[Ai.measurementId]=Ai.appId,S.options.measurementId&&Ai.measurementId!==S.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>Gn.error(Ai)),T.push(lt);const It=Os().then(Ai=>{if(Ai)return H.getId()}),[Tt,gt]=yield Promise.all([lt,It]);ih()||xc(le,Tt.measurementId),kl&&(te("consent","default",kl),Zo(void 0)),te("js",new Date);const Pn=null!==(Pe=Ie?.config)&&void 0!==Pe?Pe:{};return Pn.origin="firebase",Pn.update=!0,null!=gt&&(Pn[th]=gt),te("config",Tt.measurementId,Pn),so&&(te("set",so),Hu(void 0)),Tt.measurementId})).apply(this,arguments)}class Fc{constructor(T){this.app=T}_delete(){return delete dr[this.app.options.appId],Promise.resolve()}}let dr={},ao=[];const Na={};let La,Wo,Fa="dataLayer",Rl=!1;function hv(S,T,R){!function pg(){const S=[];if((0,ce.ru)()&&S.push("This is a browser extension environment."),(0,ce.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map((H,te)=>`(${te+1}) ${H}`).join(" "),R=wi.create("invalid-analytics-context",{errorInfo:T});Gn.warn(R.message)}}();const H=S.options.appId;if(!H)throw wi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw wi.create("no-api-key");Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dr[H])throw wi.create("already-exists",{id:H});if(!Rl){!function nh(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(Fa);const{wrappedGtag:le,gtagCore:Ie}=function Dl(S,T,R,H,te){let le=function(...Ie){window[H].push(arguments)};return window[te]&&"function"==typeof window[te]&&(le=window[te]),window[te]=function Mc(S,T,R,H){function le(){return(le=(0,B.Z)(function*(Ie,Pe,lt){try{"event"===Ie?yield ka(S,T,R,Pe,lt):"config"===Ie?yield Hf(S,T,R,H,Pe,lt):"consent"===Ie?S("consent","update",lt):S("set",Pe)}catch(It){Gn.error(It)}})).apply(this,arguments)}return function te(Ie,Pe,lt){return le.apply(this,arguments)}}(le,S,T,R),{gtagCore:le,wrappedGtag:window[te]}}(dr,ao,Na,Fa,"gtag");Wo=le,La=Ie,Rl=!0}return dr[H]=function Oa(S,T,R,H,te,le,Ie){return Pa.apply(this,arguments)}(S,ao,Na,T,La,Fa,R),new Fc(S)}function pv(){return jf.apply(this,arguments)}function jf(){return(jf=(0,B.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function Sn(){(0,de._registerComponent)(new pe.wA(Aa,(T,{options:R})=>hv(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new pe.wA("analytics-internal",function S(T){try{const R=T.getProvider(Aa).getImmediate();return{logEvent:(H,te,le)=>function tn(S,T,R,H){S=(0,ce.m9)(S),function oh(S,T,R,H,te){return oo.apply(this,arguments)}(Wo,dr[S.app.options.appId],T,R,H).catch(te=>Gn.error(te))}(R,H,te,le)}}catch(R){throw wi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Xe,"0.8.0"),(0,de.registerVersion)(Xe,"0.8.0","esm2017")}();var Gr=V(4408),On=V(7565);const Bc=new class lo extends On.v{}(class Ol extends Gr.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,R,H):T.flush(this)}});var ju=V(4986),Pl=V(8505),Yo=V(5363),Ps=V(9468);const qe=new a.GfV("7.4.1"),Nl="__angularfire_symbol__analyticsIsSupportedValue",co="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",Ua="__angularfire_symbol__remoteConfigIsSupported",wn="__angularfire_symbol__messagingIsSupportedValue",Gu="__angularfire_symbol__messagingIsSupported";function Fl(S,T,R){if(T){if(1===T.length)return T[0];const le=T.filter(Ie=>Ie.app===R);if(1===le.length)return le[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[co]||(globalThis[co]=pv().then(S=>globalThis[Nl]=S).catch(()=>globalThis[Nl]=!1)),globalThis[Gu]||(globalThis[Gu]=Nu().then(S=>globalThis[wn]=S).catch(()=>globalThis[wn]=!1)),globalThis[Ua]||(globalThis[Ua]=cc().then(S=>globalThis[Va]=S).catch(()=>globalThis[Va]=!1));const ds=(S,T)=>{const R=T?[T]:(0,ie.C6)(),H=[];return R.forEach(te=>{te.container.getProvider(S).instances.forEach(Ie=>{H.includes(Ie)||H.push(Ie)})}),H};function Sr(){}class hr{constructor(T,R=Bc){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,H){const te=this.zone;return this.delegate.schedule(function(Ie){te.runGuarded(()=>{T.apply(this,[Ie])})},R,H)}}class $u{constructor(T){this.zone=T,this.task=null}call(T,R){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sr,{},Sr,Sr)),R.pipe((0,Pl.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Li=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new hr(Zone.current)),this.insideAngular=R.run(()=>new hr(Zone.current,ju.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(a.LFG(a.R0b))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Yi(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ln(S){return S.pipe((0,Yo.Q)(Yi().outsideAngular))}function Ns(S){return Yi(),function xn(S){return function(R){return(R=R.lift(new $u(S.ngZone))).pipe((0,Ps.R)(S.outsideAngular),(0,Yo.Q)(S.insideAngular))}}(Yi())(S)}},2090:(ht,xe,V)=>{V.d(xe,{$s:()=>Ds,BH:()=>Ge,DV:()=>Ft,Dv:()=>br,G6:()=>Ze,GJ:()=>rn,L:()=>me,LL:()=>Be,Mn:()=>Se,Pz:()=>zt,Sg:()=>Re,UG:()=>be,UI:()=>Ea,US:()=>pe,Wj:()=>ni,Yr:()=>ze,ZB:()=>Z,ZR:()=>ae,b$:()=>ut,cI:()=>Qt,d:()=>ke,dS:()=>vt,eu:()=>ve,g5:()=>B,gK:()=>lr,gQ:()=>vr,h$:()=>re,hl:()=>z,hu:()=>ie,jU:()=>_e,lb:()=>En,m9:()=>sn,ne:()=>Da,p$:()=>$,pd:()=>or,r3:()=>zi,ru:()=>rt,tV:()=>ye,uI:()=>ot,ug:()=>ft,vZ:()=>rr,w1:()=>Ce,w9:()=>nn,xO:()=>Ks,xb:()=>dn,z$:()=>Ee,zI:()=>J,zd:()=>ss});const ie=function(X,q){if(!X)throw B(q)},B=function(X){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+X)},de=function(X){const q=[];let j=0;for(let W=0;W<X.length;W++){let K=X.charCodeAt(W);K<128?q[j++]=K:K<2048?(q[j++]=K>>6|192,q[j++]=63&K|128):55296==(64512&K)&&W+1<X.length&&56320==(64512&X.charCodeAt(W+1))?(K=65536+((1023&K)<<10)+(1023&X.charCodeAt(++W)),q[j++]=K>>18|240,q[j++]=K>>12&63|128,q[j++]=K>>6&63|128,q[j++]=63&K|128):(q[j++]=K>>12|224,q[j++]=K>>6&63|128,q[j++]=63&K|128)}return q},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,q){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let K=0;K<X.length;K+=3){const Me=X[K],$e=K+1<X.length,pt=$e?X[K+1]:0,Dn=K+2<X.length,an=Dn?X[K+2]:0;let Lt=(15&pt)<<2|an>>6,An=63&an;Dn||(An=64,$e||(Lt=64)),W.push(j[Me>>2],j[(3&Me)<<4|pt>>4],j[Lt],j[An])}return W.join("")},encodeString(X,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(X):this.encodeByteArray(de(X),q)},decodeString(X,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(X):function(X){const q=[];let j=0,W=0;for(;j<X.length;){const K=X[j++];if(K<128)q[W++]=String.fromCharCode(K);else if(K>191&&K<224){const Me=X[j++];q[W++]=String.fromCharCode((31&K)<<6|63&Me)}else if(K>239&&K<365){const Dn=((7&K)<<18|(63&X[j++])<<12|(63&X[j++])<<6|63&X[j++])-65536;q[W++]=String.fromCharCode(55296+(Dn>>10)),q[W++]=String.fromCharCode(56320+(1023&Dn))}else{const Me=X[j++],$e=X[j++];q[W++]=String.fromCharCode((15&K)<<12|(63&Me)<<6|63&$e)}}return q.join("")}(this.decodeStringToByteArray(X,q))},decodeStringToByteArray(X,q){this.init_();const j=q?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let K=0;K<X.length;){const Me=j[X.charAt(K++)],pt=K<X.length?j[X.charAt(K)]:0;++K;const an=K<X.length?j[X.charAt(K)]:64;++K;const $t=K<X.length?j[X.charAt(K)]:64;if(++K,null==Me||null==pt||null==an||null==$t)throw Error();W.push(Me<<2|pt>>4),64!==an&&(W.push(pt<<4&240|an>>2),64!==$t&&W.push(an<<6&192|$t))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}},re=function(X){const q=de(X);return pe.encodeByteArray(q,!0)},me=function(X){return re(X).replace(/\./g,"")},ye=function(X){try{return pe.decodeString(X,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function $(X){return Z(void 0,X)}function Z(X,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return q}for(const j in q)!q.hasOwnProperty(j)||!ee(j)||(X[j]=Z(X[j],q[j]));return X}function ee(X){return"__proto__"!==X}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,j)=>{this.resolve=q,this.reject=j})}wrapCallback(q){return(j,W)=>{j?this.reject(j):this.resolve(W),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(j):q(j,W))}}}function Re(X,q){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=q||"demo-project",K=X.iat||0,Me=X.sub||X.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:K,exp:K+3600,auth_time:K,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},X);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify($e)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function rt(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ee().indexOf("Electron/")>=0}function Ce(){const X=Ee();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Se(){return Ee().indexOf("MSAppHost/")>=0}function ze(){return!1}function Ze(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function ve(){return new Promise((X,q)=>{try{let j=!0;const W="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(W);K.onsuccess=()=>{K.result.close(),j||self.indexedDB.deleteDatabase(W),X(!0)},K.onupgradeneeded=()=>{j=!1},K.onerror=()=>{var Me;q((null===(Me=K.error)||void 0===Me?void 0:Me.message)||"")}}catch(j){q(j)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ae extends Error{constructor(q,j,W){super(j),this.code=q,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(q,j,W){this.service=q,this.serviceName=j,this.errors=W}create(q,...j){const W=j[0]||{},K=`${this.service}/${q}`,Me=this.errors[q],$e=Me?function Fe(X,q){return X.replace(yt,(j,W)=>{const K=q[W];return null!=K?String(K):`<${W}?>`})}(Me,W):"Error";return new ae(K,`${this.serviceName}: ${$e} (${K}).`,W)}}const yt=/\{\$([^}]+)}/g;function Qt(X){return JSON.parse(X)}function zt(X){return JSON.stringify(X)}const Qe=function(X){let q={},j={},W={},K="";try{const Me=X.split(".");q=Qt(ye(Me[0])||""),j=Qt(ye(Me[1])||""),K=Me[2],W=j.d||{},delete j.d}catch{}return{header:q,claims:j,data:W,signature:K}},nn=function(X){const j=Qe(X).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},rn=function(X){const q=Qe(X).claims;return"object"==typeof q&&!0===q.admin};function zi(X,q){return Object.prototype.hasOwnProperty.call(X,q)}function Ft(X,q){if(Object.prototype.hasOwnProperty.call(X,q))return X[q]}function dn(X){for(const q in X)if(Object.prototype.hasOwnProperty.call(X,q))return!1;return!0}function Ea(X,q,j){const W={};for(const K in X)Object.prototype.hasOwnProperty.call(X,K)&&(W[K]=q.call(j,X[K],K,X));return W}function rr(X,q){if(X===q)return!0;const j=Object.keys(X),W=Object.keys(q);for(const K of j){if(!W.includes(K))return!1;const Me=X[K],$e=q[K];if(Ni(Me)&&Ni($e)){if(!rr(Me,$e))return!1}else if(Me!==$e)return!1}for(const K of W)if(!j.includes(K))return!1;return!0}function Ni(X){return null!==X&&"object"==typeof X}function Ks(X){const q=[];for(const[j,W]of Object.entries(X))Array.isArray(W)?W.forEach(K=>{q.push(encodeURIComponent(j)+"="+encodeURIComponent(K))}):q.push(encodeURIComponent(j)+"="+encodeURIComponent(W));return q.length?"&"+q.join("&"):""}function ss(X){const q={};return X.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[K,Me]=W.split("=");q[decodeURIComponent(K)]=decodeURIComponent(Me)}}),q}function or(X){const q=X.indexOf("?");if(!q)return"";const j=X.indexOf("#",q);return X.substring(q,j>0?j:void 0)}class vr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,j){j||(j=0);const W=this.W_;if("string"==typeof q)for(let $t=0;$t<16;$t++)W[$t]=q.charCodeAt(j)<<24|q.charCodeAt(j+1)<<16|q.charCodeAt(j+2)<<8|q.charCodeAt(j+3),j+=4;else for(let $t=0;$t<16;$t++)W[$t]=q[j]<<24|q[j+1]<<16|q[j+2]<<8|q[j+3],j+=4;for(let $t=16;$t<80;$t++){const Lt=W[$t-3]^W[$t-8]^W[$t-14]^W[$t-16];W[$t]=4294967295&(Lt<<1|Lt>>>31)}let an,li,K=this.chain_[0],Me=this.chain_[1],$e=this.chain_[2],pt=this.chain_[3],Dn=this.chain_[4];for(let $t=0;$t<80;$t++){$t<40?$t<20?(an=pt^Me&($e^pt),li=1518500249):(an=Me^$e^pt,li=1859775393):$t<60?(an=Me&$e|pt&(Me|$e),li=2400959708):(an=Me^$e^pt,li=3395469782);const Lt=(K<<5|K>>>27)+an+Dn+li+W[$t]&4294967295;Dn=pt,pt=$e,$e=4294967295&(Me<<30|Me>>>2),Me=K,K=Lt}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Me&4294967295,this.chain_[2]=this.chain_[2]+$e&4294967295,this.chain_[3]=this.chain_[3]+pt&4294967295,this.chain_[4]=this.chain_[4]+Dn&4294967295}update(q,j){if(null==q)return;void 0===j&&(j=q.length);const W=j-this.blockSize;let K=0;const Me=this.buf_;let $e=this.inbuf_;for(;K<j;){if(0===$e)for(;K<=W;)this.compress_(q,K),K+=this.blockSize;if("string"==typeof q){for(;K<j;)if(Me[$e]=q.charCodeAt(K),++$e,++K,$e===this.blockSize){this.compress_(Me),$e=0;break}}else for(;K<j;)if(Me[$e]=q[K],++$e,++K,$e===this.blockSize){this.compress_(Me),$e=0;break}}this.inbuf_=$e,this.total_+=j}digest(){const q=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&j,j/=256;this.compress_(this.buf_);let W=0;for(let K=0;K<5;K++)for(let Me=24;Me>=0;Me-=8)q[W]=this.chain_[K]>>Me&255,++W;return q}}function Da(X,q){const j=new it(X,q);return j.subscribe.bind(j)}class it{constructor(q,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{q(this)}).catch(W=>{this.error(W)})}next(q){this.forEachObserver(j=>{j.next(q)})}error(q){this.forEachObserver(j=>{j.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,j,W){let K;if(void 0===q&&void 0===j&&void 0===W)throw new Error("Missing Observer.");K=function Es(X,q){if("object"!=typeof X||null===X)return!1;for(const j of q)if(j in X&&"function"==typeof X[j])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:j,complete:W},void 0===K.next&&(K.next=Wn),void 0===K.error&&(K.error=Wn),void 0===K.complete&&(K.complete=Wn);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Me}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,q)}sendOne(q,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{j(this.observers[q])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}const br=function(X,q,j,W){let K;if(W<q?K="at least "+q:W>j&&(K=0===j?"none":"no more than "+j),K)throw new Error(X+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+K+".")};function lr(X,q){return`${X} failed: ${q} argument `}function ni(X,q,j,W){if((!W||j)&&"function"!=typeof j)throw new Error(lr(X,q)+"must be a valid function.")}function En(X,q,j,W){if((!W||j)&&("object"!=typeof j||null===j))throw new Error(lr(X,q)+"must be a valid context object.")}const vt=function(X){const q=[];let j=0;for(let W=0;W<X.length;W++){let K=X.charCodeAt(W);if(K>=55296&&K<=56319){const Me=K-55296;W++,ie(W<X.length,"Surrogate pair missing trail surrogate."),K=65536+(Me<<10)+(X.charCodeAt(W)-56320)}K<128?q[j++]=K:K<2048?(q[j++]=K>>6|192,q[j++]=63&K|128):K<65536?(q[j++]=K>>12|224,q[j++]=K>>6&63|128,q[j++]=63&K|128):(q[j++]=K>>18|240,q[j++]=K>>12&63|128,q[j++]=K>>6&63|128,q[j++]=63&K|128)}return q},ft=function(X){let q=0;for(let j=0;j<X.length;j++){const W=X.charCodeAt(j);W<128?q++:W<2048?q+=2:W>=55296&&W<=56319?(q+=4,j++):q+=3}return q};function Ds(X,q=1e3,j=2){const W=q*Math.pow(j,X),K=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+K)}function sn(X){return X&&X._delegate?X._delegate:X}},4462:(ht,xe,V)=>{var a=V(4650);let ie=null;function B(){return ie}const re=new a.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ye(){return(0,a.LFG)(Z)}()},providedIn:"platform"}),n})();const $=new a.OlP("Location Initialized");let Z=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ee()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ee()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ge(){return new Z((0,a.LFG)(re))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(rt)},providedIn:"root"}),n})();const _e=new a.OlP("appBaseHref");let rt=(()=>{class n extends be{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+ot(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+ot(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ut=(()=>{class n extends be{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Re(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+ot(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+ot(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ee(ze(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ot(i))}normalize(t){return n.stripTrailingSlash(function Se(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ot,n.joinWithSlash=Re,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(a.LFG(be))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ce(){return new ke((0,a.LFG)(be))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function pl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let hn=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ml{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oo=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ml(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),eo(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{eo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function eo(n,e){n.context.$implicit=e.item}let bn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new gu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class gu{constructor(){this.$implicit=null,this.ngIf=null}}function bi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Zi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ia=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Po=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Zi(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ia,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),$d=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),c=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class qd{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class ag{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Is=new ag,lg=new qd;let bu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return Is;if((0,a.F4k)(t))return lg;throw function ui(n,e){return new a.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),xi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const xs="browser";function Mi(n){return"server"===n}let dc=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Bf((0,a.LFG)(re),window)}),n})();class Bf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Wi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Er(this.window.history)||Er(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Er(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fo{}class Uo extends class Xd extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){ie||(ie=n)}(new Uo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dc(){return Ho=Ho||document.querySelector("base"),Ho?Ho.getAttribute("href"):null}();return null==t?null:function ur(n){di=di||document.createElement("a"),di.setAttribute("href",n);const e=di.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pl(document.cookie,e)}}let di,Ho=null;const Tn=new a.OlP("TRANSITION_ID"),Fu=[{provide:a.ip1,useFactory:function Nu(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Tn,re,a.zs3],multi:!0}];let Lu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ic=new a.OlP("EventManagerPlugins");let Jd=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ic),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Bu{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let xa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ma=(()=>{class n extends xa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(eh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eh))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function eh(n){B().remove(n)}const Aa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},th=/%COMP%/g;function xc(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?xc(n,r,t):(r=r.replace(th,n),t.push(r))}return t}function nh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Go=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ka(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ih(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new rh(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=xc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Jd),a.LFG(Ma),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ka{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Aa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Dl(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Dl(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Aa[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Aa[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nh(i)):this.eventManager.addEventListener(e,t,nh(i))}}function Dl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ih extends ka{constructor(e,t,i,r){super(e),this.component=i;const s=xc(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Gn(n){return"_ngcontent-%COMP%".replace(th,n)}(r+"-"+i.id),this.hostAttr=function Tc(n){return"_nghost-%COMP%".replace(th,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class rh extends ka{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=xc(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wi=(()=>{class n extends Bu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=["alt","control","meta","shift"],Sl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tl=(()=>{class n extends Bu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Il.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),c+=y+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=Sl[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Il.forEach(c=>{c!==r&&(0,us[c])(t)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Rc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:xs},{provide:a.g9A,useValue:function Ac(){Uo.makeCurrent()},multi:!0},{provide:re,useFactory:function Ml(){return(0,a.RDi)(document),document},deps:[]}]),so=new a.OlP(""),oh=[{provide:a.rWj,useClass:class Uf{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],oo=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function $o(){return new a.qLn},deps:[]},{provide:Ic,useClass:wi,multi:!0,deps:[re,a.R0b,a.Lbi]},{provide:Ic,useClass:Tl,multi:!0,deps:[re]},{provide:Go,useClass:Go,deps:[Jd,Ma,a.AFp]},{provide:a.FYo,useExisting:Go},{provide:xa,useExisting:Ma},{provide:Ma,useClass:Ma,deps:[re]},{provide:Jd,useClass:Jd,deps:[Ic,a.R0b]},{provide:Fo,useClass:Lu,deps:[]},[]];let Oc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Tn,useExisting:a.AFp},Fu]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(so,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...oo,...oh],imports:[xi,a.hGG]}),n})(),Rs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ra(){return new Rs((0,a.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ba=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):a.LFG(_g),i},providedIn:"root"}),n})(),_g=(()=>{class n extends Ba{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function gg(n){return new _g(n.get(re))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var tn=V(8996),Ir=V(3269);function Xe(...n){const e=(0,Ir.yG)(n);return(0,tn.D)(n,e)}var wt=V(7579);class Sn extends wt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Ol=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var On=V(9751);const{isArray:lo}=Array,{getPrototypeOf:Bc,prototype:yg,keys:ju}=Object;function Pl(n){if(1===n.length){const e=n[0];if(lo(e))return{args:e,keys:null};if(function Yo(n){return n&&"object"==typeof n&&Bc(n)===yg}(e)){const t=ju(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ps=V(4671),qe=V(4004);const{isArray:Nl}=Array;function Va(n){return(0,qe.U)(e=>function co(n,e){return Nl(e)?n(...e):n(e)}(n,e))}function Ua(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var wn=V(5403),Gu=V(9672);function uo(...n){const e=(0,Ir.yG)(n),t=(0,Ir.jO)(n),{args:i,keys:r}=Pl(n);if(0===i.length)return(0,tn.D)([],e);const s=new On.y(function vg(n,e,t=Ps.y){return i=>{zu(e,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)zu(e,()=>{const y=(0,tn.D)(n[p],e);let w=!1;y.subscribe((0,wn.x)(i,D=>{s[p]=D,w||(w=!0,d--),d||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Ua(r,c):Ps.y));return t?s.pipe(Va(t)):s}function zu(n,e,t){n?(0,Gu.f)(t,n,e):e()}var Vc=V(8189);function ds(...n){return function Fl(){return(0,Vc.J)(1)}()((0,tn.D)(n,(0,Ir.yG)(n)))}var Sr=V(8421);function hr(n){return new On.y(e=>{(0,Sr.Xf)(n()).subscribe(e)})}var $u=V(9635),Li=V(576);function Yi(n,e){const t=(0,Li.m)(n)?n:()=>n,i=r=>r.error(t());return new On.y(e?r=>e.schedule(i,0,r):i)}var hs=V(515),Qn=V(727),Ln=V(4482);function ho(){return(0,Ln.e)((n,e)=>{let t=null;n._refCount++;const i=(0,wn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ns extends On.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qn.w0.EMPTY)}return e}refCount(){return ho()(this)}}function xn(n,e){return(0,Ln.e)((t,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();t.subscribe((0,wn.x)(i,p=>{r?.unsubscribe();let y=0;const w=s++;(0,Sr.Xf)(n(p,w)).subscribe(r=(0,wn.x)(i,D=>i.next(e?e(p,D,w,y++):D),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function Vt(n){return n<=0?()=>hs.E:(0,Ln.e)((e,t)=>{let i=0;e.subscribe((0,wn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Bi(...n){const e=(0,Ir.yG)(n);return(0,Ln.e)((t,i)=>{(e?ds(n,t,e):ds(n,t)).subscribe(i)})}function S(n,e){return(0,Ln.e)((t,i)=>{let r=0;t.subscribe((0,wn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var T=V(5577);function R(n){return(0,Ln.e)((e,t)=>{let i=!1;e.subscribe((0,wn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function H(n=te){return(0,Ln.e)((e,t)=>{let i=!1;e.subscribe((0,wn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function te(){return new Ol}function le(n,e){const t=arguments.length>=2;return i=>i.pipe(n?S((r,s)=>n(r,s,i)):Ps.y,Vt(1),t?R(e):H(()=>new Ol))}function Ie(n,e){return(0,Li.m)(e)?(0,T.z)(n,e,1):(0,T.z)(n,1)}var Pe=V(8505);function lt(n){return(0,Ln.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,wn.x)(t,void 0,void 0,c=>{s=(0,Sr.Xf)(n(c,lt(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function It(n,e,t,i,r){return(s,c)=>{let d=t,p=e,y=0;s.subscribe((0,wn.x)(c,w=>{const D=y++;p=d?n(p,w,D):(d=!0,w),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function Tt(n,e){return(0,Ln.e)(It(n,e,arguments.length>=2,!0))}function gt(n){return n<=0?()=>hs.E:(0,Ln.e)((e,t)=>{let i=[];e.subscribe((0,wn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Pn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?S((r,s)=>n(r,s,i)):Ps.y,gt(1),t?R(e):H(()=>new Ol))}function Ko(n){return(0,qe.U)(()=>n)}function fs(n){return(0,Ln.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const kt="primary",ps=Symbol("RouteTitle");class fo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Tr(n){return new fo(n)}function Ha(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Gf(n[r],e[r]))return!1;return!0}function Gf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function bg(n){return Array.prototype.concat.apply([],n)}function wg(n){return n.length>0?n[n.length-1]:null}function hi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ms(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,tn.D)(Promise.resolve(n)):Xe(n)}const ZC={exact:function Eg(n,e,t){if(!Jo(n.segments,e.segments)||!Xo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Eg(n.children[i],e.children[i],t))return!1;return!0},subset:Ll},$f={exact:function qf(n,e){return zr(n,e)},subset:function Dg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gf(n[t],e[t]))},ignored:()=>!0};function gv(n,e,t){return ZC[t.paths](n.root,e.root,t.matrixParams)&&$f[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ll(n,e,t){return lh(n,e,e.segments,t)}function lh(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Jo(r,t)||e.hasChildren()||!Xo(r,t,i))}if(n.segments.length===t.length){if(!Jo(n.segments,t)||!Xo(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ll(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Jo(n.segments,r)&&Xo(n.segments,r,i)&&n.children[kt])&&lh(n.children[kt],e,s,i)}}function Xo(n,e,t){return e.every((i,r)=>$f[t](n[r].parameters,i.parameters))}class Bl{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return ea.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}}class ch{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Tr(this.parameters)),this._parameterMap}toString(){return Yf(this)}}function Jo(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new uh},providedIn:"root"}),n})();class uh{parse(e){const t=new Ev(e);return new Bl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vl(e.root,!0)}`,i=function vv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Zu(t)}=${Zu(r)}`).join("&"):`${Zu(t)}=${Zu(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function _v(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ea=new uh;function dh(n){return n.segments.map(e=>Yf(e)).join("/")}function Vl(n,e){if(!n.hasChildren())return dh(n);if(e){const t=n.children[kt]?Vl(n.children[kt],!1):"",i=[];return hi(n.children,(r,s)=>{s!==kt&&i.push(`${s}:${Vl(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Ig(n,e){let t=[];return hi(n.children,(i,r)=>{r===kt&&(t=t.concat(e(i,r)))}),hi(n.children,(i,r)=>{r!==kt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===kt?[Vl(n.children[kt],!1)]:[`${r}:${Vl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${dh(n)}/${t[0]}`:`${dh(n)}/(${t.join("//")})`}}function Sg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(n){return Sg(n).replace(/%3B/gi,";")}function $r(n){return Sg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ta(n){return decodeURIComponent(n)}function Wf(n){return ta(n.replace(/\+/g,"%20"))}function Yf(n){return`${$r(n.path)}${function yv(n){return Object.keys(n).map(e=>`;${$r(e)}=${$r(n[e])}`).join("")}(n.parameters)}`}const bv=/^[^\/()?;=#]+/;function Kf(n){const e=n.match(bv);return e?e[0]:""}const ja=/^[^=?&#]+/,Cv=/^[^&#]+/;class Ev{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[kt]=new Zt(e,t)),i}parseSegment(){const e=Kf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new ch(ta(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Kf(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Kf(this.remaining);r&&(i=r,this.capture(i))}e[ta(t)]=ta(i)}parseQueryParam(e){const t=function wv(n){const e=n.match(ja);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Qf(n){const e=n.match(Cv);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Wf(t),s=Wf(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Kf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=kt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[kt]:new Zt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function na(n){return n.segments.length>0?new Zt([],{[kt]:n}):n}function Wu(n){const e={};for(const i of Object.keys(n.children)){const s=Wu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function po(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function qr(n){return n instanceof Bl}function YC(n,e,t,i,r){if(0===t.length)return Ga(e.root,e.root,e.root,i,r);const s=function Iv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xf(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return hi(s.outlets,(p,y)=>{d[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Xf(t,e,i)}(t);return s.toRoot()?Ga(e.root,e.root,new Zt([],{}),i,r):function c(p){const y=function ep(n,e,t,i){if(n.isAbsolute)return new Hl(e.root,!0,0);if(-1===i)return new Hl(t,t===e.root,0);return function Tg(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new Hl(i,!1,r-s)}(t,i+(ph(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),w=y.processChildren?za(y.segmentGroup,y.index,s.commands):jl(y.segmentGroup,y.index,s.commands);return Ga(e.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function ph(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ul(n){return"object"==typeof n&&null!=n&&n.outlets}function Ga(n,e,t,i,r){let c,s={};i&&hi(i,(p,y)=>{s[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),c=n===e?t:Yu(n,e,t);const d=na(Wu(c));return new Bl(d,s,r)}function Yu(n,e,t){const i={};return hi(n.children,(r,s)=>{i[s]=r===e?t:Yu(r,e,t)}),new Zt(n.segments,i)}class Xf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ph(i[0]))throw new a.vHH(4003,!1);const r=i.find(Ul);if(r&&r!==wg(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function jl(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return za(n,e,t);const i=function xg(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(Ul(d))break;const p=`${d}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!Ag(p,y,c))return s;i+=2}else{if(!Ag(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Zt(n.segments.slice(0,i.pathIndex),{});return s.children[kt]=new Zt(n.segments.slice(i.pathIndex),n.children),za(s,0,r)}return i.match&&0===r.length?new Zt(n.segments,{}):i.match&&!n.hasChildren()?Ku(n,e,t):i.match?za(n,0,r):Ku(n,e,t)}function za(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const i=function Sv(n){return Ul(n[0])?n[0].outlets:{[kt]:n}}(t),r={};return hi(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=jl(n.children[c],e,s))}),hi(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new Zt(n.segments,r)}}function Ku(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Ul(s)){const p=Mg(s.outlets);return new Zt(i,p)}if(0===r&&ph(t[0])){i.push(new ch(n.segments[e].path,Xn(t[0]))),r++;continue}const c=Ul(s)?s.outlets[kt]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&ph(d)?(i.push(new ch(c,Xn(d))),r+=2):(i.push(new ch(c,{})),r++)}return new Zt(i,{})}function Mg(n){const e={};return hi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Ku(new Zt([],{}),0,t))}),e}function Xn(n){const e={};return hi(n,(t,i)=>e[i]=`${t}`),e}function Ag(n,e,t){return n==t.path&&zr(e,t.parameters)}class ia{constructor(e,t){this.id=e,this.url=t}}class Qu extends ia{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends ia{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mh extends ia{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tp extends ia{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tv extends ia{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xv extends ia{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mv extends ia{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KC extends ia{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Av extends ia{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xu{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class np{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ju{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Rg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ed(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ed(e,this._root).map(t=>t.value)}}function Rg(n,e){if(n===e.value)return e;for(const t of e.children){const i=Rg(n,t);if(i)return i}return null}function ed(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ed(n,t);if(i.length)return i.unshift(e),i}return[]}class Zr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _h extends Ju{constructor(e,t){super(e),this.snapshot=t,Jn(this,e)}toString(){return this.snapshot.toString()}}function $a(n,e){const t=function qa(n,e){const c=new Hc([],{},{},"",{},kt,e,null,n.root,-1,{});return new jc("",new Zr(c,[]))}(n,e),i=new Sn([new ch("",{})]),r=new Sn({}),s=new Sn({}),c=new Sn({}),d=new Sn(""),p=new Fs(i,r,c,d,s,kt,e,t.root);return p.snapshot=t.root,new _h(new Zr(p,[]),t)}class Fs{constructor(e,t,i,r,s,c,d,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,qe.U)(y=>y[ps]))??Xe(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(e=>Tr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(e=>Tr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function td(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Rv(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Hc{constructor(e,t,i,r,s,c,d,p,y,w,D,k){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.[ps],this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=w,this._correctedLastPathIndex=k??w,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jc extends Ju{constructor(e,t){super(t),this.url=e,Jn(this,t)}toString(){return nd(this._root)}}function Jn(n,e){e.value._routerState=n,e.children.forEach(t=>Jn(n,t))}function nd(n){const e=n.children.length>0?` { ${n.children.map(nd).join(", ")} } `:"";return`${n.value}${e}`}function $l(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zr(e.params,t.params)||n.params.next(t.params),function Qo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ip(n,e){const t=zr(n.params,e.params)&&function qu(n,e){return Jo(n,e)&&n.every((t,i)=>zr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ip(n.parent,e.parent))}function mo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ql(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mo(n,i,r);return mo(n,i)})}(n,e,t);return new Zr(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>mo(n,d)),c}}const i=function Og(n){return new Fs(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>mo(n,s));return new Zr(i,r)}}const rp="ngNavigationCancelingError";function yh(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Pg(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Pg(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[rp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function vh(n){return Ng(n)&&qr(n.url)}function Ng(n){return n&&n[rp]}class Fg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new v,this.attachRef=null}}let v=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Fg,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m=!1;let _=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=r||kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,m);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,m);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,m);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,m);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new C(t,d,r.injector);if(i&&function M(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(v),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class C{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Fs?this.route:e===v?this.childContexts:this.parent.get(e,t)}}let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},dependencies:[_],encapsulation:2}),n})();function Q(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rd(n){const e=n.children&&n.children.map(rd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=N),t}function Ki(n){return n.outlet||kt}function sp(n,e){const t=n.filter(i=>Ki(i)===e);return t.push(...n.filter(i=>Ki(i)!==e)),t}function Gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ov{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),$l(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=zl(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),hi(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=zl(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=zl(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=zl(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new kv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kg(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if($l(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),$l(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=Gc(r.snapshot),p=d?.get(a._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Lg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Za{constructor(e,t){this.component=e,this.route=t}}function Pv(n,e,t){const i=n._root;return bh(i,e?e._root:null,t,[i.value])}function Zl(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function bh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=zl(e);return n.children.forEach(c=>{(function VF(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Nx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ip(n,e)||!zr(n.queryParams,e.queryParams);default:return!ip(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Lg(i)):(s.data=c.data,s._resolvedData=c._resolvedData),bh(n,e,s.component?d?d.children:null:t,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Za(d.outlet.component,c))}else c&&wh(e,d,r),r.canActivateChecks.push(new Lg(i)),bh(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),hi(s,(c,d)=>wh(c,t.getContext(d),r)),r}function wh(n,e,t){const i=zl(n),r=n.value;hi(i,(s,c)=>{wh(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Za(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function od(n){return"function"==typeof n}function Lv(n){return n instanceof Ol||"EmptyError"===n?.name}const Vg=Symbol("INITIAL_VALUE");function ad(){return xn(n=>uo(n.map(e=>e.pipe(Vt(1),Bi(Vg)))).pipe((0,qe.U)(e=>{for(const t of e)if(!0!==t){if(t===Vg)return Vg;if(!1===t||t instanceof Bl)return t}return!0}),S(e=>e!==Vg),Vt(1)))}function nE(n){return(0,$u.z)((0,Pe.b)(e=>{if(qr(e))throw yh(0,e)}),(0,qe.U)(e=>!0===e))}const pr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ug(n,e,t,i,r){const s=Hg(n,e,t);return s.matched?function $x(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Xe(r.map(c=>{const d=Zl(c,n);return ms(function Fv(n){return n&&od(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(ad(),nE()):Xe(!0)}(i=Q(e,i),e,t).pipe((0,qe.U)(c=>!0===c?s:{...pr})):Xe(s)}function Hg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...pr}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Ha)(t,n,e);if(!r)return{...pr};const s={};hi(r.posParams,(d,p)=>{s[p]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Ch(n,e,t,i,r="corrected"){if(t.length>0&&function Vv(n,e,t){return t.some(i=>jg(n,e,i)&&Ki(i)!==kt)}(n,t,i)){const c=new Zt(e,function op(n,e,t,i){const r={};r[kt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ki(s)!==kt){const c=new Zt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Ki(s)]=c}return r}(n,e,i,new Zt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function qx(n,e,t){return t.some(i=>jg(n,e,i))}(n,t,i)){const c=new Zt(n.segments,function xr(n,e,t,i,r,s){const c={};for(const d of i)if(jg(n,t,d)&&!r[Ki(d)]){const p=new Zt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[Ki(d)]=p}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Zt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function jg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uv(n,e,t,i){return!!(Ki(n)===i||i!==kt&&jg(e,t,n))&&("**"===n.path||Hg(e,n,t).matched)}function iE(n,e,t){return 0===e.length&&!n.children[t]}const ap=!1;class Gg{constructor(e){this.segmentGroup=e||null}}class Hv{constructor(e){this.urlTree=e}}function lp(n){return Yi(new Gg(n))}function rE(n){return Yi(new Hv(n))}class Eh{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Ch(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,kt).pipe((0,qe.U)(s=>this.createUrlTree(Wu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lt(s=>{if(s instanceof Hv)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Gg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,kt).pipe((0,qe.U)(r=>this.createUrlTree(Wu(r),e.queryParams,e.fragment))).pipe(lt(r=>{throw r instanceof Gg?this.noMatchError(r):r}))}noMatchError(e){return new a.vHH(4002,ap)}createUrlTree(e,t,i){const r=na(e);return new Bl(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,qe.U)(s=>new Zt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,tn.D)(r).pipe(Ie(s=>{const c=i.children[s],d=sp(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,qe.U)(p=>({segment:p,outlet:s})))}),Tt((s,c)=>(s[c.outlet]=c.segment,s),{}),Pn())}expandSegment(e,t,i,r,s,c){return(0,tn.D)(i).pipe(Ie(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe(lt(y=>{if(y instanceof Gg)return Xe(null);throw y}))),le(d=>!!d),lt((d,p)=>{if(Lv(d))return iE(t,r,s)?Xe(new Zt([],{})):lp(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return Uv(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):lp(t):lp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rE(s):this.lineralizeSegments(i,s).pipe((0,T.z)(c=>{const d=new Zt(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=Hg(t,r,s);if(!d)return lp(t);const D=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?rE(D):this.lineralizeSegments(r,D).pipe((0,T.z)(k=>this.expandSegment(e,t,i,k.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=Q(i,e),i.loadChildren?(i._loadedRoutes?Xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,qe.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Zt(r,{})))):Xe(new Zt(r,{}))):Ug(t,i,r,e).pipe(xn(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,T.z)(w=>{const D=w.injector??e,k=w.routes,{segmentGroup:P,slicedSegments:F}=Ch(t,d,p,k),G=new Zt(P.segments,P.children);if(0===F.length&&G.hasChildren())return this.expandChildren(D,k,G).pipe((0,qe.U)(Ye=>new Zt(d,Ye)));if(0===k.length&&0===F.length)return Xe(new Zt(d,{}));const ne=Ki(i)===s;return this.expandSegment(D,G,k,F,ne?kt:s,!0).pipe((0,qe.U)(He=>new Zt(d.concat(He.segments),He.children)))})):lp(t)))}getChildConfig(e,t,i){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function tE(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Xe(!0):Xe(r.map(c=>{const d=Zl(c,n);return ms(function JC(n){return n&&od(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(ad(),nE())}(e,t,i).pipe((0,T.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Pe.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Wx(n){return Yi(Pg(ap,3))}())):Xe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[kt])return Yi(new a.vHH(4e3,ap));r=r.children[kt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Bl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return hi(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return hi(t.children,(d,p)=>{c[p]=this.createSegmentGroup(e,d,i,r)}),new Zt(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,ap);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Kx{}class sE{constructor(e,t,i,r,s,c,d,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const e=Ch(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,kt).pipe((0,qe.U)(t=>{if(null===t)return null;const i=new Hc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zr(i,t),s=new jc(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=td(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,tn.D)(Object.keys(i.children)).pipe(Ie(r=>{const s=i.children[r],c=sp(t,r);return this.processSegmentGroup(e,c,s,r)}),Tt((r,s)=>r&&s?(r.push(...s),r):null),function Ai(n,e=!1){return(0,Ln.e)((t,i)=>{let r=0;t.subscribe((0,wn.x)(i,s=>{const c=n(s,r++);(c||e)&&i.next(s),!c&&i.complete()}))})}(r=>null!==r),R(null),Pn(),(0,qe.U)(r=>{if(null===r)return null;const s=$g(r);return function jF(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,tn.D)(t).pipe(Ie(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,s)),le(c=>!!c),lt(c=>{if(Lv(c))return iE(i,r,s)?Xe([]):Xe(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Uv(t,i,r,s))return Xe(null);let c;if("**"===t.path){const d=r.length>0?wg(r).parameters:{},p=oE(i)+r.length;c=Xe({snapshot:new Hc(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aE(t),Ki(t),t.component??t._loadedComponent??null,t,Gv(i),p,lE(t),p),consumedSegments:[],remainingSegments:[]})}else c=Ug(i,t,r,e).pipe((0,qe.U)(({matched:d,consumedSegments:p,remainingSegments:y,parameters:w})=>{if(!d)return null;const D=oE(i)+p.length;return{snapshot:new Hc(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aE(t),Ki(t),t.component??t._loadedComponent??null,t,Gv(i),D,lE(t),D),consumedSegments:p,remainingSegments:y}}));return c.pipe(xn(d=>{if(null===d)return Xe(null);const{snapshot:p,consumedSegments:y,remainingSegments:w}=d;e=t._injector??e;const D=t._loadedInjector??e,k=function Wa(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:F}=Ch(i,y,w,k.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===F.length&&P.hasChildren())return this.processChildren(D,k,P).pipe((0,qe.U)(ne=>null===ne?null:[new Zr(p,ne)]));if(0===k.length&&0===F.length)return Xe([new Zr(p,[])]);const G=Ki(t)===s;return this.processSegment(D,k,P,F,G?kt:s).pipe((0,qe.U)(ne=>null===ne?null:[new Zr(p,ne)]))}))}}function jv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $g(n){const e=[],t=new Set;for(const i of n){if(!jv(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=$g(i.children);e.push(new Zr(i.value,r))}return e.filter(i=>!t.has(i))}function Gv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function oE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function aE(n){return n.data||{}}function lE(n){return n.resolve||{}}function Zv(n){return"string"==typeof n.title||null===n.title}function Wv(n){return xn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,qe.U)(()=>e)):Xe(e)})}let qg=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===kt);return i}getResolvedTitleForRoute(t){return t.data[ps]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(uE)},providedIn:"root"}),n})(),uE=(()=>{class n extends qg{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xx{}class eM extends class Jx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const cp=new a.OlP("",{providedIn:"root",factory:()=>({})}),Wg=new a.OlP("ROUTES");let up=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ms(t.loadComponent()).pipe((0,Pe.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),fs(()=>{this.componentLoaders.delete(t)})),r=new Ns(i,()=>new wt.x).pipe(ho());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,qe.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,w=!1;Array.isArray(d)?y=d:(p=d.create(t).injector,y=bg(p.get(Wg,[],a.XFs.Self|a.XFs.Optional)));return{routes:y.map(rd),injector:p}}),fs(()=>{this.childrenLoaders.delete(i)})),c=new Ns(s,()=>new wt.x).pipe(ho());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return ms(t()).pipe((0,T.z)(i=>i instanceof a.YKP||Array.isArray(i)?Xe(i):(0,tn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nM{}class iM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dE(n){throw n}function ld(n,e,t){return e.parse("/")}const hE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function sM(){const n=(0,a.f3M)(Zf),e=(0,a.f3M)(v),t=(0,a.f3M)(ke),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),s=(0,a.f3M)(Wg,{optional:!0})??[],c=(0,a.f3M)(cp,{optional:!0})??{},d=(0,a.f3M)(uE),p=(0,a.f3M)(qg,{optional:!0}),y=(0,a.f3M)(nM,{optional:!0}),w=(0,a.f3M)(Xx,{optional:!0}),D=new Bn(null,n,e,t,i,r,bg(s));return y&&(D.urlHandlingStrategy=y),w&&(D.routeReuseStrategy=w),D.titleStrategy=p??d,function rM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),D}let Bn=(()=>{class n{constructor(t,i,r,s,c,d,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wt.x,this.errorHandler=dE,this.malformedUriErrorHandler=ld,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new iM,this.routeReuseStrategy=new eM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(up),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new Xu(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new Gl(k)),this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const D=c.get(a.R0b);this.isNgZoneEnabled=D instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Cg(){return new Bl(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$a(this.currentUrlTree,this.rootComponentType),this.transitions=new Sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(S(r=>0!==r.id),(0,qe.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let s=!1,c=!1;return Xe(r).pipe((0,Pe.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xn(d=>{const p=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Yv(d.source)&&(this.browserUrlTree=d.extractedUrl),Xe(d).pipe(xn(D=>{const k=this.transitions.getValue();return i.next(new Qu(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),k!==this.transitions.getValue()?hs.E:Promise.resolve(D)}),function Wl(n,e,t,i){return xn(r=>function Yx(n,e,t,i,r){return new Eh(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,qe.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pe.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function zv(n,e,t,i,r,s){return(0,T.z)(c=>function HF(n,e,t,i,r,s,c="emptyOnly",d="legacy"){return new sE(n,e,t,i,r,c,d,s).recognize().pipe(xn(p=>null===p?function UF(n){return new On.y(e=>e.error(n))}(new Kx):Xe(p)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,qe.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pe.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(P,D)}this.browserUrlTree=D.urlAfterRedirects}const k=new Tv(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(k)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:P,source:F,restoredState:G,extras:ne}=d,Te=new Qu(k,this.serializeUrl(P),F,G);i.next(Te);const He=$a(P,this.rootComponentType).snapshot;return Xe(r={...d,targetSnapshot:He,urlAfterRedirects:P,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),hs.E}),(0,Pe.b)(d=>{const p=new xv(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,qe.U)(d=>r={...d,guards:Pv(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Bx(n,e){return(0,T.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?Xe({...t,guardsResult:!0}):function Vx(n,e,t,i){return(0,tn.D)(n).pipe((0,T.z)(r=>function zx(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Xe(s.map(d=>{const p=Gc(e)??r,y=Zl(d,p);return ms(function Fx(n){return n&&od(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):p.runInContext(()=>y(n,e,t,i))).pipe(le())})).pipe(ad()):Xe(!0)}(r.component,r.route,t,e,i)),le(r=>!0!==r,!0))}(c,i,r,n).pipe((0,T.z)(d=>d&&function XC(n){return"boolean"==typeof n}(d)?function Ux(n,e,t,i){return(0,tn.D)(e).pipe(Ie(r=>ds(function Bv(n,e){return null!==n&&e&&e(new np(n)),Xe(!0)}(r.route.parent,i),function Hx(n,e){return null!==n&&e&&e(new gh(n)),Xe(!0)}(r.route,i),function Gx(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function QC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>hr(()=>Xe(c.guards.map(p=>{const y=Gc(c.node)??t,w=Zl(p,y);return ms(function Nv(n){return n&&od(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(le())})).pipe(ad())));return Xe(s).pipe(ad())}(n,r.path,t),function jx(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(s=>hr(()=>{const c=Gc(e)??t,d=Zl(s,c);return ms(function eE(n){return n&&od(n.canActivate)}(d)?d.canActivate(e,n):c.runInContext(()=>d(e,n))).pipe(le())}));return Xe(r).pipe(ad())}(n,r.route,t))),le(r=>!0!==r,!0))}(i,s,n,e):Xe(d)),(0,qe.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Pe.b)(d=>{if(r.guardsResult=d.guardsResult,qr(d.guardsResult))throw yh(0,d.guardsResult);const p=new Mv(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),S(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Wv(d=>{if(d.guards.canActivateChecks.length)return Xe(d).pipe((0,Pe.b)(p=>{const y=new KC(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),xn(p=>{let y=!1;return Xe(p).pipe(function $v(n,e){return(0,T.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Xe(t);let s=0;return(0,tn.D)(r).pipe(Ie(c=>function cE(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Zv(r)&&(s[ps]=r.title),function GF(n,e,t,i){const r=function Ih(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Xe({});const s={};return(0,tn.D)(r).pipe((0,T.z)(c=>function qv(n,e,t,i){const r=Gc(e)??i,s=Zl(n,r);return ms(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[c],e,t,i).pipe(le(),(0,Pe.b)(d=>{s[c]=d}))),gt(1),Ko(s),lt(c=>Lv(c)?hs.E:Yi(c)))}(s,n,e,i).pipe((0,qe.U)(c=>(n._resolvedData=c,n.data=td(n,t).resolve,r&&Zv(r)&&(n.data[ps]=r.title),null)))}(c.route,i,n,e)),(0,Pe.b)(()=>s++),gt(1),(0,T.z)(c=>s===r.length?Xe(t):hs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pe.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Pe.b)(p=>{const y=new Av(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),Wv(d=>{const p=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Pe.b)(D=>{y.component=D}),(0,qe.U)(()=>{})));for(const D of y.children)w.push(...p(D));return w};return uo(p(d.targetSnapshot.root)).pipe(R(),Vt(1))}),Wv(()=>this.afterPreactivation()),(0,qe.U)(d=>{const p=function ra(n,e,t){const i=mo(n,e._root,t?t._root:void 0);return new _h(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,Pe.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,qe.U)(i=>(new Ov(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Pe.b)({next(){s=!0},complete(){s=!0}}),fs(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),lt(d=>{if(c=!0,Ng(d)){vh(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new mh(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),vh(d)){const y=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yv(r.source)};this.scheduleNavigation(y,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new tp(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return hs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,y=r||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let D=null;switch(d){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),YC(y,this.currentUrlTree,t,D,w??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=qr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function oM(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...hE}:!1===i?{...fE}:i,qr(t))return gv(this.currentUrlTree,t,r);const s=this.parseUrl(t);return gv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,y;c?(d=c.resolve,p=c.reject,y=c.promise):y=new Promise((k,P)=>{d=k,p=P});const w=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:w,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(k=>Promise.reject(k))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new mh(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return sM()},providedIn:"root"}),n})();function Yv(n){return"imperative"!==n}let cd=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new wt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(Fs),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Ya=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new wt.x,this.subscription=t.events.subscribe(s=>{s instanceof gs&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){return!!(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(Fs),a.Y36(be))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class hp{}let Xv=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(S(t=>t instanceof gs),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,tn.D)(r).pipe((0,Vc.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Xe(null);const s=r.pipe((0,T.z)(c=>null===c?Xe(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,tn.D)([s,c]).pipe((0,Vc.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(hp),a.LFG(up))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yg=new a.OlP("");let Kg=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new fr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Sh(n,e){return{\u0275kind:n,\u0275providers:e}}function eb(n){return[{provide:Wg,multi:!0,useValue:n}]}function Qg(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(Bn),r=n.get(tb);1===n.get(mE)&&i.initialNavigation(),n.get(yE,null,a.XFs.Optional)?.setUpPreloading(),n.get(Yg,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const tb=new a.OlP("",{factory:()=>new wt.x}),mE=new a.OlP("",{providedIn:"root",factory:()=>1});const yE=new a.OlP("");function uM(n){return Sh(0,[{provide:yE,useExisting:Xv},{provide:hp,useExisting:n}])}const vE=new a.OlP("ROUTER_FORROOT_GUARD"),hM=[ke,{provide:Zf,useClass:uh},{provide:Bn,useFactory:sM},v,{provide:Fs,useFactory:function Jv(n){return n.routerState.root},deps:[Bn]},up];function fM(){return new a.PXZ("Router",Bn)}let bE=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[hM,[],eb(t),{provide:vE,useFactory:gM,deps:[[Bn,new a.FiY,new a.tp0]]},{provide:cp,useValue:i||{}},i?.useHash?{provide:be,useClass:ut}:{provide:be,useClass:rt},{provide:Yg,useFactory:()=>{const n=(0,a.f3M)(Bn),e=(0,a.f3M)(dc),t=(0,a.f3M)(cp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Kg(n,e,t)}},i?.preloadingStrategy?uM(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:fM},i?.initialNavigation?Ut(i):[],[{provide:nb,useFactory:Qg},{provide:a.tb,multi:!0,useExisting:nb}]]}}static forChild(t){return{ngModule:n,providers:[eb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vE,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[N]}),n})();function gM(n){return"guarded"}function Ut(n){return["disabled"===n.initialNavigation?Sh(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:mE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Sh(2,[{provide:mE,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get($,Promise.resolve(null));let i=!1;return()=>t.then(()=>new Promise(s=>{const c=e.get(Bn),d=e.get(tb);(function r(s){e.get(Bn).events.pipe(S(d=>d instanceof gs||d instanceof mh||d instanceof tp),(0,qe.U)(d=>d instanceof gs||d instanceof mh&&(0===d.code||1===d.code)&&null),S(d=>null!==d),Vt(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),c.afterPreactivation=()=>(s(!0),i||d.closed?Xe(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const nb=new a.OlP("");function zn(n){return null!=n&&"false"!=`${n}`}function fp(n,e=0){return function EE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Jg(n){return Array.isArray(n)?n:[n]}function Di(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Yl(n){return n instanceof a.SBq?n.nativeElement:n}var ZF=V(1144);const DE=["addListener","removeListener"],IE=["addEventListener","removeEventListener"],ud=["on","off"];function e_(n,e,t,i){if((0,Li.m)(t)&&(i=t,t=void 0),i)return e_(n,e,t).pipe(Va(i));const[r,s]=function WF(n){return(0,Li.m)(n.addEventListener)&&(0,Li.m)(n.removeEventListener)}(n)?IE.map(c=>d=>n[c](e,d,t)):function ib(n){return(0,Li.m)(n.addListener)&&(0,Li.m)(n.removeListener)}(n)?DE.map(t_(n,e)):function yM(n){return(0,Li.m)(n.on)&&(0,Li.m)(n.off)}(n)?ud.map(t_(n,e)):[];if(!r&&(0,ZF.z)(n))return(0,T.z)(c=>e_(c,e,t))((0,Sr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new On.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function t_(n,e){return t=>i=>n[t](e,i)}var vM=V(4408);const n_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=n_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Qn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=n_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=n_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var rb=V(7565);new class YF extends rb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class bM extends vM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=n_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(n_.cancelAnimationFrame(t),e._scheduled=void 0)}});let i_,CM=1;const dd={};function SE(n){return n in dd&&(delete dd[n],!0)}const TE={setImmediate(n){const e=CM++;return dd[e]=!0,i_||(i_=Promise.resolve()),i_.then(()=>SE(e)&&n()),e},clearImmediate(n){SE(n)}},{setImmediate:EM,clearImmediate:DM}=TE,r_={setImmediate(...n){const{delegate:e}=r_;return(e?.setImmediate||EM)(...n)},clearImmediate(n){const{delegate:e}=r_;return(e?.clearImmediate||DM)(n)},delegate:void 0},sb=new class xE extends rb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class IM extends vM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=r_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(r_.clearImmediate(t),e._scheduled=void 0)}});var hd=V(4986),QF=V(3532);function ME(n=0,e,t=hd.P){let i=-1;return null!=e&&((0,QF.K)(e)?t=e:i=e),new On.y(r=>{let s=function ab(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function TM(n,e=hd.z){return function ob(n){return(0,Ln.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,wn.x)(t,y=>{i=!0,r=y,s||(0,Sr.Xf)(n(y)).subscribe(s=(0,wn.x)(t,d,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>ME(n,e))}let $c;try{$c=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$c=!1}let Kl,Qi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Eu(n){return n===xs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$c)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const go=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lb(){if(Kl)return Kl;if("object"!=typeof document||!document)return Kl=new Set(go),Kl;let n=document.createElement("input");return Kl=new Set(go.filter(e=>(n.setAttribute("type",e),n.type===e))),Kl}let mp,qc,s_;function _s(n){return function cb(){if(null==mp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mp=!0}))}finally{mp=mp||!1}return mp}()?n:!!n.capture}function ub(){if(null==qc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qc=!1,qc;if("scrollBehavior"in document.documentElement.style)qc=!0;else{const n=Element.prototype.scrollTo;qc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qc}function gp(n){if(function XF(){if(null==s_){const n=typeof document<"u"?document.head:null;s_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return s_}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function xh(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ql(n){return n.composedPath?n.composedPath()[0]:n.target}function _p(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const db=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function JF(){return(0,a.f3M)(re)}}),MM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Mh=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function AM(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?MM.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(db,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ah=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),iL=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new wt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new On.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(TM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(S(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Yl(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>e_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Qi),a.LFG(re,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fb=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new wt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(TM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qi),a.LFG(a.R0b),a.LFG(re,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ah,Zc,Ah,Zc]}),n})();class pb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class kh extends pb{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class o_ extends pb{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class NM extends pb{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class md{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof kh?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof o_?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof NM?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mb extends md{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let wp=(()=>{class n extends md{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(re))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var sa=V(6451),l_=V(5032);function Ii(n){return(0,Ln.e)((e,t)=>{(0,Sr.Xf)(n).subscribe((0,wn.x)(t,()=>t.complete(),l_.Z)),!t.closed&&e.subscribe(t)})}const OE=ub();class lL{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Di(-this._previousScrollPosition.left),e.style.top=Di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),OE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),OE&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class PE{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NE{enable(){}disable(){}attach(){}}function c_(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function _b(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class LM{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();c_(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Bs=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new NE,this.close=c=>new PE(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new lL(this._viewportRuler,this._document),this.reposition=c=>new LM(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iL),a.LFG(fb),a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cp{constructor(e){if(this.scrollStrategy=new NE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class BM{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let LE=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UM=(()=>{class n extends LE{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HM=(()=>{class n extends LE{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ql(s)},this._clickListener=s=>{const c=Ql(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const w=p[y];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(d))break;const D=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(Qi),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ep=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_p()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),_p()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(Qi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dp{constructor(e,t,i,r,s,c,d,p,y,w=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new wt.x,this._attachments=new wt.x,this._detachments=new wt.x,this._locationChanges=Qn.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new wt.x,this._outsidePointerEvents=new wt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Di(this._config.width),e.height=Di(this._config.height),e.minWidth=Di(this._config.minWidth),e.minHeight=Di(this._config.minHeight),e.maxWidth=Di(this._config.maxWidth),e.maxHeight=Di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Jg(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ii((0,sa.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yb="cdk-overlay-connected-position-bounding-box",jM=/([A-Za-z%]+)$/;class GM{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wt.x,this._resizeSubscription=Qn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(yb),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,r,d),y=this._getOverlayPoint(p,t,d),w=this._getOverlayFit(y,t,i,d);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(w,y,i)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:y,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const y of s){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>p&&(p=w,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?c:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=BE(t);let{x:c,y:d}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(d+=y);let k=0-d,P=d+s.height-i.height,F=this._subtractOverflows(s.width,0-c,c+s.width-i.width),G=this._subtractOverflows(s.height,k,P),ne=F*G;return{visibleArea:ne,isCompletelyWithinViewport:s.width*s.height===ne,fitsInViewportVertically:G===s.height,fitsInViewportHorizontally:F==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=vb(this._overlayRef.getConfig().minHeight),d=vb(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=BE(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let w=0,D=0;return w=r.width<=s.width?y||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,D=r.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:w,y:D},{x:e.x+w,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new BM(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,d,w,D,k;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-e.y+i.top,e.y),F=this._lastBoundingBoxSize.height;s=2*P,c=e.y-P,s>F&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-F/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)k=i.width-e.x+this._viewportMargin,w=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,w=i.right-e.x;else{const P=Math.min(i.right-e.x+i.left,e.x),F=this._lastBoundingBoxSize.width;w=2*P,D=e.x-P,w>F&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-F/2)}return{top:c,left:D,bottom:d,right:k,width:w,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Di(i.height),r.top=Di(i.top),r.bottom=Di(i.bottom),r.width=Di(i.width),r.left=Di(i.left),r.right=Di(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Di(s)),c&&(r.maxWidth=Di(c))}this._lastBoundingBoxSize=i,Wc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Wc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();Wc(i,this._getExactOverlayY(t,e,w)),Wc(i,this._getExactOverlayX(t,e,w))}else i.position="static";let d="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Di(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Di(c.maxWidth):s&&(i.maxWidth="")),Wc(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Di(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Di(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_b(e,i),isOriginOutsideView:c_(e,i),isOverlayClipped:_b(t,i),isOverlayOutsideView:c_(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Jg(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Wc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vb(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(jM);return t&&"px"!==t?null:parseFloat(e)}return n||null}function BE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const UE="cdk-global-overlay-wrapper";class zM{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(UE),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),w=this._xPosition,D=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let P="",F="",G="";p?G="flex-start":"center"===w?(G="center",k?F=D:P=D):k?"left"===w||"end"===w?(G="flex-end",P=D):("right"===w||"start"===w)&&(G="flex-start",F=D):"left"===w||"start"===w?(G="flex-start",P=D):("right"===w||"end"===w)&&(G="flex-end",F=D),e.position=this._cssPosition,e.marginLeft=p?"0":P,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":F,t.justifyContent=G,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(UE),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let dL=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new zM}flexibleConnectedTo(t){return new GM(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fb),a.LFG(re),a.LFG(Qi),a.LFG(Ep))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HE=0,_o=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w,D,k,P){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=y,this._directionality=w,this._location=D,this._outsideClickDispatcher=k,this._animationsModuleType=P}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Cp(t);return c.direction=c.direction||this._directionality.value,new Dp(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+HE++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new mb(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bs),a.LFG(Ep),a.LFG(a._Vd),a.LFG(dL),a.LFG(UM),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(re),a.LFG(Mh),a.LFG(ke),a.LFG(HM),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const u_={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[_o],useFactory:function qM(n){return()=>n.scrollStrategies.reposition()}};let Yc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_o,u_],imports:[Ah,gd,yp,yp]}),n})();function Ph(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Lp(n,e=hd.z){return(0,Ln.e)((t,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=c+n,w=e.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);d()}t.subscribe((0,wn.x)(i,y=>{s=y,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function oD(n){return S((e,t)=>n<=t)}function g_(n,e=Ps.y){return n=n??aD,(0,Ln.e)((t,i)=>{let r,s=!0;t.subscribe((0,wn.x)(i,c=>{const d=e(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function aD(n,e){return n===e}let _d=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MA=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Yl(t);return new On.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new wt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_d))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lD=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=zn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=fp(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Lp(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(MA),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),__=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_d]}),n})();const kb=new Set;let Bp,Rb=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xa}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ob(n){if(!kb.has(n))try{Bp||(Bp=document.createElement("style"),Bp.setAttribute("type","text/css"),document.head.appendChild(Bp)),Bp.sheet&&(Bp.sheet.insertRule(`@media ${n} {body{ }}`,0),kb.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xa(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Pb=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new wt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return cD(Jg(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=uo(cD(Jg(t)).map(c=>this._registerQuery(c).observable));return s=ds(s.pipe(Vt(1)),s.pipe(oD(1),Lp(0))),s.pipe((0,qe.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{d.matches=d.matches||p,d.breakpoints[y]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new On.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Bi(i),(0,qe.U)(({matches:c})=>({query:t,matches:c})),Ii(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rb),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cD(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class Fb extends class dD{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new wt.x,this._typeaheadSubscription=Qn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new wt.x,this.change=new wt.x,e instanceof a.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Pe.b)(t=>this._pressedLetters.push(t)),Lp(e),S(()=>this._pressedLetters.length>0),(0,qe.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ph(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let yd=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function hD(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function PA(n){try{return n.frameElement}catch{return null}}(function _D(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Ub(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=Ub(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function mD(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function gD(n){return!function Lb(n){return function Bb(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fD(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function v_(n){return function pD(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Vb(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vb(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Ub(n){if(!Vb(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class yD{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Vt(1)).subscribe(e)}}let Hb=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new yD(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yd),a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Gb(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const NA=new a.OlP("cdk-input-modality-detector-options"),FA={ignoreKeys:[18,17,224,91,16]},Nh=_s({passive:!0,capture:!0});let LA=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Sn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ql(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jb(c)?"keyboard":"mouse"),this._mostRecentTarget=Ql(c))},this._onTouchstart=c=>{Gb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ql(c))},this._options={...FA,...s},this.modalityDetected=this._modality.pipe(oD(1)),this.modalityChanged=this.modalityDetected.pipe(g_()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Nh),r.addEventListener("mousedown",this._onMousedown,Nh),r.addEventListener("touchstart",this._onTouchstart,Nh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Nh),document.removeEventListener("mousedown",this._onMousedown,Nh),document.removeEventListener("touchstart",this._onTouchstart,Nh))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qi),a.LFG(a.R0b),a.LFG(re),a.LFG(NA,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BA=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function VA(){return null}}),UA=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let bD=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(BA,8),a.LFG(a.R0b),a.LFG(re),a.LFG(UA,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wD=new a.OlP("cdk-focus-monitor-default-options"),Vp=_s({passive:!0,capture:!0});let tl=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new wt.x,this._rootNodeFocusAndBlurListener=d=>{for(let y=Ql(d);y;y=y.parentElement)"focus"===d.type?this._onFocus(d,y):this._onBlur(d,y)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=Yl(t);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const s=gp(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new wt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=Yl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Yl(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Ql(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vp)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ii(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Qi),a.LFG(LA),a.LFG(re,8),a.LFG(wD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zb="cdk-high-contrast-black-on-white",$b="cdk-high-contrast-white-on-black",b_="cdk-high-contrast-active";let qb=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(Pb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(b_,zb,$b),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(b_,zb):2===i&&t.add(b_,$b)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qi),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w_=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qb))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[__]}),n})();const tB=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function CD(){return!0}});let Ue=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!_p()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qb),a.LFG(tB,8),a.LFG(re))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ah,Ah]}),n})();function Kc(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=zn(e)}}}function Hp(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ec(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=zn(e)}}}function fi(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let DD=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,Ue]}),n})();class ID{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wb={enterDuration:225,exitDuration:150},vd=_s({passive:!0}),Lh=["mousedown","touchstart"],SD=["mouseup","mouseleave","touchend","touchcancel"];class XA{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Wb,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function JA(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,p=t-r.top,y=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=d-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const D=window.getComputedStyle(w),P=D.transitionDuration,F="none"===D.transitionProperty||"0s"===P||"0s, 0s"===P,G=new ID(this,w,i,F);w.style.transform="scale3d(1, 1, 1)",G.state=0,i.persistent||(this._mostRecentTransientRipple=G);let ne=null;return!F&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Te=()=>this._finishRippleTransition(G),He=()=>this._destroyRipple(G);w.addEventListener("transitionend",Te),w.addEventListener("transitioncancel",He),ne={onTransitionEnd:Te,onTransitionCancel:He}}),this._activeRipples.set(G,ne),(F||!y)&&this._finishRippleTransition(G),G}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Wb,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Yl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Lh))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(SD),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=jb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Gb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,vd)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Lh.forEach(e=>{this._triggerElement.removeEventListener(e,this,vd)}),this._pointerUpEventsRegistered&&SD.forEach(e=>{this._triggerElement.removeEventListener(e,this,vd)}))}}const TD=new a.OlP("mat-ripple-global-options");let bd=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new XA(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Qi),a.Y36(TD,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,Ue]}),n})(),S_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue]}),n})(),xD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[wd,xi,Ue,S_]}),n})();const ik=["mat-button",""],rk=["*"],MD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ok=Hp(Kc(ec(class{constructor(n){this._elementRef=n}})));let Cd=(()=>{class n extends ok{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of MD)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(tl),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&a.Gf(bd,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:ik,ngContentSelectors:rk,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[bd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[wd,Ue,Ue]}),n})();class Kb{}const nl="*";function aa(n,e){return{type:7,name:n,definitions:e,options:{}}}function mr(n,e=null){return{type:4,styles:e,timings:n}}function AD(n,e=null){return{type:3,steps:n,options:e}}function M_(n,e=null){return{type:2,steps:n,options:e}}function fn(n){return{type:6,styles:n,offset:null}}function Vi(n,e,t){return{type:0,name:n,styles:e,options:t}}function gr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Qb(n=null){return{type:9,options:n}}function Xb(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function OD(n){Promise.resolve(null).then(n)}class Gp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PD{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?OD(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function ck(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.action())}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(2),a.Oqu(t.data.action)}}function uk(n,e){}const ND=new a.OlP("MatSnackBarData");class A_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const FD=Math.pow(2,31)-1;class k_{constructor(e,t){this._overlayRef=t,this._afterDismissed=new wt.x,this._afterOpened=new wt.x,this._onAction=new wt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,FD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let dk=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(k_),a.Y36(ND))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,ck,3,1,"div",1)),2&t&&(a.xp6(1),a.Oqu(i.data.message),a.xp6(1),a.Q6J("ngIf",i.hasAction))},dependencies:[bn,Cd],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const hk={snackBarState:aa("state",[Vi("void, hidden",fn({transform:"scale(0.8)",opacity:0})),Vi("visible",fn({transform:"scale(1)",opacity:1})),gr("* => visible",mr("150ms cubic-bezier(0, 0, 0.2, 1)")),gr("* => void, * => hidden",mr("75ms cubic-bezier(0.4, 0.0, 1, 1)",fn({opacity:0})))])};let LD=(()=>{class n extends md{constructor(t,i,r,s,c){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new wt.x,this._onExit=new wt.x,this._onEnter=new wt.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Vt(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Qi),a.Y36(A_))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(wp,7),2&t){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),fk=(()=>{class n extends LD{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&a.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&a.d8E("@state",i._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.YNc(1,uk,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&t&&(a.xp6(2),a.uIk("aria-live",i._live)("role",i._role))},dependencies:[wp],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[hk.snackBarState]}}),n})(),e0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Yc,gd,xi,x_,Ue,Ue]}),n})();const BD=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function t0(){return new A_}});let n0=(()=>{class n{constructor(t,i,r,s,c,d){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:A_,useValue:i}]}),c=new kh(this.snackBarContainerComponent,i.viewContainerRef,s),d=t.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(t,i){const r={...new A_,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new k_(c,s);if(t instanceof a.Rgc){const p=new o_(t,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),y=new kh(t,void 0,p),w=c.attachComponentPortal(y);d.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ii(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Cp;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,d=!c&&"center"!==t.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return a.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:k_,useValue:i},{provide:ND,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_o),a.LFG(bD),a.LFG(a.zs3),a.LFG(Pb),a.LFG(n,12),a.LFG(BD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),VD=(()=>{class n extends n0{constructor(t,i,r,s,c,d){super(t,i,r,s,c,d),this.simpleSnackBarComponent=dk,this.snackBarContainerComponent=fk,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_o),a.LFG(bD),a.LFG(a.zs3),a.LFG(Pb),a.LFG(n,12),a.LFG(BD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:e0}),n})();var Bh=V(5363),pk=V(6063);class mk extends wt.x{constructor(e=1/0,t=1/0,i=pk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var zp=V(3099);function UD(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,zp.B)({connector:()=>new mk(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function r0(n,e){return(0,Li.m)(e)?xn(()=>n,e):xn(()=>n)}var Xc=V(9468),cn=V(5813),Ui=V(2011);V(5867);var we=V(5861),Yr=V(9681),la=V(4859),L=V(2090),il=V(1877);const zD=new Map,wk={activated:!1,tokenObservers:[]},$D={initialized:!1,enabled:!1};function Hi(n){return zD.get(n)||wk}function ca(n,e){zD.set(n,e)}function R_(){return $D}class qp{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new L.BH,yield function ZD(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new L.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Mr=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function c0(n){if(!Hi(n).activated)throw Mr.create("use-before-activation",{appName:n.name})}function YD(n,e){return N_.apply(this,arguments)}function N_(){return(N_=(0,we.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(s["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(e),headers:s};let p,y;try{p=yield fetch(n,d)}catch(P){throw Mr.create("fetch-network-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}if(200!==p.status)throw Mr.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(P){throw Mr.create("fetch-parse-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Mr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const D=1e3*Number(w[1]),k=Date.now();return{token:y.token,expireTimeMillis:k+D,issuedAtTimeMillis:k}})).apply(this,arguments)}function xk(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Yp="firebase-app-check-store";let Vs=null;function KD(){return Vs||(Vs=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(Mr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yp,{keyPath:"compositeKey"})}}catch(i){e(Mr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Vs)}function Vh(){return(Vh=(0,we.Z)(function*(n,e){const i=(yield KD()).transaction(Yp,"readwrite"),s=i.objectStore(Yp).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var y;d(Mr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Uh=new il.Yd("@firebase/app-check");function d0(n,e){return(0,L.hl)()?function Kp(n,e){return function QD(n,e){return Vh.apply(this,arguments)}(function XD(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Uh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ok(){return R_().enabled}function B_(){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,we.Z)(function*(){const n=R_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const f0={error:"UNKNOWN_ERROR"};function p0(n){return L.US.encodeString(JSON.stringify(n),!1)}function V_(n){return m0.apply(this,arguments)}function m0(){return(m0=(0,we.Z)(function*(n,e=!1){const t=n.app;c0(t);const i=Hi(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&em(p)&&(r=p)}if(!e&&r&&em(r))return{token:r.token};let d,c=!1;if(Ok()){i.exchangeTokenPromise||(i.exchangeTokenPromise=YD(xk(t,yield B_()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const p=yield i.exchangeTokenPromise;return yield d0(t,p),ca(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Uh.warn(p.message):Uh.error(p),s=p}return r?(d={token:r.token},ca(t,Object.assign(Object.assign({},i),{token:r})),yield d0(t,r)):d=tI(s),c&&b0(t,d),d})).apply(this,arguments)}function _0(n,e){const t=Hi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ca(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function y0(n){const{app:e}=n,t=Hi(e);let i=t.tokenRefresher;i||(i=function v0(n){const{app:e}=n;return new qp((0,we.Z)(function*(){let i;if(i=Hi(e).token?yield V_(n,!0):yield V_(n),i.error)throw i.error}),()=>!0,()=>{const t=Hi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ca(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function b0(n,e){const t=Hi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function em(n){return n.expireTimeMillis-Date.now()>0}function tI(n){return{token:p0(f0),error:n}}class nI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hi(this.app);for(const t of e)_0(this.app,t.next);return Promise.resolve()}}const Uk="app-check-internal";!function pI(){(0,Yr._registerComponent)(new la.wA("app-check",n=>function Pk(n,e){return new nI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Uk).initialize()})),(0,Yr._registerComponent)(new la.wA(Uk,n=>function iI(n){return{getToken:e=>V_(n,e),addTokenListener:e=>function g0(n,e,t,i){const{app:r}=n,s=Hi(r),c={next:t,error:i,type:e};if(ca(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&em(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),y0(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>y0(n))}(n,"INTERNAL",e),removeTokenListener:e=>_0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yr.registerVersion)("@firebase/app-check","0.5.12")}();class rl{constructor(){return(0,cn.vb)("app-check")}}typeof window<"u"&&window;var $_=V(127);const D0=new a.OlP("angularfire2.auth.use-emulator"),q_=new a.OlP("angularfire2.auth.settings"),Z_=new a.OlP("angularfire2.auth.tenant-id"),W_=new a.OlP("angularfire2.auth.langugage-code"),Y_=new a.OlP("angularfire2.auth.use-device-language"),I0=new a.OlP("angularfire.auth.persistence"),S0=(n,e,t,i,r,s,c,d)=>(0,Ui.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[y,w]of Object.entries(c))p.settings[y]=w;return d&&p.setPersistence(d),p},[t,i,r,s,c,d]);let K_=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w,D,k,P){const F=new wt.x,G=Xe(void 0).pipe((0,Bh.Q)(c.outsideAngular),xn(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2274)))),(0,qe.U)(()=>(0,Ui.on)(t,s,i)),(0,qe.U)(ne=>S0(ne,s,d,y,w,D,p,k)),UD({bufferSize:1,refCount:!1}));if(Mi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{G.pipe(le()).subscribe();const Te=G.pipe(xn(We=>We.getRedirectResult().then(bt=>bt,()=>null)),cn.iC,UD({bufferSize:1,refCount:!1})),He=G.pipe(xn(We=>new On.y(bt=>({unsubscribe:s.runOutsideAngular(()=>We.onAuthStateChanged(Et=>bt.next(Et),Et=>bt.error(Et),()=>bt.complete()))})))),Ye=G.pipe(xn(We=>new On.y(bt=>({unsubscribe:s.runOutsideAngular(()=>We.onIdTokenChanged(Et=>bt.next(Et),Et=>bt.error(Et),()=>bt.complete()))}))));this.authState=Te.pipe(r0(He),(0,Xc.R)(c.outsideAngular),(0,Bh.Q)(c.insideAngular)),this.user=Te.pipe(r0(Ye),(0,Xc.R)(c.outsideAngular),(0,Bh.Q)(c.insideAngular)),this.idToken=this.user.pipe(xn(We=>We?(0,tn.D)(We.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(xn(We=>We?(0,tn.D)(We.getIdTokenResult()):Xe(null))),this.credential=(0,sa.T)(Te,F,this.authState.pipe(S(We=>!We))).pipe((0,qe.U)(We=>We?.user?We:null),(0,Xc.R)(c.outsideAngular),(0,Bh.Q)(c.insideAngular))}return(0,Ui.pX)(this,G,s,{spy:{apply:(ne,Te,He)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&He.then(Ye=>F.next(Ye))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ui.Dh),a.LFG(Ui.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(cn.HU),a.LFG(D0,8),a.LFG(q_,8),a.LFG(Z_,8),a.LFG(W_,8),a.LFG(Y_,8),a.LFG(I0,8),a.LFG(rl,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vI=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",cn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[K_]}),n})();V(2274);var bI=V(3942);const $k="@firebase/database";let wI="";function Zk(n){wI=n}class Q_{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,L.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,L.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class kB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,L.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const T0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Q_(e)}}catch{}return new kB},sl=T0("localStorage"),X_=T0("sessionStorage"),Ed=new il.Yd("@firebase/database"),Wk=function(){let n=1;return function(){return n++}}(),J_=function(n){const e=(0,L.dS)(n),t=new L.gQ;t.update(e);const i=t.digest();return L.US.encodeByteArray(i)},jh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=jh.apply(null,i):e+="object"==typeof i?(0,L.Pz)(i):i,e+=" "}return e};let Dd=null,x0=!0;const Yk=function(n,e){(0,L.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ed.logLevel=il.in.VERBOSE,Dd=Ed.log.bind(Ed),e&&X_.set("logging_enabled",!0)):"function"==typeof n?Dd=n:(Dd=null,X_.remove("logging_enabled"))},Ji=function(...n){if(!0===x0&&(x0=!1,null===Dd&&!0===X_.get("logging_enabled")&&Yk(!0)),Dd){const e=jh.apply(null,n);Dd(e)}},nm=function(n){return function(...e){Ji(n,...e)}},M0=function(...n){const e="FIREBASE INTERNAL ERROR: "+jh(...n);Ed.error(e)},Us=function(...n){const e=`FIREBASE FATAL ERROR: ${jh(...n)}`;throw Ed.error(e),new Error(e)},Ar=function(...n){const e="FIREBASE WARNING: "+jh(...n);Ed.warn(e)},A0=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},tc="[MIN_NAME]",ol="[MAX_NAME]",Id=function(n,e){if(n===e)return 0;if(n===tc||e===ol)return-1;if(e===tc||n===ol)return 1;{const t=ty(n),i=ty(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},PB=function(n,e){return n===e?0:n<e?-1:1},im=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(e))},ey=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,L.Pz)(e[i]),t+=":",t+=ey(n[e[i]]);return t+="}",t},k0=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function _r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const vo=function(n){(0,L.hu)(!A0(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const w=y.join("");let D="";for(p=0;p<64;p+=8){let k=parseInt(w.substr(p,8),2).toString(16);1===k.length&&(k="0"+k),D+=k}return D.toLowerCase()},bo=new RegExp("^-?(0*)\\d{1,10}$"),CI=-2147483648,rm=2147483647,ty=function(n){if(bo.test(n)){const e=Number(n);if(e>=CI&&e<=rm)return e}return null},Gh=function(n){try{n()}catch(e){setTimeout(()=>{throw Ar("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},zh=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class EI{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xk{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ji("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(e)}}let $h=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const nc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SI="websocket",Jk="long_polling";class F0{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function TI(n,e,t){let i;if((0,L.hu)("string"==typeof e,"typeof type must == string"),(0,L.hu)("object"==typeof t,"typeof params must == object"),e===SI)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Jk)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function eR(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return _r(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class tR{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,L.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,L.p$)(this.counters_)}}const ry={},xI={};function sy(n){const e=n.toString();return ry[e]||(ry[e]=new tR),ry[e]}class MI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Gh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ic{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nm(e),this.stats_=sy(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),TI(t,Jk,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j0((...s)=>{const[c,d,p,y,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nc.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ic.forceAllow_=!0}static forceDisallow(){ic.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!ic.forceAllow_&&(ic.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,L.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,L.h$)(t),r=k0(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,L.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class j0{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Wk(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=j0.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Ji("frame writing exception"),d.stack&&Ji(d.stack),Ji(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ji("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,L.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ji("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let G0=null;typeof MozWebSocket<"u"?G0=MozWebSocket:typeof WebSocket<"u"&&(G0=WebSocket);let om=(()=>{class n{constructor(t,i,r,s,c,d,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nm(this.connId),this.stats_=sy(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&nc.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),TI(t,SI,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sl.set("previous_websocket_failure",!0);try{let r;if((0,L.Yr)()){r={headers:{"User-Agent":`Firebase/5/${wI}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new G0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==G0&&!n.forceDisallow_}static previouslyFailed(){return sl.isInMemoryStorage||!0===sl.get("previous_websocket_failure")}markConnectionHealthy(){sl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,L.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,L.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=k0(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),lR=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ic,om]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=om&&om.isAvailable();let r=i&&!om.previouslyFailed();if(t.webSocketOnly&&(i||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[om];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class am{constructor(e,t,i,r,s,c,d,p,y,w){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nm("c:"+this.id+":"),this.transportManager_=new lR(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=zh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=im("t",e),i=im("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=im("t",e),i=im("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=im("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?M0("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M0("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),zh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class uR{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class dR{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,L.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,L.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class q0 extends dR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new q0}getInitialEvent(e){return(0,L.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Cn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function pn(){return new Cn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function eu(n){return n.pieces_.length-n.pieceNum_}function Mn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Cn(n.pieces_,e)}function hy(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function UI(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Cn(e,0)}function $n(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Cn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Cn(t,0)}function Gt(n){return n.pieceNum_>=n.pieces_.length}function ys(n,e){const t=Yt(n),i=Yt(e);if(null===t)return e;if(t===i)return ys(Mn(n),Mn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function HI(n,e){const t=lm(n,0),i=lm(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Id(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function cm(n,e){if(eu(n)!==eu(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function wo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(eu(n)>eu(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class fR{constructor(e,t){this.errorPrefix_=t,this.parts_=lm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);jI(this)}}function jI(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Sd(n))}function Sd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class W0 extends dR{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new W0}getInitialEvent(e){return(0,L.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const fy=1e3;let K0,qh=(()=>{class n extends uR{constructor(t,i,r,s,c,d,p,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=nm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");W0.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&q0.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,L.Pz)(c)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new L.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,w=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,s),t.onComplete&&t.onComplete(w,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,L.r3)(t,"w")){const r=(0,L.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,L.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,L.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,L.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):M0("Unrecognized action received from server: "+(0,L.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fy,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=fy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,we.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,y=null;const w=function(){y?y.close():(p=!0,s())};t.realtime_={close:w,sendRequest:function(P){(0,L.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const k=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[P,F]=yield Promise.all([t.authTokenProvider_.getToken(k),t.appCheckTokenProvider_.getToken(k)]);p?Ji("getToken() completed but was canceled"):(Ji("getToken() completed. Creating connection."),t.authToken_=P&&P.accessToken,t.appCheckToken_=F&&F.token,y=new am(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,G=>{Ar(G+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(P){t.log_("Failed to get token: "+P),p||(t.repoInfo_.nodeAdmin&&Ar(P),w())}}})()}interrupt(t){Ji("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ji("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=fy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>ey(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Cn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Ji("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ji("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+wI.replace(/\./g,"-")]=1,(0,L.uI)()?t["framework.cordova"]=1:(0,L.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=q0.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Jt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Jt(e,t)}}class Y0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Jt(tc,e),r=new Jt(tc,t);return 0!==this.compare(i,r)}minPost(){return Jt.MIN}}class _R extends Y0{static get __EMPTY_NODE(){return K0}static set __EMPTY_NODE(e){K0=e}compare(e,t){return Id(e.name,t.name)}isDefinedOn(e){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Jt.MIN}maxPost(){return new Jt(ol,K0)}makePost(e,t){return(0,L.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Jt(e,K0)}toString(){return".key"}}const o=new _R;class l{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let E,u=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??f.EMPTY_NODE,this.right=c??f.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return f.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return f.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class f{constructor(e,t=f.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new f(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,u.BLACK,null,null))}remove(e){return new f(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,u.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new l(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new l(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new l(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new l(this.root_,null,this.comparator_,!0,e)}}function g(n,e){return Id(n.name,e.name)}function b(n,e){return Id(n,e)}f.EMPTY_NODE=new class h{copy(e,t,i,r,s){return this}insert(e,t,i){return new u(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const x=function(n){return"number"==typeof n?"number:"+vo(n):"string:"+n},O=function(n){if(n.isLeafNode()){const e=n.val();(0,L.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,L.r3)(e,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===E||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===E||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let U,oe,De,Y=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),O(this.priorityNode_)}static set __childrenNodeConstructor(t){U=t}static get __childrenNodeConstructor(){return U}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Gt(t)?this:".priority"===Yt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Yt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,L.hu)(".priority"!==r||1===eu(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+x(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?vo(this.value_):this.value_,this.lazyHash_=J_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,L.hu)(s>=0,"Unknown leaf type: "+i),(0,L.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const tt=new class at extends Y0{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Id(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Jt.MIN}maxPost(){return new Jt(ol,new Y("[PRIORITY-POST]",De))}makePost(e,t){const i=oe(e);return new Jt(t,new Y("[PRIORITY-POST]",i))}toString(){return".priority"}},Oe=Math.log(2);class Ct{constructor(e){this.count=parseInt(Math.log(e+1)/Oe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Kt=function(n,e,t,i){n.sort(e);const r=function(p,y){const w=y-p;let D,k;if(0===w)return null;if(1===w)return D=n[p],k=t?t(D):D,new u(k,D.node,u.BLACK,null,null);{const P=parseInt(w/2,10)+p,F=r(p,P),G=r(P+1,y);return D=n[P],k=t?t(D):D,new u(k,D.node,u.BLACK,F,G)}},d=function(p){let y=null,w=null,D=n.length;const k=function(F,G){const ne=D-F,Te=D;D-=F;const He=r(ne+1,Te),Ye=n[ne],We=t?t(Ye):Ye;P(new u(We,Ye.node,G,null,He))},P=function(F){y?(y.left=F,y=F):(w=F,y=F)};for(let F=0;F<p.count;++F){const G=p.nextBitIsOne(),ne=Math.pow(2,p.count-(F+1));G?k(ne,u.BLACK):(k(ne,u.BLACK),k(ne,u.RED))}return w}(new Ct(n.length));return new f(i||e,d)};let Nn;const Co={};class da{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,L.hu)(Co&&tt,"ChildrenNode.ts has not been loaded"),Nn=Nn||new da({".priority":Co},{".priority":tt}),Nn}get(e){const t=(0,L.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof f?t:null}hasIndex(e){return(0,L.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,L.hu)(e!==o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Jt.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?Kt(i,e.getCompare()):Co;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const w=Object.assign({},this.indexes_);return w[p]=d,new da(w,y)}addToIndexes(e,t){const i=(0,L.UI)(this.indexes_,(r,s)=>{const c=(0,L.DV)(this.indexSet_,s);if((0,L.hu)(c,"Missing index implementation for "+s),r===Co){if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(Jt.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&d.push(y),y=p.getNext();return d.push(e),Kt(d,c.getCompare())}return Co}{const d=t.get(e.name);let p=r;return d&&(p=p.remove(new Jt(e.name,d))),p.insert(e,e.node)}});return new da(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,L.UI)(this.indexes_,r=>{if(r===Co)return r;{const s=t.get(e.name);return s?r.remove(new Jt(e.name,s)):r}});return new da(i,this.indexSet_)}}let Td,Nt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&O(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Td||(Td=new n(new f(b),null,da.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Td}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Td:i}}getChild(t){const i=Yt(t);return null===i?this:this.getImmediateChild(i).getChild(Mn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Jt(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?Td:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=Yt(t);if(null===r)return i;{(0,L.hu)(".priority"!==Yt(t)||1===eu(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Mn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(tt,(d,p)=>{i[d]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+x(this.getPriority().val())+":"),this.forEachChild(tt,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":J_(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Jt(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Jt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Jt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Jt.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Jt.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===xd?-1:0}withIndex(t){if(t===o||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===o||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(tt),s=i.getIterator(tt);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===o?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const xd=new class Q0 extends Nt{constructor(){super(new f(b),Nt.EMPTY_NODE,da.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}};function qn(n,e=null){if(null===n)return Nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,L.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Y(n,qn(e));if(n instanceof Array){let t=Nt.EMPTY_NODE;return _r(n,(i,r)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const s=qn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(qn(e))}{const t=[];let i=!1;if(_r(n,(c,d)=>{if("."!==c.substring(0,1)){const p=qn(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Jt(c,p)))}}),0===t.length)return Nt.EMPTY_NODE;const s=Kt(t,g,c=>c.name,b);if(i){const c=Kt(t,tt.getCompare());return new Nt(s,qn(e),new da({".priority":c},{".priority":tt}))}return new Nt(s,qn(e),da.Default)}}Object.defineProperties(Jt,{MIN:{value:new Jt(tc,Nt.EMPTY_NODE)},MAX:{value:new Jt(ol,xd)}}),_R.__EMPTY_NODE=Nt.EMPTY_NODE,Y.__childrenNodeConstructor=Nt,function I(n){E=n}(xd),function Je(n){De=n}(xd),function Le(n){oe=n}(qn);class um extends Y0{constructor(e){super(),this.indexPath_=e,(0,L.hu)(!Gt(e)&&".priority"!==Yt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Id(e.name,t.name):s}makePost(e,t){const i=qn(e),r=Nt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Jt(t,r)}maxPost(){const e=Nt.EMPTY_NODE.updateChild(this.indexPath_,xd);return new Jt(ol,e)}toString(){return lm(this.indexPath_,0).join("/")}}const yR=new class J0 extends Y0{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Id(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Jt.MIN}maxPost(){return Jt.MAX}makePost(e,t){const i=qn(e);return new Jt(t,i)}toString(){return".value"}},py="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bq=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=py.charAt(t%64),t=Math.floor(t/64);(0,L.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=py.charAt(e[r]);return(0,L.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),qB=function(n){if(n===""+rm)return"-";const e=ty(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return ol;const s=py.charAt(py.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},ZB=function(n){if(n===""+CI)return tc;const e=ty(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+rm:(delete t[t.length-1],t.join("")):(t[t.length-1]=py.charAt(py.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function WB(n){return{type:"value",snapshotNode:n}}function my(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ew(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function tw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class bR{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,L.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(ew(t,d)):(0,L.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(my(t,i)):c.trackChildChange(tw(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(tt,(r,s)=>{t.hasChild(r)||i.trackChildChange(ew(r,s))}),t.isLeafNode()||t.forEachChild(tt,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(tw(r,s,c))}else i.trackChildChange(my(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Nt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class nw{constructor(e){this.indexedFilter_=new bR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nw.getStartPost_(e),this.endPost_=nw.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Jt(t,i))||(i=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Nt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Nt.EMPTY_NODE);const s=this;return t.forEachChild(tt,(c,d)=>{s.matches(new Jt(c,d))||(r=r.updateImmediateChild(c,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Cq{constructor(e){this.rangedFilter_=new nw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Jt(t,i))||(i=Nt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Nt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=t.withIndex(this.index_),r=r.updatePriority(Nt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();d=(k,P)=>D(P,k)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,w=!1;for(;p.hasNext();){const D=p.getNext();!w&&d(s,D)<=0&&(w=!0),w&&y<this.limit_&&d(D,c)<=0?y++:r=r.updateImmediateChild(D.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(k,P)=>D(P,k)}else c=this.index_.getCompare();const d=e;(0,L.hu)(d.numChildren()===this.limit_,"");const p=new Jt(t,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(d.hasChild(t)){const D=d.getImmediateChild(t);let k=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=k&&(k.name===t||d.hasChild(k.name));)k=r.getChildAfterChild(this.index_,k,this.reverse_);const P=null==k?1:c(k,p);if(w&&!i.isEmpty()&&P>=0)return s?.trackChildChange(tw(t,i,D)),d.updateImmediateChild(t,i);{s?.trackChildChange(ew(t,D));const G=d.updateImmediateChild(t,Nt.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(s?.trackChildChange(my(k.name,k.node)),G.updateImmediateChild(k.name,k.node)):G}}return i.isEmpty()?e:w&&c(y,p)>=0?(null!=s&&(s.trackChildChange(ew(y.name,y.node)),s.trackChildChange(my(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(y.name,Nt.EMPTY_NODE)):e}}class GI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ol}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new GI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wR(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function CR(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function zI(n,e){const t=n.copy();return t.index_=e,t}function YB(n){const e={};if(n.isDefault())return e;let t;return n.index_===tt?t="$priority":n.index_===yR?t="$value":n.index_===o?t="$key":((0,L.hu)(n.index_ instanceof um,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,L.Pz)(t),n.startSet_&&(e.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function KB(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==tt&&(e.i=n.index_.toString()),e}class $I extends uR{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=nm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,L.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=$I.getListenId_(e,i),d={};this.listens_[c]=d;const p=YB(e._queryParams);this.restRequest_(s+".json",p,(y,w)=>{let D=w;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(s,D,!1,i),(0,L.DV)(this.listens_,c)===d){let k;k=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(k,null)}})}unlisten(e,t){const i=$I.getListenId_(e,t);delete this.listens_[i]}get(e){const t=YB(e._queryParams),i=e._path.toString(),r=new L.BH;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,L.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,L.cI)(d.responseText)}catch{Ar("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Ar("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class xq{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function qI(){return{value:null,children:new Map}}function gy(n,e,t){if(Gt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Yt(e);n.children.has(i)||n.children.set(i,qI()),gy(n.children.get(i),e=Mn(e),t)}}function ER(n,e){if(Gt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(tt,(i,r)=>{gy(n,new Cn(i),r)}),ER(n,e)}}if(n.children.size>0){const t=Yt(e);return e=Mn(e),n.children.has(t)&&ER(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function DR(n,e,t){null!==n.value?t(e,n.value):function Mq(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{DR(r,new Cn(e.toString()+"/"+i),t)})}class Aq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_r(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Oq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Aq(e);const i=1e4+2e4*Math.random();zh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;_r(e,(r,s)=>{s>0&&(0,L.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),zh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var al=(()=>{return(n=al||(al={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",al;var n})();function TR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ZI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=al.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Gt(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Cn(e));return new ZI(pn(),t,this.revert)}}return(0,L.hu)(Yt(this.path)===e,"operationForChild called for unrelated child."),new ZI(Mn(this.path),this.affectedTree,this.revert)}}class iw{constructor(e,t){this.source=e,this.path=t,this.type=al.LISTEN_COMPLETE}operationForChild(e){return Gt(this.path)?new iw(this.source,pn()):new iw(this.source,Mn(this.path))}}class dm{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=al.OVERWRITE}operationForChild(e){return Gt(this.path)?new dm(this.source,pn(),this.snap.getImmediateChild(e)):new dm(this.source,Mn(this.path),this.snap)}}class _y{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=al.MERGE}operationForChild(e){if(Gt(this.path)){const t=this.children.subtree(new Cn(e));return t.isEmpty()?null:t.value?new dm(this.source,pn(),t.value):new _y(this.source,pn(),t)}return(0,L.hu)(Yt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _y(this.source,Mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zh{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Gt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Yt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Pq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function rw(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,p)=>function Lq(n,e,t){if(null==e.childName||null==t.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new Jt(e.childName,e.snapshotNode),r=new Jt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function Fq(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&e.push(y.createEvent(p,n.query_))})})}function WI(n,e){return{eventCache:n,serverCache:e}}function sw(n,e,t,i){return WI(new Zh(e,t,i),n.serverCache)}function XB(n,e,t,i){return WI(n.eventCache,new Zh(e,t,i))}function YI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function hm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let xR;class ei{constructor(e,t=(()=>(xR||(xR=new f(PB)),xR))()){this.value=e,this.children=t}static fromObject(e){let t=new ei(null);return _r(e,(i,r)=>{t=t.set(new Cn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:pn(),value:this.value};if(Gt(e))return null;{const i=Yt(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Mn(e),t);return null!=s?{path:$n(new Cn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Gt(e))return this;{const t=Yt(e),i=this.children.get(t);return null!==i?i.subtree(Mn(e)):new ei(null)}}set(e,t){if(Gt(e))return new ei(t,this.children);{const i=Yt(e),s=(this.children.get(i)||new ei(null)).set(Mn(e),t),c=this.children.insert(i,s);return new ei(this.value,c)}}remove(e){if(Gt(e))return this.children.isEmpty()?new ei(null):new ei(null,this.children);{const t=Yt(e),i=this.children.get(t);if(i){const r=i.remove(Mn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new ei(null):new ei(this.value,s)}return this}}get(e){if(Gt(e))return this.value;{const t=Yt(e),i=this.children.get(t);return i?i.get(Mn(e)):null}}setTree(e,t){if(Gt(e))return t;{const i=Yt(e),s=(this.children.get(i)||new ei(null)).setTree(Mn(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ei(this.value,c)}}fold(e){return this.fold_(pn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_($n(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,pn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Gt(e))return null;{const s=Yt(e),c=this.children.get(s);return c?c.findOnPath_(Mn(e),$n(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,pn(),t)}foreachOnPath_(e,t,i){if(Gt(e))return this;{this.value&&i(t,this.value);const r=Yt(e),s=this.children.get(r);return s?s.foreachOnPath_(Mn(e),$n(t,r),i):new ei(null)}}foreach(e){this.foreach_(pn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_($n(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class rc{constructor(e){this.writeTree_=e}static empty(){return new rc(new ei(null))}}function ow(n,e,t){if(Gt(e))return new rc(new ei(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=ys(r,e);return s=s.updateChild(c,t),new rc(n.writeTree_.set(r,s))}{const r=new ei(t),s=n.writeTree_.setTree(e,r);return new rc(s)}}}function MR(n,e,t){let i=n;return _r(t,(r,s)=>{i=ow(i,$n(e,r),s)}),i}function JB(n,e){if(Gt(e))return rc.empty();{const t=n.writeTree_.setTree(e,new ei(null));return new rc(t)}}function AR(n,e){return null!=fm(n,e)}function fm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ys(t.path,e)):null}function e2(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(tt,(i,r)=>{e.push(new Jt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Jt(i,r.value))}),e}function Wh(n,e){if(Gt(e))return n;{const t=fm(n,e);return new rc(null!=t?new ei(t):n.writeTree_.subtree(e))}}function kR(n){return n.writeTree_.isEmpty()}function yy(n,e){return t2(pn(),n.writeTree_,e)}function t2(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,L.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=t2($n(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild($n(n,".priority"),i)),t}}function KI(n,e){return a2(e,n)}function Gq(n,e){if(n.snap)return wo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&wo($n(n.path,t),e))return!0;return!1}function $q(n){return n.visible}function n2(n,e,t){let i=rc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)wo(t,c)?(d=ys(t,c),i=ow(i,d,s.snap)):wo(c,t)&&(d=ys(c,t),i=ow(i,pn(),s.snap.getChild(d)));else{if(!s.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(wo(t,c))d=ys(t,c),i=MR(i,d,s.children);else if(wo(c,t))if(d=ys(c,t),Gt(d))i=MR(i,pn(),s.children);else{const p=(0,L.DV)(s.children,Yt(d));if(p){const y=p.getChild(Mn(d));i=ow(i,pn(),y)}}}}}return i}function r2(n,e,t,i,r){if(i||r){const s=Wh(n.visibleWrites,e);return!r&&kR(s)?t:r||null!=t||AR(s,pn())?yy(n2(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(wo(y.path,e)||wo(e,y.path))},e),t||Nt.EMPTY_NODE):null}{const s=fm(n.visibleWrites,e);if(null!=s)return s;{const c=Wh(n.visibleWrites,e);return kR(c)?t:null!=t||AR(c,pn())?yy(c,t||Nt.EMPTY_NODE):null}}}function QI(n,e,t,i){return r2(n.writeTree,n.treePath,e,t,i)}function RR(n,e){return function qq(n,e,t){let i=Nt.EMPTY_NODE;const r=fm(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(tt,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Wh(n.visibleWrites,e);return t.forEachChild(tt,(c,d)=>{const p=yy(Wh(s,new Cn(c)),d);i=i.updateImmediateChild(c,p)}),e2(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return e2(Wh(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function s2(n,e,t,i){return function Zq(n,e,t,i,r){(0,L.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=$n(e,t);if(AR(n.visibleWrites,s))return null;{const c=Wh(n.visibleWrites,s);return kR(c)?r.getChild(t):yy(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function XI(n,e){return function Yq(n,e){return fm(n.visibleWrites,e)}(n.writeTree,$n(n.treePath,e))}function OR(n,e,t){return function Wq(n,e,t,i){const r=$n(e,t),s=fm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?yy(Wh(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function o2(n,e){return a2($n(n.treePath,e),n.writeTree)}function a2(n,e){return{treePath:n,writeTree:e}}class Jq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,L.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,tw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,ew(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,my(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,L.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,tw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const l2=new class e4{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class PR{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Zh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return OR(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hm(this.viewCache_),s=function Xq(n,e,t,i,r,s){return function Kq(n,e,t,i,r,s,c){let d;const p=Wh(n.visibleWrites,e),y=fm(p,pn());if(null!=y)d=y;else{if(null==t)return[];d=yy(p,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const w=[],D=c.getCompare(),k=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=k.getNext();for(;P&&w.length<r;)0!==D(P,i)&&w.push(P),P=k.getNext();return w}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function c2(n,e,t,i,r,s){const c=e.eventCache;if(null!=XI(i,t))return e;{let d,p;if(Gt(t))if((0,L.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=hm(e),D=RR(i,y instanceof Nt?y:Nt.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const y=QI(i,hm(e));d=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=Yt(t);if(".priority"===y){(0,L.hu)(1===eu(t),"Can't have a priority with additional path components");const w=c.getNode();p=e.serverCache.getNode();const D=s2(i,t,w,p);d=null!=D?n.filter.updatePriority(w,D):c.getNode()}else{const w=Mn(t);let D;if(c.isCompleteForChild(y)){p=e.serverCache.getNode();const k=s2(i,t,c.getNode(),p);D=null!=k?c.getNode().getImmediateChild(y).updateChild(w,k):c.getNode().getImmediateChild(y)}else D=OR(i,y,e.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),y,D,w,r,s):c.getNode()}}return sw(e,d,c.isFullyInitialized()||Gt(t),n.filter.filtersNodes())}}function JI(n,e,t,i,r,s,c,d){const p=e.serverCache;let y;const w=c?n.filter:n.filter.getIndexedFilter();if(Gt(t))y=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(t,i);y=w.updateFullNode(p.getNode(),P,null)}else{const P=Yt(t);if(!p.isCompleteForPath(t)&&eu(t)>1)return e;const F=Mn(t),ne=p.getNode().getImmediateChild(P).updateChild(F,i);y=".priority"===P?w.updatePriority(p.getNode(),ne):w.updateChild(p.getNode(),P,ne,F,l2,null)}const D=XB(e,y,p.isFullyInitialized()||Gt(t),w.filtersNodes());return c2(n,D,t,r,new PR(r,D,s),d)}function NR(n,e,t,i,r,s,c){const d=e.eventCache;let p,y;const w=new PR(r,e,s);if(Gt(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=sw(e,y,!0,n.filter.filtersNodes());else{const D=Yt(t);if(".priority"===D)y=n.filter.updatePriority(e.eventCache.getNode(),i),p=sw(e,y,d.isFullyInitialized(),d.isFiltered());else{const k=Mn(t),P=d.getNode().getImmediateChild(D);let F;if(Gt(k))F=i;else{const G=w.getCompleteChild(D);F=null!=G?".priority"===hy(k)&&G.getChild(UI(k)).isEmpty()?G:G.updateChild(k,i):Nt.EMPTY_NODE}p=P.equals(F)?e:sw(e,n.filter.updateChild(d.getNode(),D,F,k,w,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function u2(n,e){return n.eventCache.isCompleteForChild(e)}function d2(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function FR(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=Gt(t)?i:new ei(null).setTree(t,i);const w=e.serverCache.getNode();return y.children.inorderTraversal((D,k)=>{if(w.hasChild(D)){const F=d2(0,e.serverCache.getNode().getImmediateChild(D),k);p=JI(n,p,new Cn(D),F,r,s,c,d)}}),y.children.inorderTraversal((D,k)=>{const P=!e.serverCache.isCompleteForChild(D)&&null===k.value;if(!w.hasChild(D)&&!P){const G=d2(0,e.serverCache.getNode().getImmediateChild(D),k);p=JI(n,p,new Cn(D),G,r,s,c,d)}}),p}class u4{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new bR(i.getIndex()),s=function Eq(n){return n.loadsAllData()?new bR(n.getIndex()):n.hasLimit()?new Cq(n):new nw(n)}(i);this.processor_=function t4(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,p=r.updateFullNode(Nt.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(Nt.EMPTY_NODE,d.getNode(),null),w=new Zh(p,c.isFullyInitialized(),r.filtersNodes()),D=new Zh(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=WI(D,w),this.eventGenerator_=new Pq(this.query_)}get query(){return this.query_}}function f4(n,e){const t=hm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Gt(e)&&!t.getImmediateChild(Yt(e)).isEmpty())?t.getChild(e):null}function h2(n){return 0===n.eventRegistrations_.length}function f2(n,e,t){const i=[];if(t){(0,L.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function p2(n,e,t,i){e.type===al.MERGE&&null!==e.source.queryId&&((0,L.hu)(hm(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(YI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function r4(n,e,t,i,r){const s=new Jq;let c,d;if(t.type===al.OVERWRITE){const y=t;y.source.fromUser?c=NR(n,e,y.path,y.snap,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered()&&!Gt(y.path),c=JI(n,e,y.path,y.snap,i,r,d,s))}else if(t.type===al.MERGE){const y=t;y.source.fromUser?c=function o4(n,e,t,i,r,s,c){let d=e;return i.foreach((p,y)=>{const w=$n(t,p);u2(e,Yt(w))&&(d=NR(n,d,w,y,r,s,c))}),i.foreach((p,y)=>{const w=$n(t,p);u2(e,Yt(w))||(d=NR(n,d,w,y,r,s,c))}),d}(n,e,y.path,y.children,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered(),c=FR(n,e,y.path,y.children,i,r,d,s))}else if(t.type===al.ACK_USER_WRITE){const y=t;c=y.revert?function c4(n,e,t,i,r,s){let c;if(null!=XI(i,t))return e;{const d=new PR(i,e,r),p=e.eventCache.getNode();let y;if(Gt(t)||".priority"===Yt(t)){let w;if(e.serverCache.isFullyInitialized())w=QI(i,hm(e));else{const D=e.serverCache.getNode();(0,L.hu)(D instanceof Nt,"serverChildren would be complete if leaf node"),w=RR(i,D)}y=n.filter.updateFullNode(p,w,s)}else{const w=Yt(t);let D=OR(i,w,e.serverCache);null==D&&e.serverCache.isCompleteForChild(w)&&(D=p.getImmediateChild(w)),y=null!=D?n.filter.updateChild(p,w,D,Mn(t),d,s):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,Nt.EMPTY_NODE,Mn(t),d,s):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=QI(i,hm(e)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=XI(i,pn()),sw(e,y,c,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function a4(n,e,t,i,r,s,c){if(null!=XI(r,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Gt(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return JI(n,e,t,p.getNode().getChild(t),r,s,d,c);if(Gt(t)){let y=new ei(null);return p.getNode().forEachChild(o,(w,D)=>{y=y.set(new Cn(w),D)}),FR(n,e,t,y,r,s,d,c)}return e}{let y=new ei(null);return i.foreach((w,D)=>{const k=$n(t,w);p.isCompleteForPath(k)&&(y=y.set(w,p.getNode().getChild(k)))}),FR(n,e,t,y,r,s,d,c)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==al.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+t.type);c=function l4(n,e,t,i,r){const s=e.serverCache;return c2(n,XB(e,s.getNode(),s.isFullyInitialized()||Gt(t),s.isFiltered()),t,i,l2,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function s4(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=YI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(WB(YI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function n4(n,e){(0,L.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,L.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,m2(n,s.changes,s.viewCache.eventCache.getNode(),null)}function m2(n,e,t,i){return function Nq(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function wq(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),rw(n,r,"child_removed",e,i,t),rw(n,r,"child_added",e,i,t),rw(n,r,"child_moved",s,i,t),rw(n,r,"child_changed",e,i,t),rw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let eS,nS;class g2{constructor(){this.views=new Map}}function LR(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,L.hu)(null!=s,"SyncTree gave us an op for an invalid query."),p2(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(p2(c,e,t,i));return s}}function _2(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=QI(t,r?i:null),p=!1;d?p=!0:i instanceof Nt?(d=RR(t,i),p=!1):(d=Nt.EMPTY_NODE,p=!1);const y=WI(new Zh(d,p,!1),new Zh(i,r,!1));return new u4(e,y)}return c}function y2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Yh(n,e){let t=null;for(const i of n.views.values())t=t||f4(i,e);return t}function v2(n,e){return e._queryParams.loadsAllData()?tS(n):n.views.get(e._queryIdentifier)}function b2(n,e){return null!=v2(n,e)}function Kh(n){return null!=tS(n)}function tS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let E4=1;class w2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ei(null),this.pendingWriteTree_=function Qq(){return{visibleWrites:rc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BR(n,e,t,i,r){return function Vq(n,e,t,i,r){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=ow(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?vy(n,new dm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Qh(n,e,t=!1){const i=function Hq(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function jq(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,L.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&Gq(d,i.path)?r=!1:wo(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function zq(n){n.visibleWrites=n2(n.allWrites,$q,pn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=JB(n.visibleWrites,i.path):_r(i.children,p=>{n.visibleWrites=JB(n.visibleWrites,$n(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new ei(null);return null!=i.snap?s=s.set(pn(),!0):_r(i.children,c=>{s=s.set(new Cn(c),!0)}),vy(n,new ZI(i.path,s,t))}return[]}function aw(n,e,t){return vy(n,new dm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function iS(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===e._queryIdentifier||b2(c,e))){const p=function b4(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=Kh(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(f2(y,t,i)),h2(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(f2(p,t,i)),h2(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Kh(n)&&s.push(new(function _4(){return(0,L.hu)(eS,"Reference.ts has not been loaded"),eS}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function y4(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const y=p.removed;if(d=p.events,!r){const w=-1!==y.findIndex(k=>k._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(k,P)=>Kh(P));if(w&&!D){const k=n.syncPointTree_.subtree(s);if(!k.isEmpty()){const P=function A4(n){return n.fold((e,t,i)=>{if(t&&Kh(t))return[tS(t)];{let r=[];return t&&(r=y2(t)),_r(i,(s,c)=>{r=r.concat(c)}),r}})}(k);for(let F=0;F<P.length;++F){const G=P[F],ne=G.query,Te=I2(n,G);n.listenProvider_.startListening(cw(ne),lw(n,ne),Te.hashFn,Te.onComplete)}}}!D&&y.length>0&&!i&&(w?n.listenProvider_.stopListening(cw(e),null):y.forEach(k=>{const P=n.queryToTagMap.get(sS(k));n.listenProvider_.stopListening(cw(k),P)}))}!function k4(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=sS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,y)}return d}function C2(n,e,t,i){const r=UR(n,i);if(null!=r){const s=HR(r),c=s.path,d=s.queryId,p=ys(c,e);return jR(n,c,new dm(TR(d),p,t))}return[]}function VR(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(k,P)=>{const F=ys(k,r);s=s||Yh(P,F),c=c||Kh(P)});let p,d=n.syncPointTree_.get(r);d?(c=c||Kh(d),s=s||Yh(d,pn())):(d=new g2,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=Nt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,F)=>{const G=Yh(F,pn());G&&(s=s.updateImmediateChild(P,G))}));const y=b2(d,e);if(!y&&!e._queryParams.loadsAllData()){const k=sS(e);(0,L.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const P=function R4(){return E4++}();n.queryToTagMap.set(k,P),n.tagToQueryMap.set(P,k)}let D=function v4(n,e,t,i,r,s){const c=_2(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function p4(n,e){n.eventRegistrations_.push(e)}(c,t),function m4(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(tt,(s,c)=>{i.push(my(s,c))}),t.isFullyInitialized()&&i.push(WB(t.getNode())),m2(n,i,t.getNode(),e)}(c,t)}(d,e,t,KI(n.pendingWriteTree_,r),s,p);if(!y&&!c&&!i){const k=v2(d,e);D=D.concat(function O4(n,e,t){const i=e._path,r=lw(n,e),s=I2(n,t),c=n.listenProvider_.startListening(cw(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,L.hu)(!Kh(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((y,w,D)=>{if(!Gt(y)&&w&&Kh(w))return[tS(w).query];{let k=[];return w&&(k=k.concat(y2(w).map(P=>P.query))),_r(D,(P,F)=>{k=k.concat(F)}),k}});for(let y=0;y<p.length;++y){const w=p[y];n.listenProvider_.stopListening(cw(w),lw(n,w))}}return c}(n,e,k))}return D}function rS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const y=Yh(d,ys(c,e));if(y)return y});return r2(r,e,s,t,!0)}function vy(n,e){return E2(e,n.syncPointTree_,null,KI(n.pendingWriteTree_,pn()))}function E2(n,e,t,i){if(Gt(n.path))return D2(n,e,t,i);{const r=e.get(pn());null==t&&null!=r&&(t=Yh(r,pn()));let s=[];const c=Yt(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const y=t?t.getImmediateChild(c):null,w=o2(i,c);s=s.concat(E2(d,p,y,w))}return r&&(s=s.concat(LR(r,n,i,t))),s}}function D2(n,e,t,i){const r=e.get(pn());null==t&&null!=r&&(t=Yh(r,pn()));let s=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,y=o2(i,c),w=n.operationForChild(c);w&&(s=s.concat(D2(w,d,p,y)))}),r&&(s=s.concat(LR(r,n,i,t))),s}function I2(n,e){const t=e.query,i=lw(n,t);return{hashFn:()=>(function d4(n){return n.viewCache_.serverCache.getNode()}(e)||Nt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function T4(n,e,t){const i=UR(n,t);if(i){const r=HR(i),s=r.path,c=r.queryId,d=ys(s,e);return jR(n,s,new iw(TR(c),d))}return[]}(n,t._path,i):function S4(n,e){return vy(n,new iw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Qk(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return iS(n,t,null,s)}}}}function lw(n,e){const t=sS(e);return n.queryToTagMap.get(t)}function sS(n){return n._path.toString()+"$"+n._queryIdentifier}function UR(n,e){return n.tagToQueryMap.get(e)}function HR(n){const e=n.indexOf("$");return(0,L.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Cn(n.substr(0,e))}}function jR(n,e,t){const i=n.syncPointTree_.get(e);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),LR(i,t,KI(n.pendingWriteTree_,e),null)}function cw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function C4(){return(0,L.hu)(nS,"Reference.ts has not been loaded"),nS}())(n._repo,n._path):n}class GR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new GR(t)}node(){return this.node_}}class zR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$n(this.path_,e);return new zR(this.syncTree_,t)}node(){return rS(this.syncTree_,this.path_)}}const S2=function(n,e,t){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?N4(n[".sv"],e,t):"object"==typeof n[".sv"]?F4(n[".sv"],e):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},N4=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},F4=function(n,e,t){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,L.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},T2=function(n,e,t,i){return qR(e,new zR(t,n),i)},$R=function(n,e,t){return qR(n,new GR(e),t)};function qR(n,e,t){const i=n.getPriority().val(),r=S2(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=S2(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new Y(d,qn(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Y(r))),c.forEachChild(tt,(d,p)=>{const y=qR(p,e.getImmediateChild(d),t);y!==p&&(s=s.updateImmediateChild(d,y))}),s}}class ZR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function oS(n,e){let t=e instanceof Cn?e:new Cn(e),i=n,r=Yt(t);for(;null!==r;){const s=(0,L.DV)(i.node.children,r)||{children:{},childCount:0};i=new ZR(r,i,s),t=Mn(t),r=Yt(t)}return i}function pm(n){return n.node.value}function WR(n,e){n.node.value=e,YR(n)}function x2(n){return n.node.childCount>0}function aS(n,e){_r(n.node.children,(t,i)=>{e(new ZR(t,n,i))})}function M2(n,e,t,i){t&&!i&&e(n),aS(n,r=>{M2(r,e,!0,i)}),t&&i&&e(n)}function uw(n){return new Cn(null===n.parent?n.name:uw(n.parent)+"/"+n.name)}function YR(n){null!==n.parent&&function V4(n,e,t){const i=function L4(n){return void 0===pm(n)&&!x2(n)}(t),r=(0,L.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,YR(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,YR(n))}(n.parent,n.name,n)}const U4=/[\[\].#$\/\u0000-\u001F\u007F]/,H4=/[\[\].#$\u0000-\u001F\u007F]/,KR=10485760,lS=function(n){return"string"==typeof n&&0!==n.length&&!U4.test(n)},A2=function(n){return"string"==typeof n&&0!==n.length&&!H4.test(n)},dw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!A0(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},tu=function(n,e,t,i){i&&void 0===e||hw((0,L.gK)(n,"value"),e,t)},hw=function(n,e,t){const i=t instanceof Cn?new fR(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Sd(i));if("function"==typeof e)throw new Error(n+"contains a function "+Sd(i)+" with contents = "+e.toString());if(A0(e))throw new Error(n+"contains "+e.toString()+" "+Sd(i));if("string"==typeof e&&e.length>KR/3&&(0,L.ug)(e)>KR)throw new Error(n+"contains a string greater than "+KR+" utf8 bytes "+Sd(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(_r(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!lS(c)))throw new Error(n+" contains an invalid key ("+c+") "+Sd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function VB(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,L.ug)(e),jI(n)})(i,c),hw(n,d,i),function UB(n){const e=n.parts_.pop();n.byteLength_-=(0,L.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Sd(i)+" in addition to actual children.")}},k2=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,L.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];_r(e,(c,d)=>{const p=new Cn(c);if(hw(r,d,$n(t,p)),".priority"===hy(p)&&!dw(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=lm(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!lS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(HI);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&wo(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},QR=function(n,e,t){if(!t||void 0!==e){if(A0(e))throw new Error((0,L.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!dw(e))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fw=function(n,e,t,i){if(!(i&&void 0===t||lS(t)))throw new Error((0,L.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pw=function(n,e,t,i){if(!(i&&void 0===t||A2(t)))throw new Error((0,L.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ll=function(n,e){if(".info"===Yt(e))throw new Error(n+" failed = Can't modify data under /.info/")},R2=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!lS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),A2(n)}(t))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!cm(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function O2(n,e,t){cS(n,t),P2(n,i=>cm(i,e))}function ha(n,e,t){cS(n,t),P2(n,i=>wo(i,e)||wo(e,i))}function P2(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(q4(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function q4(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Dd&&Ji("event: "+t.toString()),Gh(i)}}}const N2="repo_interrupt";class W4{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qI(),this.transactionQueueTree_=new ZR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F2(n){const t=n.infoData_.getNode(new Cn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function mw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:F2(n)})}function L2(n,e,t,i,r){n.dataUpdateCount++;const s=new Cn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,L.UI)(t,y=>qn(y));c=function x4(n,e,t,i){const r=UR(n,i);if(r){const s=HR(r),c=s.path,d=s.queryId,p=ys(c,e),y=ei.fromObject(t);return jR(n,c,new _y(TR(d),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=qn(t);c=C2(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,L.UI)(t,y=>qn(y));c=function I4(n,e,t){const i=ei.fromObject(t);return vy(n,new _y({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=qn(t);c=aw(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=wy(n,s)),ha(n.eventQueue_,d,c)}function B2(n,e){XR(n,"connected",e),!1===e&&function J4(n){by(n,"onDisconnectEvents");const e=mw(n),t=qI();DR(n.onDisconnect_,pn(),(r,s)=>{const c=T2(r,s,n.serverSyncTree_,e);gy(t,r,c)});let i=[];DR(t,pn(),(r,s)=>{i=i.concat(aw(n.serverSyncTree_,r,s));const c=nO(n,r);wy(n,c)}),n.onDisconnect_=qI(),ha(n.eventQueue_,pn(),i)}(n)}function XR(n,e,t){const i=new Cn("/.info/"+e),r=qn(t);n.infoData_.updateSnapshot(i,r);const s=aw(n.infoSyncTree_,i,r);ha(n.eventQueue_,i,s)}function uS(n){return n.nextWriteId_++}function JR(n,e,t,i,r){by(n,"set",{path:e.toString(),value:t,priority:i});const s=mw(n),c=qn(t,i),d=rS(n.serverSyncTree_,e),p=$R(c,d,s),y=uS(n),w=BR(n.serverSyncTree_,e,p,y,!0);cS(n.eventQueue_,w),n.server_.put(e.toString(),c.val(!0),(k,P)=>{const F="ok"===k;F||Ar("set at "+e+" failed: "+k);const G=Qh(n.serverSyncTree_,y,!F);ha(n.eventQueue_,e,G),Xh(0,r,k,P)});const D=nO(n,e);wy(n,D),ha(n.eventQueue_,D,[])}function e5(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&ER(n.onDisconnect_,e),Xh(0,t,i,r)})}function V2(n,e,t,i){const r=qn(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&gy(n.onDisconnect_,e,r),Xh(0,i,s,c)})}function eO(n,e,t){let i;i=".info"===Yt(e._path)?iS(n.infoSyncTree_,e,t):iS(n.serverSyncTree_,e,t),O2(n.eventQueue_,e._path,i)}function U2(n){n.persistentConnection_&&n.persistentConnection_.interrupt(N2)}function by(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ji(t,...e)}function Xh(n,e,t,i){e&&Gh(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function tO(n,e,t){return rS(n.serverSyncTree_,e,t)||Nt.EMPTY_NODE}function dS(n,e=n.transactionQueueTree_){if(e||hS(n,e),pm(e)){const t=j2(n,e);(0,L.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function a5(n,e,t){const i=t.map(y=>y.currentWriteId),r=tO(n,e,i);let s=r;const c=r.hash();for(let y=0;y<t.length;y++){const w=t[y];(0,L.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const D=ys(e,w.path);s=s.updateChild(D,w.currentOutputSnapshotRaw)}const d=s.val(!0),p=e;n.server_.put(p.toString(),d,y=>{by(n,"transaction put response",{path:p.toString(),status:y});let w=[];if("ok"===y){const D=[];for(let k=0;k<t.length;k++)t[k].status=2,w=w.concat(Qh(n.serverSyncTree_,t[k].currentWriteId)),t[k].onComplete&&D.push(()=>t[k].onComplete(null,!0,t[k].currentOutputSnapshotResolved)),t[k].unwatcher();hS(n,oS(n.transactionQueueTree_,e)),dS(n,n.transactionQueueTree_),ha(n.eventQueue_,e,w);for(let k=0;k<D.length;k++)Gh(D[k])}else{if("datastale"===y)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{Ar("transaction at "+p.toString()+" failed: "+y);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=y}wy(n,e)}},c)}(n,uw(e),t)}else x2(e)&&aS(e,t=>{dS(n,t)})}function wy(n,e){const t=H2(n,e),i=uw(t);return function l5(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],y=ys(t,p.path);let D,w=!1;if((0,L.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,D=p.abortReason,r=r.concat(Qh(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,D="maxretry",r=r.concat(Qh(n.serverSyncTree_,p.currentWriteId,!0));else{const k=tO(n,p.path,c);p.currentInputSnapshot=k;const P=e[d].update(k.val());if(void 0!==P){hw("transaction failed: Data returned ",P,p.path);let F=qn(P);"object"==typeof P&&null!=P&&(0,L.r3)(P,".priority")||(F=F.updatePriority(k.getPriority()));const ne=p.currentWriteId,Te=mw(n),He=$R(F,k,Te);p.currentOutputSnapshotRaw=F,p.currentOutputSnapshotResolved=He,p.currentWriteId=uS(n),c.splice(c.indexOf(ne),1),r=r.concat(BR(n.serverSyncTree_,p.path,He,p.currentWriteId,p.applyLocally)),r=r.concat(Qh(n.serverSyncTree_,ne,!0))}else w=!0,D="nodata",r=r.concat(Qh(n.serverSyncTree_,p.currentWriteId,!0))}ha(n.eventQueue_,t,r),r=[],w&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===D?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(D),!1,null)))}hS(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Gh(i[d]);dS(n,n.transactionQueueTree_)}(n,j2(n,t),i),i}function H2(n,e){let t,i=n.transactionQueueTree_;for(t=Yt(e);null!==t&&void 0===pm(i);)i=oS(i,t),t=Yt(e=Mn(e));return i}function j2(n,e){const t=[];return G2(n,e,t),t.sort((i,r)=>i.order-r.order),t}function G2(n,e,t){const i=pm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);aS(e,r=>{G2(n,r,t)})}function hS(n,e){const t=pm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,WR(e,t.length>0?t:void 0)}aS(e,i=>{hS(n,i)})}function nO(n,e){const t=uw(H2(n,e)),i=oS(n.transactionQueueTree_,e);return function B4(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{iO(n,r)}),iO(n,i),M2(i,r=>{iO(n,r)}),t}function iO(n,e){const t=pm(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,L.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,L.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Qh(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?WR(e,void 0):t.length=s+1,ha(n.eventQueue_,uw(e),r);for(let c=0;c<i.length;c++)Gh(i[c])}}const rO=function(n,e){const t=d5(n),i=t.namespace;return"firebase.com"===t.domain&&Us(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Us("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new F0(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Cn(t.pathString)}},d5=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let w=n.indexOf("/");-1===w&&(w=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(w,D)),w<D&&(r=function c5(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(w,D)));const k=function u5(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ar(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));y=e.indexOf(":"),y>=0?(c="https"===d||"wss"===d,p=parseInt(e.substring(y+1),10)):y=e.length;const P=e.slice(0,y);if("localhost"===P.toLowerCase())t="localhost";else if(P.split(".").length<=2)t=P;else{const F=e.indexOf(".");i=e.substring(0,F).toLowerCase(),t=e.substring(F+1),s=i}"ns"in k&&(s=k.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class z2{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class $2{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sO{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class q2{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new L.BH;return e5(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ll("OnDisconnect.remove",this._path);const e=new L.BH;return V2(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ll("OnDisconnect.set",this._path),tu("OnDisconnect.set",e,this._path,!1);const t=new L.BH;return V2(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ll("OnDisconnect.setWithPriority",this._path),tu("OnDisconnect.setWithPriority",e,this._path,!1),QR("OnDisconnect.setWithPriority",t,!1);const i=new L.BH;return function t5(n,e,t,i,r){const s=qn(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&gy(n.onDisconnect_,e,s),Xh(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){ll("OnDisconnect.update",this._path),k2("OnDisconnect.update",e,this._path,!1);const t=new L.BH;return function n5(n,e,t,i){if((0,L.xb)(t))return Ji("onDisconnect().update() called with empty data.  Don't do anything."),void Xh(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&_r(t,(c,d)=>{const p=qn(d);gy(n.onDisconnect_,$n(e,c),p)}),Xh(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Eo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Gt(this._path)?null:hy(this._path)}get ref(){return new cl(this._repo,this._path)}get _queryIdentifier(){const e=KB(this._queryParams),t=ey(e);return"{}"===t?"default":t}get _queryObject(){return KB(this._queryParams)}isEqual(e){if(!((e=(0,L.m9)(e))instanceof Eo))return!1;const t=this._repo===e._repo,i=cm(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function VI(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function fS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Jh(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===o){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==tc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ol)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===tt){if(null!=e&&!dw(e)||null!=t&&!dw(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof um||n.getIndex()===yR,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cl extends Eo{constructor(e,t){super(e,t,new GI,!1)}get parent(){const e=UI(this._path);return null===e?null:new cl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class mm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Cn(e),i=gm(this.ref,e);return new mm(this._node.getChild(t),i,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new mm(r,gm(this.ref,i),tt)))}hasChild(e){const t=new Cn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Z2(n,e){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==e?gm(n._root,e):n._root}function W2(n,e){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const t=rO(e,n._repo.repoInfo_.nodeAdmin);R2("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Us("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Z2(n,t.path.toString())}function gm(n,e){return null===Yt((n=(0,L.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pw("child","path",t,!1)):pw("child","path",e,!1),new cl(n._repo,$n(n._path,e));var t}function oO(n,e){n=(0,L.m9)(n),ll("set",n._path),tu("set",e,n._path,!1);const t=new L.BH;return JR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function g5(n,e){k2("update",e,n._path,!1);const t=new L.BH;return function X4(n,e,t,i){by(n,"update",{path:e.toString(),value:t});let r=!0;const s=mw(n),c={};if(_r(t,(d,p)=>{r=!1,c[d]=T2($n(e,d),qn(p),n.serverSyncTree_,s)}),r)Ji("update() called with empty data.  Don't do anything."),Xh(0,i,"ok",void 0);else{const d=uS(n),p=function D4(n,e,t,i){!function Uq(n,e,t,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=MR(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=ei.fromObject(t);return vy(n,new _y({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);cS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,w)=>{const D="ok"===y;D||Ar("update at "+e+" failed: "+y);const k=Qh(n.serverSyncTree_,d,!D),P=k.length>0?wy(n,e):e;ha(n.eventQueue_,P,k),Xh(0,i,y,w)}),_r(t,y=>{const w=nO(n,$n(e,y));wy(n,w)}),ha(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function _5(n){n=(0,L.m9)(n);const e=new sO(()=>{}),t=new gw(e);return function Q4(n,e,t){const i=function M4(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,w)=>{const D=ys(y,t);i=i||Yh(w,D)});let r=n.syncPointTree_.get(t);r?i=i||Yh(r,pn()):(r=new g2,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Zh(i,!0,!1):null;return function h4(n){return YI(n.viewCache_)}(_2(r,e,KI(n.pendingWriteTree_,e._path),s?c.getNode():Nt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=qn(r).withIndex(e._queryParams.getIndex());let c;if(VR(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=aw(n.serverSyncTree_,e._path,s);else{const d=lw(n.serverSyncTree_,e);c=C2(n.serverSyncTree_,e._path,s,d)}return ha(n.eventQueue_,e._path,c),iS(n.serverSyncTree_,e,t,null,!0),s},r=>(by(n,"get for query "+(0,L.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new mm(i,new cl(n._repo,n._path),n._queryParams.getIndex()))}class gw{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new z2("value",this,new mm(e.snapshotNode,new cl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $2(this,e,t):null}matches(e){return e instanceof gw&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $2(this,e,t):null}createEvent(e,t){(0,L.hu)(null!=e.childName,"Child events should have a childName.");const i=gm(new cl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new z2(e.type,this,new mm(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _w(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,y=(w,D)=>{eO(n._repo,n,d),p(w,D)};y.userCallback=t.userCallback,y.context=t.context,t=y}const c=new sO(t,s||void 0),d="value"===e?new gw(c):new mS(e,c);return function r5(n,e,t){let i;i=".info"===Yt(e._path)?VR(n.infoSyncTree_,e,t):VR(n.serverSyncTree_,e,t),O2(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>eO(n._repo,n,d)}function aO(n,e,t,i){return _w(n,"value",e,t,i)}function Y2(n,e,t,i){return _w(n,"child_added",e,t,i)}function K2(n,e,t,i){return _w(n,"child_changed",e,t,i)}function Q2(n,e,t,i){return _w(n,"child_moved",e,t,i)}function X2(n,e,t,i){return _w(n,"child_removed",e,t,i)}function J2(n,e,t){let i=null;const r=t?new sO(t):null;"value"===e?i=new gw(r):e&&(i=new mS(e,r)),eO(n._repo,n,i)}class sc{}class eV extends sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("endAt",this._value,e._path,!0);const t=CR(e._queryParams,this._value,this._key);if(pS(t),Jh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class v5 extends sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("endBefore",this._value,e._path,!1);const t=function Tq(n,e,t){let i,r;return n.index_===o?("string"==typeof e&&(e=ZB(e)),r=CR(n,e,t)):(i=null==t?tc:ZB(t),r=CR(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(pS(t),Jh(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class tV extends sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("startAt",this._value,e._path,!0);const t=wR(e._queryParams,this._value,this._key);if(pS(t),Jh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class C5 extends sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("startAfter",this._value,e._path,!1);const t=function Sq(n,e,t){let i;if(n.index_===o)"string"==typeof e&&(e=qB(e)),i=wR(n,e,t);else{let r;r=null==t?ol:qB(t),i=wR(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(pS(t),Jh(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Eo(e._repo,e._path,t,e._orderByCalled)}}class D5 extends sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Eo(e._repo,e._path,function Dq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class S5 extends sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Eo(e._repo,e._path,function Iq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class x5 extends sc{constructor(e){super(),this._path=e}_apply(e){fS(e,"orderByChild");const t=new Cn(this._path);if(Gt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new um(t),r=zI(e._queryParams,i);return Jh(r),new Eo(e._repo,e._path,r,!0)}}class A5 extends sc{_apply(e){fS(e,"orderByKey");const t=zI(e._queryParams,o);return Jh(t),new Eo(e._repo,e._path,t,!0)}}class R5 extends sc{_apply(e){fS(e,"orderByPriority");const t=zI(e._queryParams,tt);return Jh(t),new Eo(e._repo,e._path,t,!0)}}class P5 extends sc{_apply(e){fS(e,"orderByValue");const t=zI(e._queryParams,yR);return Jh(t),new Eo(e._repo,e._path,t,!0)}}class F5 extends sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(tu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new eV(this._value,this._key)._apply(new tV(this._value,this._key)._apply(e))}}function oc(n,...e){let t=(0,L.m9)(n);for(const i of e)t=i._apply(t);return t}(function g4(n){(0,L.hu)(!eS,"__referenceConstructor has already been defined"),eS=n})(cl),function w4(n){(0,L.hu)(!nS,"__referenceConstructor has already been defined"),nS=n}(cl);const lO={};function iV(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Us("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ji("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=rO(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${d.namespace}`,c=rO(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const w=r&&p?new $h($h.OWNER):new Xk(n.name,n.options,e);R2("Invalid Firebase Database URL",c),Gt(c.path)||Us("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function H5(n,e,t,i){let r=lO[e.name];r||(r={},lO[e.name]=r);let s=r[n.toURLString()];return s&&Us("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new W4(n,false,t,i),r[n.toURLString()]=s,s}(d,n,w,new EI(n.name,t));return new G5(D,n)}class G5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Y4(n,e,t){if(n.stats_=sy(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new $I(n.repoInfo_,(i,r,s,c)=>{L2(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>B2(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qh(n.repoInfo_,e,(i,r,s,c)=>{L2(n,i,r,s,c)},i=>{B2(n,i)},i=>{!function K4(n,e){_r(e,(t,i)=>{XR(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function nR(n,e){const t=n.toString();return xI[t]||(xI[t]=e()),xI[t]}(n.repoInfo_,()=>new Oq(n.stats_,n.server_)),n.infoData_=new xq,n.infoSyncTree_=new w2({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=aw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),XR(n,"connected",!1),n.serverSyncTree_=new w2({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const y=c(d,p);ha(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cl(this._repo,pn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function U5(n,e){const t=lO[e];(!t||t[n.key]!==n)&&Us(`Database ${e}(${n.repoInfo_}) has already been deleted.`),U2(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Us("Cannot call "+e+" on a deleted database.")}}function rV(){lR.IS_TRANSPORT_INITIALIZED&&Ar("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function z5(){rV(),ic.forceDisallow()}function $5(){rV(),om.forceDisallow(),ic.forceAllow()}function Y5(n,e){Yk(n,e)}const Q5={".sv":"timestamp"};class eZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qh.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},qh.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function K5(n){Zk(Yr.SDK_VERSION),(0,Yr._registerComponent)(new la.wA("database",(e,{instanceIdentifier:t})=>iV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)($k,"0.13.6",n),(0,Yr.registerVersion)($k,"0.13.6","esm2017")}();const rZ=new il.Yd("@firebase/database-compat"),sV=function(n){rZ.warn("FIREBASE WARNING: "+n)};class aZ{constructor(e){this._delegate=e}cancel(e){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,sV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class lZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ef{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),pw("DataSnapshot.child","path",e,!1),new ef(this._database,this._delegate.child(e))}hasChild(e){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pw("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new ef(this._database,t)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new fa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Qr{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",t,!1);const c=Qr.getCancelAndContextArgs_("Query.on",i,r),d=(y,w)=>{t.call(c.context,new ef(this.database,y),w)};d.userCallback=t,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return aO(this._delegate,d,p),t;case"child_added":return Y2(this._delegate,d,p),t;case"child_removed":return X2(this._delegate,d,p),t;case"child_changed":return K2(this._delegate,d,p),t;case"child_moved":return Q2(this._delegate,d,p),t;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,L.Wj)("Query.off","callback",t,!0),(0,L.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,J2(this._delegate,e,r)}else J2(this._delegate,e)}get(){return _5(this._delegate).then(e=>new ef(this.database,e))}once(e,t,i,r){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",t,!0);const s=Qr.getCancelAndContextArgs_("Query.once",i,r),c=new L.BH,d=(y,w)=>{const D=new ef(this.database,y);t&&t.call(s.context,D,w),c.resolve(D)};d.userCallback=t,d.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(e){case"value":aO(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":Y2(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":X2(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":K2(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":Q2(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Qr(this.database,oc(this._delegate,function I5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new D5(n)}(e)))}limitToLast(e){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Qr(this.database,oc(this._delegate,function T5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new S5(n)}(e)))}orderByChild(e){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Qr(this.database,oc(this._delegate,function M5(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pw("orderByChild","path",n,!1),new x5(n)}(e)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Qr(this.database,oc(this._delegate,function k5(){return new A5}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Qr(this.database,oc(this._delegate,function O5(){return new R5}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Qr(this.database,oc(this._delegate,function N5(){return new P5}()))}startAt(e=null,t){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Qr(this.database,oc(this._delegate,function w5(n=null,e){return fw("startAt","key",e,!0),new tV(n,e)}(e,t)))}startAfter(e=null,t){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Qr(this.database,oc(this._delegate,function E5(n,e){return fw("startAfter","key",e,!0),new C5(n,e)}(e,t)))}endAt(e=null,t){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Qr(this.database,oc(this._delegate,function y5(n,e){return fw("endAt","key",e,!0),new eV(n,e)}(e,t)))}endBefore(e=null,t){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Qr(this.database,oc(this._delegate,function b5(n,e){return fw("endBefore","key",e,!0),new v5(n,e)}(e,t)))}equalTo(e,t){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Qr(this.database,oc(this._delegate,function L5(n,e){return fw("equalTo","key",e,!0),new F5(n,e)}(e,t)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,L.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,L.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,L.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new fa(this.database,new cl(this._delegate._repo,this._delegate._path))}}class fa extends Qr{constructor(e,t){super(e,new Eo(t._repo,t._path,new GI,!1)),this.database=e,this._delegate=t}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new fa(this.database,gm(this._delegate,e))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new fa(this.database,e):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new fa(this.database,this._delegate.root)}set(e,t){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",t,!0);const i=oO(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,sV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ll("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",t,!0);const i=g5(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function m5(n,e,t){if(ll("setWithPriority",n._path),tu("setWithPriority",e,n._path,!1),QR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return JR(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",e,!0);const t=function f5(n){return ll("remove",n._path),oO(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,L.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function tZ(n,e,t){var i;if(n=(0,L.m9)(n),ll("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new L.BH,d=aO(n,()=>{});return function o5(n,e,t,i,r,s){by(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:Wk(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=tO(n,e,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{hw("transaction failed: Data returned ",p,c.path),c.status=0;const y=oS(n.transactionQueueTree_,e),w=pm(y)||[];let D;w.push(c),WR(y,w),"object"==typeof p&&null!==p&&(0,L.r3)(p,".priority")?(D=(0,L.DV)(p,".priority"),(0,L.hu)(dw(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(rS(n.serverSyncTree_,e)||Nt.EMPTY_NODE).getPriority().val();const k=mw(n),P=qn(p,D),F=$R(P,d,k);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=F,c.currentWriteId=uS(n);const G=BR(n.serverSyncTree_,e,F,c.currentWriteId,c.applyLocally);ha(n.eventQueue_,e,G),dS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,w)=>{let D=null;p?s.reject(p):(D=new mm(w,new cl(n._repo,n._path),tt),s.resolve(new eZ(y,D)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new lZ(s.committed,new ef(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",t,!0);const i=function p5(n,e){n=(0,L.m9)(n),ll("setPriority",n._path),QR("setPriority",e,!1);const t=new L.BH;return JR(n._repo,$n(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",t,!0);const i=function h5(n,e){n=(0,L.m9)(n),ll("push",n._path),tu("push",e,n._path,!0);const t=F2(n._repo),i=bq(t),r=gm(n,i),s=gm(n,i);let c;return c=null!=e?oO(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new fa(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new fa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return ll("Reference.onDisconnect",this._delegate._path),new aZ(new q2(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class yw{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:z5,forceLongPolling:$5}}useEmulator(e,t,i={}){!function q5(n,e,t,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Us("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Us('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $h($h.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);s=new $h(c)}!function V5(n,e,t,i){n.repoInfo_=new F0(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,L.Dv)("database.ref",0,1,arguments.length),e instanceof fa){const t=W2(this._delegate,e.toString());return new fa(this,t)}{const t=Z2(this._delegate,e);return new fa(this,t)}}refFromURL(e){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=W2(this._delegate,e);return new fa(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function Z5(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),U2(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function W5(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function s5(n){n.persistentConnection_&&n.persistentConnection_.resume(N2)}(n._repo)}(this._delegate)}}yw.ServerValue={TIMESTAMP:function X5(){return Q5}(),increment:n=>function J5(n){return{".sv":{increment:n}}}(n)};var uZ=Object.freeze({__proto__:null,initStandalone:function cZ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Zk(t);const c=new la.zt("auth-internal",new la.H0("database-standalone"));return c.setComponent(new la.wA("auth-internal",()=>i,"PRIVATE")),{instance:new yw(iV(n,c,void 0,e,s),n),namespace:r}}});const dZ=yw.ServerValue;function oV(n){return null==n}function aV(n){return"function"==typeof n.set}function lV(n,e){return aV(e)?e:n.ref(e)}function cV(n,e){if(function fZ(n){return"string"==typeof n}(n))return e.stringCase();if(aV(n))return e.firebaseCase();if(function pZ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function vw(n,e,t="on",i=hd.z){return new On.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,qe.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,zp.B)())}function uV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function _Z(n,e){const{payload:t,prevKey:i,key:r}=e,s=uV(n,r),c=function gZ(n,e){if(oV(e))return 0;{const t=uV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function dV(n){return(oV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function hV(n,e,t){return function mZ(n,e,t){return vw(n,"value","once",t).pipe(xn(i=>{const r=[Xe(i)];return e.forEach(s=>r.push(vw(n,s,"on",t))),(0,sa.T)(...r).pipe(Tt(_Z,[]))}),g_())}(n,e=dV(e),t)}function fV(n,e,t){const i=(e=dV(e)).map(r=>vw(n,r,"on",t));return(0,sa.T)(...i)}function pV(n,e){return function(i,r){return cV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function wZ(n){return function(t){return t?cV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function mV(n,e){return function(){return vw(n,"value","on",e)}}!function hZ(n){n.INTERNAL.registerComponent(new la.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new yw(r,i)},"PUBLIC").setServiceProps({Reference:fa,Query:Qr,Database:yw,DataSnapshot:ef,enableLogging:Y5,INTERNAL:uZ,ServerValue:dZ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(bI.Z);const DZ=new a.OlP("angularfire2.realtimeDatabaseURL"),IZ=new a.OlP("angularfire2.database.use-emulator");let cO=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w,D,k,P,F,G,ne){this.schedulers=d;const Te=p,He=(0,Ui.on)(t,c,i);y&&S0(He,c,w,k,P,F,D,G),this.database=(0,Ui.cc)(`${He.name}.database.${r}`,"AngularFireDatabase",He.name,()=>{const Ye=c.runOutsideAngular(()=>He.database(r||void 0));return Te&&Ye.useEmulator(...Te),Ye},[Te])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>lV(this.database,t));let s=r;return i&&(s=i(r)),function CZ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:pV(i,"update"),set:pV(i,"set"),push:r=>i.push(r),remove:wZ(i),snapshotChanges:r=>hV(n,r,t).pipe(cn.iC),stateChanges:r=>fV(n,r,t).pipe(cn.iC),auditTrail:r=>function yZ(n,e,t){return function bZ(n,e,t){return function vZ(n,e){return vw(n,"value","on",e).pipe((0,qe.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function MB(...n){const e=(0,Ir.jO)(n);return(0,Ln.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,Sr.Xf)(n[p]).subscribe((0,wn.x)(i,y=>{s[p]=y,!d&&!c[p]&&(c[p]=!0,(d=c.every(Ps.y))&&(c=null))},l_.Z));t.subscribe((0,wn.x)(i,p=>{if(d){const y=[p,...s];i.next(e?e(...y):y)}}))})}(e),(0,qe.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function AB(n){return(0,Ln.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,wn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,qe.U)(r=>r.actions))}(n,fV(n,e).pipe(Tt((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(cn.iC),valueChanges:(r,s)=>hV(n,r,t).pipe((0,qe.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),cn.iC)}}(s,this)}object(t){return function EZ(n,e){return{query:n,snapshotChanges:()=>mV(n,e.schedulers.outsideAngular)().pipe(cn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>mV(n,e.schedulers.outsideAngular)().pipe(cn.iC,(0,qe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>lV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ui.Dh),a.LFG(Ui.xv,8),a.LFG(DZ,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(cn.HU),a.LFG(IZ,8),a.LFG(K_,8),a.LFG(D0,8),a.LFG(q_,8),a.LFG(Z_,8),a.LFG(W_,8),a.LFG(Y_,8),a.LFG(I0,8),a.LFG(rl,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SZ=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",cn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[cO]}),n})(),tf=(()=>{class n{constructor(t,i,r,s){this.snackBar=t,this.afAuth=i,this.db=r,this.router=s,this.userStatusEmitter=new a.vpe}userRegister(t,i,r){let s=this.afAuth.createUserWithEmailAndPassword(i,r);s.then(c=>{this.saveCreatedAccount(t,c,i)}),s.catch(function(c){console.error(c)})}saveCreatedAccount(t,i,r){var s=i.user.uid;t.node_id=s,t.email=r,t.created=(new Date).toLocaleString(),this.writeUserData(s,t)}writeUserData(t,i){let r=this;this.db.database.ref("users/"+t).set(i,s=>{s?console.error(s):(this.snackBar.open("Success, Please login","Ok"),r.router.navigate(["/user-login"]))})}userLogin(t,i){let r=this;const s=this.afAuth.signInWithEmailAndPassword(t,i);s.then(function(c){localStorage.uid=c.user.uid,r.userStatusEmitter.emit(!1),r.router.navigate(["/"])}).then(c=>{let d=localStorage.uid;this.db.object("users/"+d).update({password:i})}),r=this,s.catch(function(c){return r.snackBar.open("Invalid e -mail or password","Ok")})}userLogOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("uid"),this.userStatusEmitter.emit(!0),this.router.navigate(["/"]),this.snackBar.open("You have logged out","Ok")})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{this.snackBar.open("Password reset link was sent successfully","Ok"),this.router.navigate(["user-login"])}).catch(i=>{this.snackBar.open("Invalid email,enter valid E-mail address","Ok")})}userCheck(){return!!localStorage.uid}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(VD),a.LFG(K_),a.LFG(cO),a.LFG(Bn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uO=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return!!this.auth.userCheck()||(this.router.navigate(["user-login"]),!1)}canActivateChild(t,i){throw new Error("Method not implemented.")}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(tf),a.LFG(Bn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dO=(()=>{class n{constructor(t,i){this.authSer=t,this.router=i}canActivateChild(t,i){throw new Error("Method not implemented.")}canActivate(t,i){return!this.authSer.userCheck()||(this.router.navigate(["/"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(tf),a.LFG(Bn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TZ=["connectionContainer"],xZ=["inputContainer"],MZ=["label"];function AZ(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function kZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function RZ(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function OZ(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function PZ(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function NZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,RZ,4,1,"ng-container",12),a.YNc(3,OZ,1,0,"ng-content",12),a.YNc(4,PZ,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function FZ(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function LZ(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function BZ(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function VZ(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function UZ(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,VZ,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const HZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jZ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],GZ=new a.OlP("MatError"),zZ={transitionMessages:aa("transitionMessages",[Vi("enter",fn({opacity:1,transform:"translateY(0%)"})),gr("void => enter",[fn({opacity:0,transform:"translateY(-5px)"}),mr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const $Z=new a.OlP("MatHint");let Cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),qZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ZZ=new a.OlP("MatPrefix"),gV=new a.OlP("MatSuffix");let _V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:gV,useExisting:n}])]}),n})(),yV=0;const YZ=Hp(class{constructor(n){this._elementRef=n}},"primary"),KZ=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),bV=new a.OlP("MatFormField");let gS=(()=>{class n extends YZ{constructor(t,i,r,s,c,d,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new wt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+yV++,this._labelId="mat-form-field-label-"+yV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=zn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Bi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ii(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ii(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,sa.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Bi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Bi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ii(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,e_(this._label.nativeElement,"transitionend").pipe(Vt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const w=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<w.length;D++)w[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(w),k=t.children,P=this._getStartEnd(k[0].getBoundingClientRect());let F=0;for(let G=0;G<k.length;G++)F+=k[G].offsetWidth;c=Math.abs(P-D)-5,d=F>0?.75*F+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${c}px`;for(let w=0;w<y.length;w++)y[w].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Mh,8),a.Y36(KZ,8),a.Y36(Qi),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,hO,5),a.Suo(r,hO,7),a.Suo(r,Cy,5),a.Suo(r,Cy,7),a.Suo(r,qZ,5),a.Suo(r,GZ,5),a.Suo(r,$Z,5),a.Suo(r,ZZ,5),a.Suo(r,gV,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(TZ,7),a.Gf(xZ,5),a.Gf(MZ,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:bV,useExisting:n}]),a.qOj],ngContentSelectors:jZ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(a.F$t(HZ),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,AZ,9,0,"ng-container",3),a.YNc(4,kZ,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,NZ,5,16,"label",8),a.qZA()(),a.YNc(10,FZ,2,0,"div",9),a.qZA(),a.YNc(11,LZ,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,BZ,2,1,"div",12),a.YNc(14,UZ,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[bn,Ia,Po,lD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[zZ.transitionMessages]},changeDetection:0}),n})(),bw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xi,Ue,__,Ue]}),n})();const wV=_s({passive:!0});let QZ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return hs.E;const i=Yl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new wt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,wV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,wV)}}),s}stopMonitoring(t){const i=Yl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qi),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function EV(...n){const e=(0,Ir.jO)(n),{args:t,keys:i}=Pl(n),r=new On.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let p=c,y=c;for(let w=0;w<c;w++){let D=!1;(0,Sr.Xf)(t[w]).subscribe((0,wn.x)(s,k=>{D||(D=!0,y--),d[w]=k},()=>p--,void 0,()=>{(!p||!D)&&(y||s.next(i?Ua(i,d):d),s.complete())}))}});return e?r.pipe(Va(e)):r}let DV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),_m=(()=>{class n extends DV{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const pa=new a.OlP("NgValueAccessor"),JZ={provide:pa,useExisting:(0,a.Gpc)(()=>Ey),multi:!0},tW=new a.OlP("CompositionEventMode");let Ey=(()=>{class n extends DV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eW(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(tW,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([JZ]),a.qOj]}),n})();function nf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function SV(n){return null!=n&&"number"==typeof n.length}const Xr=new a.OlP("NgValidators"),rf=new a.OlP("NgAsyncValidators"),iW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sf{static min(e){return function TV(n){return e=>{if(nf(e.value)||nf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xV(n){return e=>{if(nf(e.value)||nf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return MV(e)}static requiredTrue(e){return function AV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function kV(n){return nf(n.value)||iW.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function RV(n){return e=>nf(e.value)||!SV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function OV(n){return e=>SV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function PV(n){if(!n)return _S;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(nf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return UV(e)}static composeAsync(e){return HV(e)}}function MV(n){return nf(n.value)?{required:!0}:null}function _S(n){return null}function NV(n){return null!=n}function FV(n){return(0,a.QGY)(n)?(0,tn.D)(n):n}function LV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function BV(n,e){return e.map(t=>t(n))}function VV(n){return n.map(e=>function rW(n){return!n.validate}(e)?e:t=>e.validate(t))}function UV(n){if(!n)return null;const e=n.filter(NV);return 0==e.length?null:function(t){return LV(BV(t,e))}}function fO(n){return null!=n?UV(VV(n)):null}function HV(n){if(!n)return null;const e=n.filter(NV);return 0==e.length?null:function(t){return EV(BV(t,e).map(FV)).pipe((0,qe.U)(LV))}}function pO(n){return null!=n?HV(VV(n)):null}function jV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GV(n){return n._rawValidators}function zV(n){return n._rawAsyncValidators}function mO(n){return n?Array.isArray(n)?n:[n]:[]}function yS(n,e){return Array.isArray(n)?n.includes(e):n===e}function $V(n,e){const t=mO(e);return mO(n).forEach(r=>{yS(t,r)||t.push(r)}),t}function qV(n,e){return mO(e).filter(t=>!yS(n,t))}class ZV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hs extends ZV{get formDirective(){return null}get path(){return null}}class Md extends ZV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vS=(()=>{class n extends WV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Md,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),ym=(()=>{class n extends WV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const ww="VALID",wS="INVALID",Dy="PENDING",Cw="DISABLED";function vO(n){return(CS(n)?n.validators:n)||null}function KV(n){return Array.isArray(n)?fO(n):n||null}function bO(n,e){return(CS(e)?e.asyncValidators:n)||null}function QV(n){return Array.isArray(n)?pO(n):n||null}function CS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class eU{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=KV(this._rawValidators),this._composedAsyncValidatorFn=QV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ww}get invalid(){return this.status===wS}get pending(){return this.status==Dy}get disabled(){return this.status===Cw}get enabled(){return this.status!==Cw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=KV(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=QV(e)}addValidators(e){this.setValidators($V(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($V(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qV(e,this._rawAsyncValidators))}hasValidator(e){return yS(this._rawValidators,e)}hasAsyncValidator(e){return yS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ww,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ww||this.status===Dy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cw:ww}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dy,this._hasOwnPendingAsyncValidator=!0;const t=FV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Cw:this.errors?wS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dy)?Dy:this._anyControlsHaveStatus(wS)?wS:ww}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){CS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Iy extends eU{constructor(e,t,i){super(vO(t),bO(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function JV(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function XV(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Ew(n,e){wO(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function fW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&tU(n,e)})}(n,e),function mW(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&tU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hW(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function DS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),SS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wO(n,e){const t=GV(n);null!==e.validator?n.setValidators(jV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=zV(n);null!==e.asyncValidator?n.setAsyncValidators(jV(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();IS(e._rawValidators,r),IS(e._rawAsyncValidators,r)}function SS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=GV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=zV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return IS(e._rawValidators,i),IS(e._rawAsyncValidators,i),t}function tU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nU(n,e){wO(n,e)}function rU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const bW={provide:Hs,useExisting:(0,a.Gpc)(()=>vm)},Dw=(()=>Promise.resolve(null))();let vm=(()=>{class n extends Hs{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Iy({},fO(t),pO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Dw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ew(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Dw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Dw.then(()=>{const i=this._findContainer(t.path),r=new Iy({});nU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Dw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Dw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rU(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Xr,10),a.Y36(rf,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([bW]),a.qOj]}),n})();function sU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function oU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Do=class extends eU{constructor(e=null,t,i){super(vO(t),bO(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),CS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=oU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){oU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let bm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const DO=new a.OlP("NgModelWithFormControlWarning"),MW={provide:Hs,useExisting:(0,a.Gpc)(()=>wm)};let wm=(()=>{class n extends Hs{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(SS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ew(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){DS(t.control||null,t,!1),function vW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,rU(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(DS(i||null,t),(n=>n instanceof Do)(r)&&(Ew(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);nU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function gW(n,e){return SS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wO(this.form,this),this._oldForm&&SS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Xr,10),a.Y36(rf,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([MW]),a.qOj,a.TTD]}),n})();const RW={provide:Md,useExisting:(0,a.Gpc)(()=>Iw)};let Iw=(()=>{class n extends Md{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function EO(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ey?t=s:function yW(n){return Object.getPrototypeOf(n.constructor)===_m}(s)?i=s:r=s}),r||i||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function CO(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ES(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(Hs,13),a.Y36(Xr,10),a.Y36(rf,10),a.Y36(pa,10),a.Y36(DO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([RW]),a.qOj,a.TTD]}),n})(),Cm=(()=>{class n{constructor(){this._validator=_S}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_S,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const HW={provide:Xr,useExisting:(0,a.Gpc)(()=>TS),multi:!0};let TS=(()=>{class n extends Cm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>MV}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([HW]),a.qOj]}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hU]}),n})(),ZW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[TU]}),n})(),WW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:DO,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[TU]}),n})();const KW=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),QW=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XW=0;const JW=fi(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new wt.x}});let xS=(()=>{class n extends JW{constructor(t,i,r,s,c,d,p,y,w,D){super(d,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+XW++,this.focused=!1,this.stateChanges=new wt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>lb().has(F)),this._iOSKeyupListener=F=>{const G=F.target;!G.value&&0===G.selectionStart&&0===G.selectionEnd&&(G.setSelectionRange(1,1),G.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,P=k.nodeName.toLowerCase();this._inputValueAccessor=p||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=zn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(sf.required)??!1}set required(t){this._required=zn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&lb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=zn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){QW.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Qi),a.Y36(Md,10),a.Y36(vm,8),a.Y36(wm,8),a.Y36(DD),a.Y36(KW,10),a.Y36(QZ),a.Y36(a.R0b),a.Y36(bV,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:hO,useExisting:n}]),a.qOj,a.TTD]}),n})(),xU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[DD],imports:[CV,bw,Ue,CV,bw]}),n})(),e8=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){}onUserPasswordResetBtnClick(t){this.auth.ForgotPassword(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-password-reset"]],decls:16,vars:0,consts:[["appearance","fill"],["type","email","matInput","","placeholder","Ex. pat@example.com"],["email",""],[1,"button-group"],["routerLink","/user-login"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t){const r=a.EpF();a.TgZ(0,"article")(1,"form")(2,"h1"),a._uU(3,"Reset your password"),a.qZA(),a.TgZ(4,"p"),a._uU(5,"Reset link will be sent to your the email addres you enter"),a.qZA(),a.TgZ(6,"mat-form-field",0)(7,"mat-label"),a._uU(8,"Email"),a.qZA(),a._UZ(9,"input",1,2),a.qZA(),a.TgZ(11,"div",3)(12,"a",4),a._uU(13,"Back to Log in"),a.qZA(),a.TgZ(14,"button",5),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(10);return a.KtG(i.onUserPasswordResetBtnClick(c.value))}),a._uU(15,"Send"),a.qZA()()()()}},dependencies:[Ya,gS,Cy,xS,Cd,bm,ym,vm],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";button[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}article[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:2%;padding:0%}a[_ngcontent-%COMP%]{text-decoration:none;font-size:medium}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{width:30%}h1[_ngcontent-%COMP%]{text-align:center}']}),n})();class MU{}class AU{}class Ad{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ad?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ad;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ad?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class t8{encodeKey(e){return kU(e)}encodeValue(e){return kU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const r8=/%(\d[a-f0-9])/gi,s8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kU(n){return encodeURIComponent(n).replace(r8,(e,t)=>s8[t]??e)}function MS(n){return`${n}`}class af{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new t8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(d),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(MS):[MS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new af({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(MS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(MS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class o8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OU(n){return typeof Blob<"u"&&n instanceof Blob}function PU(n){return typeof FormData<"u"&&n instanceof FormData}class Sw{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function a8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ad),this.context||(this.context=new o8),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new af,this.urlWithParams=t}serializeBody(){return null===this.body?null:RU(this.body)||OU(this.body)||PU(this.body)||function l8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof af?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PU(this.body)?null:OU(this.body)?this.body.type||null:RU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof af?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,k)=>D.set(k,e.setHeaders[k]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((D,k)=>D.set(k,e.setParams[k]),y)),new Sw(t,i,s,{params:y,headers:p,context:w,reportProgress:d,responseType:r,withCredentials:c})}}var er=(()=>((er=er||{})[er.Sent=0]="Sent",er[er.UploadProgress=1]="UploadProgress",er[er.ResponseHeader=2]="ResponseHeader",er[er.DownloadProgress=3]="DownloadProgress",er[er.Response=4]="Response",er[er.User=5]="User",er))();class AO{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ad,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kO extends AO{constructor(e={}){super(e),this.type=er.ResponseHeader}clone(e={}){return new kO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class AS extends AO{constructor(e={}){super(e),this.type=er.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new AS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NU extends AO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function RO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let OO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Sw)s=t;else{let p,y;p=r.headers instanceof Ad?r.headers:new Ad(r.headers),r.params&&(y=r.params instanceof af?r.params:new af({fromObject:r.params})),s=new Sw(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Xe(s).pipe(Ie(p=>this.handler.handle(p)));if(t instanceof Sw||"events"===r.observe)return c;const d=c.pipe(S(p=>p instanceof AS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,qe.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,qe.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,qe.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,qe.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new af).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,RO(r,i))}post(t,i,r={}){return this.request("POST",t,RO(r,i))}put(t,i,r={}){return this.request("PUT",t,RO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(MU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class FU{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const LU=new a.OlP("HTTP_INTERCEPTORS");let c8=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const u8=/^\)\]\}',?\n/;let BU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new On.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((P,F)=>r.setRequestHeader(P,F.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const P=t.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(t.responseType){const P=t.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const P=r.statusText||"OK",F=new Ad(r.getAllResponseHeaders()),G=function d8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new kO({headers:F,status:r.status,statusText:P,url:G}),c},p=()=>{let{headers:P,status:F,statusText:G,url:ne}=d(),Te=null;204!==F&&(Te=typeof r.response>"u"?r.responseText:r.response),0===F&&(F=Te?200:0);let He=F>=200&&F<300;if("json"===t.responseType&&"string"==typeof Te){const Ye=Te;Te=Te.replace(u8,"");try{Te=""!==Te?JSON.parse(Te):null}catch(We){Te=Ye,He&&(He=!1,Te={error:We,text:Te})}}He?(i.next(new AS({body:Te,headers:P,status:F,statusText:G,url:ne||void 0})),i.complete()):i.error(new NU({error:Te,headers:P,status:F,statusText:G,url:ne||void 0}))},y=P=>{const{url:F}=d(),G=new NU({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:F||void 0});i.error(G)};let w=!1;const D=P=>{w||(i.next(d()),w=!0);let F={type:er.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(F.total=P.total),"text"===t.responseType&&!!r.responseText&&(F.partialText=r.responseText),i.next(F)},k=P=>{let F={type:er.UploadProgress,loaded:P.loaded};P.lengthComputable&&(F.total=P.total),i.next(F)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",k)),r.send(s),i.next({type:er.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",k)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Fo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const PO=new a.OlP("XSRF_COOKIE_NAME"),NO=new a.OlP("XSRF_HEADER_NAME");class VU{}let h8=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(a.Lbi),a.LFG(PO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),FO=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(VU),a.LFG(NO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),f8=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(LU,[]);this.chain=i.reduceRight((r,s)=>new FU(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(AU),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),p8=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:FO,useClass:c8}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:PO,useValue:t.cookieName}:[],t.headerName?{provide:NO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[FO,{provide:LU,useExisting:FO,multi:!0},{provide:VU,useClass:h8},{provide:PO,useValue:"XSRF-TOKEN"},{provide:NO,useValue:"X-XSRF-TOKEN"}]}),n})(),m8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[OO,{provide:MU,useClass:f8},BU,{provide:AU,useExisting:BU}],imports:[p8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const g8=["*"];let kS;function Tw(n){return function _8(){if(void 0===kS&&(kS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(kS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return kS}()?.createHTML(n)||n}function UU(n){return Error(`Unable to find icon with the name "${n}"`)}function HU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function jU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Em{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let RS=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Em(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw jU(r);const d=Tw(c);return this._addSvgIconConfig(t,i,new Em("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Em(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw jU(i);const c=Tw(s);return this._addSvgIconSetConfig(t,new Em("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw HU(t);const r=this._cachedIconsByUrl.get(i);return r?Xe(OS(r)):this._loadSvgIconFromConfig(new Em(t,null)).pipe((0,Pe.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,qe.U)(s=>OS(s)))}getNamedSvgIcon(t,i=""){const r=GU(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Yi(UU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Xe(OS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,qe.U)(i=>OS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Xe(r):EV(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(lt(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),Xe(null)})))).pipe((0,qe.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw UU(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Pe.b)(i=>t.svgText=i),(0,qe.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Xe(null):this._fetchIcon(t).pipe((0,Pe.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(Tw("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Tw("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function y8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!c)throw HU(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,qe.U)(y=>Tw(y)),fs(()=>this._inProgressUrlFetches.delete(c)),(0,zp.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(GU(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return b8(s)?new Em(s.url,null,s.options):new Em(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(OO,8),a.LFG(Ba),a.LFG(re,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OS(n){return n.cloneNode(!0)}function GU(n,e){return n+":"+e}function b8(n){return!(!n.url||!n.options)}const w8=Hp(class{constructor(n){this._elementRef=n}}),C8=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),E8=new a.OlP("mat-icon-location",{providedIn:"root",factory:function D8(){const n=(0,a.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),zU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],I8=zU.map(n=>`[${n}]`).join(", "),S8=/^url\(['"]?#(.*?)['"]?\)$/;let $U=(()=>{class n extends w8{constructor(t,i,r,s,c,d){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Qn.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=zn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(I8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)zU.forEach(c=>{const d=i[s],p=d.getAttribute(c),y=p?p.match(S8):null;if(y){let w=r.get(d);w||(w=[],r.set(d,w)),w.push({name:c,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Vt(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(RS),a.$8M("aria-hidden"),a.Y36(E8),a.Y36(a.qLn),a.Y36(C8,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:g8,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),qU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,Ue]}),n})();function T8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1)(1,"h1"),a._uU(2,"Log In"),a.qZA(),a.TgZ(3,"mat-form-field",2)(4,"mat-label"),a._uU(5,"Email"),a.qZA(),a._UZ(6,"input",3),a.qZA(),a.TgZ(7,"mat-form-field",2)(8,"mat-label"),a._uU(9,"Password"),a.qZA(),a._UZ(10,"input",4),a.TgZ(11,"button",5),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.hide=!r.hide)}),a.TgZ(12,"mat-icon"),a._uU(13),a.qZA()()(),a.TgZ(14,"div",6)(15,"a",7),a._uU(16,"Forgot password?"),a.qZA()(),a.TgZ(17,"div")(18,"button",8),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.onUserLogIn())}),a._uU(19,"Log In"),a.qZA()(),a.TgZ(20,"div",9)(21,"p"),a._uU(22,"Don't have an account?"),a.qZA(),a.TgZ(23,"a",10),a._uU(24,"Create one now"),a.qZA()()()}if(2&n){const t=a.oxw();a.Q6J("formGroup",t.formData),a.xp6(10),a.Q6J("type",t.hide?"password":"text"),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",t.hide),a.xp6(2),a.Oqu(t.hide?"visibility_off":"visibility")}}let x8=(()=>{class n{constructor(t){this.authser=t,this.hide=!0,this.formData={}}ngOnInit(){this.createFormData()}createFormData(){this.formData=new Iy({email:new Do(null,[sf.required,sf.email]),password:new Do(null,sf.required)})}onUserLogIn(){this.authser.userLogin(this.formData.value.email,this.formData.value.password)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-user-login"]],decls:2,vars:1,consts:[["class","example-form",3,"formGroup",4,"ngIf"],[1,"example-form",3,"formGroup"],["appearance","fill",1,"example-full-width"],["formControlName","email","type","email","matInput","","placeholder","Ex. pat@example.com"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"forgot-password"],["routerLink","/password-reset"],["mat-raised-button","","color","primary",3,"click"],[1,"to-registerPG"],["routerLink","/user-registration"]],template:function(t,i){1&t&&(a.TgZ(0,"article"),a.YNc(1,T8,25,5,"form",0),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",i.formData))},dependencies:[bn,Ya,gS,Cy,_V,xS,$U,Cd,bm,Ey,vS,ym,wm,Iw],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";button[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}h1[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center}a[_ngcontent-%COMP%]{text-decoration:none}article[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:auto;width:50%;padding:8%}button[_ngcontent-%COMP%]{margin-top:3%;margin-left:1.6%;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:10px;padding:0%}.forgot-password[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;justify-content:flex-end}.to-registerPG[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:4%;margin-left:1.6%}a[_ngcontent-%COMP%]{margin-left:1%}']}),n})();function M8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1)(1,"h1"),a._uU(2,"Create your Account"),a.qZA(),a.TgZ(3,"mat-form-field",2)(4,"mat-label"),a._uU(5,"Full Name"),a.qZA(),a._UZ(6,"input",3),a.qZA(),a.TgZ(7,"mat-form-field",2)(8,"mat-label"),a._uU(9,"Email"),a.qZA(),a._UZ(10,"input",4),a.qZA(),a.TgZ(11,"mat-form-field",2)(12,"mat-label"),a._uU(13,"Password"),a.qZA(),a._UZ(14,"input",5),a.TgZ(15,"button",6),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.hide=!r.hide)}),a.TgZ(16,"mat-icon"),a._uU(17),a.qZA()()(),a.TgZ(18,"div",7)(19,"a",8),a._uU(20,"Log in instead"),a.qZA(),a.TgZ(21,"button",9),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.onUserRegister())}),a._uU(22,"Create"),a.qZA()()()}if(2&n){const t=a.oxw();a.Q6J("formGroup",t.formData),a.xp6(14),a.Q6J("type",t.hide?"password":"text"),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",t.hide),a.xp6(2),a.Oqu(t.hide?"visibility_off":"visibility")}}let A8=(()=>{class n{constructor(t){this.authser=t,this.hide=!0,this.formData={}}ngOnInit(){this.createFormData()}createFormData(){this.formData=new Iy({fullname:new Do(null,sf.required),email:new Do(null,[sf.required,sf.email]),password:new Do(null,sf.required)})}onUserRegister(){let t=this.formData.value;this.authser.userRegister(t,t.email,t.password)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-user-registration"]],decls:2,vars:1,consts:[["class","example-form",3,"formGroup",4,"ngIf"],[1,"example-form",3,"formGroup"],["appearance","fill"],["formControlName","fullname","matInput",""],["formControlName","email","type","email","matInput","","placeholder","Ex. pat@example.com"],["formControlName","password","matInput","",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"button-group"],["routerLink","/user-login"],["type","submit","mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"article"),a.YNc(1,M8,23,5,"form",0),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",i.formData))},dependencies:[bn,Ya,gS,Cy,_V,xS,$U,Cd,bm,Ey,vS,ym,wm,Iw],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";button[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif;width:18%;margin-right:-2%}p[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}mat-form-field[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif;width:100%;margin:2%}article[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:8%}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:5%;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}a[_ngcontent-%COMP%]{font-size:medium;text-decoration:none;margin-left:2%}']}),n})(),LO=(()=>{class n{constructor(t){this.db=t,this.housesRef=this.db.list("houses-list"),this.usersRef=this.db.list("users"),this.imagesRef=this.db.list("images")}AddHouse(t){return this.housesRef.push(t)}GetAllhouses(){return this.housesRef.snapshotChanges().pipe((0,qe.U)(t=>t.map(i=>({key:i.payload.key,...i.payload.val()}))))}GetAllUsers(){return this.usersRef.snapshotChanges().pipe((0,qe.U)(t=>t.map(i=>({key:i.payload.key,...i.payload.val()}))))}GetAllImages(){return this.imagesRef.snapshotChanges().pipe((0,qe.U)(t=>t.map(i=>({key:i.payload.key,...i.payload.val()}))))}GetHouse(t){return this.db.object("houses-list/"+t)}GetHouseByKey(t){return this.db.list("houses-list/"+t).valueChanges()}GetUserByKey(t){return this.db.list("users/"+t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(cO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZU="firebasestorage.googleapis.com",WU="storageBucket";class ki extends L.ZR{constructor(e,t){super(BO(e),`Firebase Storage: ${t} (${BO(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ki.prototype)}_codeEquals(e){return BO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function BO(n){return"storage/"+n}function VO(){return new ki("unknown","An unknown error occurred, please check the error payload for server response.")}function YU(){return new ki("canceled","User canceled the upload/download.")}function KU(){return new ki("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Sy(n){return new ki("invalid-argument",n)}function QU(){return new ki("app-deleted","The Firebase app was deleted.")}function XU(n){return new ki("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xw(n,e){return new ki("invalid-format","String does not match format '"+n+"': "+e)}function Mw(n){throw new ki("internal-error","Internal error: "+n)}class vs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vs.makeFromUrl(e,t)}catch{return new vs(e,"")}if(""===i.path)return i;throw function U8(n){return new ki("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(We){We.path_=decodeURIComponent(We.path)}const D=t.replace(/[.]/g,"\\."),Ye=[{regex:d,indices:{bucket:1,path:3},postModify:function s(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===ZU?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let We=0;We<Ye.length;We++){const bt=Ye[We],Et=bt.regex.exec(e);if(Et){let Gi=Et[bt.indices.path];Gi||(Gi=""),i=new vs(Et[bt.indices.bucket],Gi),bt.postModify(i);break}}if(null==i)throw function V8(n){return new ki("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class z8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function PS(n){return"string"==typeof n||n instanceof String}function JU(n){return UO()&&n instanceof Blob}function UO(){return typeof Blob<"u"}function HO(n,e,t,i){if(i<e)throw Sy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Sy(`Invalid value for '${n}'. Expected ${t} or less.`)}function kd(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function eH(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var lf=(()=>{return(n=lf||(lf={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",lf;var n})();class K8{constructor(e,t,i,r,s,c,d,p,y,w,D){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,P)=>{this.resolve_=k,this.reject_=P,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function Z8(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=VO();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?QU():YU():function B8(){return new ki("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new NS(!1,null,!0)):this.backoffId_=function $8(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let y=!1;function w(...ne){y||(y=!0,e.apply(null,ne))}function D(ne){r=setTimeout(()=>{r=null,n(P,p())},ne)}function k(){s&&clearTimeout(s)}function P(ne,...Te){if(y)return void k();if(ne)return k(),void w.call(null,ne,...Te);if(p()||c)return k(),void w.call(null,ne,...Te);let Ye;i<64&&(i*=2),1===d?(d=2,Ye=0):Ye=1e3*(i+Math.random()),D(Ye)}let F=!1;function G(ne){F||(F=!0,k(),!y&&(null!==r?(ne||(d=2),clearTimeout(r),D(0)):ne||(d=1)))}return D(0),s=setTimeout(()=>{c=!0,G(!0)},t),G}((i,r)=>{if(r)return void i(!1,new NS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===lf.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const w=s.getErrorCode()===lf.ABORT;return void i(!1,new NS(!1,null,w))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new NS(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function q8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class NS{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function iY(...n){const e=function nY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(UO())return new Blob(n);throw new ki("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jO{constructor(e,t){this.data=e,this.contentType=t||null}}function GO(n,e){switch(n){case ma.RAW:return new jO(tH(e));case ma.BASE64:case ma.BASE64URL:return new jO(nH(n,e));case ma.DATA_URL:return new jO(function aY(n){const e=new iH(n);return e.base64?nH(ma.BASE64,e.rest):function oY(n){let e;try{e=decodeURIComponent(n)}catch{throw xw(ma.DATA_URL,"Malformed data URL.")}return tH(e)}(e.rest)}(e),function lY(n){return new iH(n).contentType}(e))}throw VO()}function tH(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function nH(n,e){switch(n){case ma.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw xw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ma.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw xw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function sY(n){return atob(n)}(e)}catch{throw xw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class iH{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw xw(ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function cY(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class nu{constructor(e,t){let i=0,r="";JU(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(JU(this.data_)){const r=function rY(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new nu(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new nu(i,!0)}}static getBlob(...e){if(UO()){const t=e.map(i=>i instanceof nu?i.data_:i);return new nu(iY.apply(null,t))}{const t=e.map(c=>PS(c)?GO(ma.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new nu(r,!0)}}uploadData(){return this.data_}}function zO(n){let e;try{e=JSON.parse(n)}catch{return null}return function Y8(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function rH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function hY(n,e){return e}class js{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||hY}}let FS=null;function Aw(){if(FS)return FS;const n=[];n.push(new js("bucket")),n.push(new js("generation")),n.push(new js("metageneration")),n.push(new js("name","fullPath",!0));const t=new js("name");t.xform=function e(s,c){return function fY(n){return!PS(n)||n.length<2?n:rH(n)}(c)},n.push(t);const r=new js("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new js("timeCreated")),n.push(new js("updated")),n.push(new js("md5Hash",null,!0)),n.push(new js("cacheControl",null,!0)),n.push(new js("contentDisposition",null,!0)),n.push(new js("contentEncoding",null,!0)),n.push(new js("contentLanguage",null,!0)),n.push(new js("contentType",null,!0)),n.push(new js("metadata","customMetadata",!0)),FS=n,FS}function sH(n,e,t){const i=zO(e);return null===i?null:function mY(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function pY(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new vs(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function $O(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const oH="prefixes";class iu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ru(n){if(!n)throw VO()}function LS(n,e){return function t(i,r){const s=sH(n,r,e);return ru(null!==s),s}}function Ty(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function F8(){return new ki("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function N8(){return new ki("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function P8(n){return new ki("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function L8(n){return new ki("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function kw(n){const e=Ty(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function O8(n){return new ki("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function lH(n,e,t){const r=kd(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new iu(r,"GET",LS(n,t),c);return d.errorHandler=kw(e),d}function wY(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=kd(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,w=new iu(d,"GET",function vY(n,e){return function t(i,r){const s=function yY(n,e,t){const i=zO(t);return null===i?null:function _Y(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[oH])for(const r of t[oH]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new vs(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new vs(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return ru(null!==s),s}}(n,e.bucket),y);return w.urlParams=s,w.errorHandler=Ty(e),w}function uH(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function IY(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class BS{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function qO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ru(!1)}return ru(!!t&&-1!==(e||["active"]).indexOf(t)),t}const MY={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ZO(n){switch(n){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;default:return Gs.ERROR}}class AY{constructor(e,t,i){if(function W8(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function xy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class RY extends class kY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Mw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ac(){return new RY}class pH{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Aw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function SY(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=uH(e,i,r),d={name:c.fullPath},p=kd(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=$O(c,t),F=new iu(p,"POST",function P(G){let ne;qO(G);try{ne=G.getResponseHeader("X-Goog-Upload-URL")}catch{ru(!1)}return ru(PS(ne)),ne},n.maxUploadRetryTime);return F.urlParams=d,F.headers=w,F.body=D,F.errorHandler=Ty(e),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ac,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function TY(n,e,t,i){const p=new iu(t,"POST",function s(y){const w=qO(y,["active","final"]);let D=null;try{D=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ru(!1)}D||ru(!1);const k=Number(D);return ru(!isNaN(k)),new BS(k,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Ty(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,ac,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new BS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function xY(n,e,t,i,r,s,c,d){const p=new BS(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function j8(){return new ki("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let w=y;r>0&&(w=Math.min(w,r));const D=p.current,F={"X-Goog-Upload-Command":w===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},G=i.slice(D,D+w);if(null===G)throw KU();const Ye=new iu(t,"POST",function ne(We,bt){const Et=qO(We,["active","final"]),en=p.current+w,Gi=i.size();let wa;return wa="final"===Et?LS(e,s)(We,bt):null,new BS(en,Gi,"final"===Et,wa)},e.maxUploadRetryTime);return Ye.headers=F,Ye.body=G.uploadData(),Ye.progressCallback=d||null,Ye.errorHandler=Ty(n),Ye}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,ac,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=lH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ac,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function dH(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ye="";for(let We=0;We<2;We++)Ye+=Math.random().toString().slice(2);return Ye}();c["Content-Type"]="multipart/related; boundary="+p;const y=uH(e,i,r),w=$O(y,t),P=nu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw KU();const F={name:y.fullPath},G=kd(s,n.host,n._protocol),Te=n.maxUploadRetryTime,He=new iu(G,"POST",LS(n,t),Te);return He.urlParams=F,He.headers=c,He.body=P.uploadData(),He.errorHandler=Ty(e),He}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ac,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=YU(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ZO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new AY(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ZO(this._state)){case Gs.SUCCESS:xy(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:xy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ZO(this._state)){case Gs.RUNNING:case Gs.PAUSED:e.next&&xy(e.next.bind(e,this.snapshot))();break;case Gs.SUCCESS:e.complete&&xy(e.complete.bind(e))();break;default:e.error&&xy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Dm{constructor(e,t){this._service=e,this._location=t instanceof vs?t:vs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dm(e,t)}get root(){const e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rH(this._location.path)}get storage(){return this._service}get parent(){const e=function uY(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vs(this._location.bucket,e);return new Dm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw XU(e)}}function gH(n,e,t){return WO.apply(this,arguments)}function WO(){return(WO=(0,we.Z)(function*(n,e,t){const r=yield _H(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield gH(n,e,r.nextPageToken))})).apply(this,arguments)}function _H(n,e){null!=e&&"number"==typeof e.maxResults&&HO("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=wY(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,ac)}function zY(n){n._throwIfRoot("getDownloadURL");const e=function CY(n,e,t){const r=kd(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new iu(r,"GET",function bY(n,e){return function t(i,r){const s=sH(n,r,e);return ru(null!==s),function gY(n,e,t,i){const r=zO(e);if(null===r||!PS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const D=n.fullPath;return kd("/b/"+c(n.bucket)+"/o/"+c(D),t,i)+eH({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=kw(e),d}(n.storage,n._location,Aw());return n.storage.makeRequestWithTokens(e,ac).then(t=>{if(null===t)throw function G8(){return new ki("no-download-url","The given file does not have any download URLs.")}();return t})}function yH(n,e){const t=function dY(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new vs(n._location.bucket,t);return new Dm(n.storage,i)}function vH(n,e){if(n instanceof YO){const t=n;if(null==t._bucket)throw function H8(){return new ki("no-default-bucket","No default bucket found. Did you set the '"+WU+"' property when initializing the app?")}();const i=new Dm(t,t._bucket);return null!=e?vH(i,e):i}return void 0!==e?yH(n,e):n}function WY(n,e){if(e&&function qY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof YO)return function ZY(n,e){return new Dm(n,e)}(n,e);throw Sy("To use ref(service, url), the first argument must be a Storage instance.")}return vH(n,e)}function bH(n,e){const t=e?.[WU];return null==t?null:vs.makeFromBucketSpec(t,n)}class YO{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=ZU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vs.makeFromBucketSpec(r,this._host):bH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vs.makeFromBucketSpec(this._url,e):bH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dm(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new z8(QU());{const s=function tY(n,e,t,i,r,s){const c=eH(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function J8(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function Q8(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function X8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function eY(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new K8(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,we.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const wH="@firebase/storage";function DH(n,e){return WY(n=(0,L.m9)(n),e)}function sK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new YO(t,i,r,e,Yr.SDK_VERSION)}!function oK(){(0,Yr._registerComponent)(new la.wA("storage",sK,"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)(wH,"0.9.9",""),(0,Yr.registerVersion)(wH,"0.9.9","esm2017")}();class VS{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class IH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VS(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new VS(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new VS(c,this,this._ref)):{next:t.next?c=>t.next(new VS(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class SH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Rd(e,this._service))}get items(){return this._delegate.items.map(e=>new Rd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Rd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function iK(n,e){return yH(n,e)}(this._delegate,e);return new Rd(t,this.storage)}get root(){return new Rd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Rd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new IH(function KY(n,e,t){return function VY(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new pH(n,new nu(e),t)}(n=(0,L.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ma.RAW,i){this._throwIfRoot("putString");const r=GO(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new IH(new pH(this._delegate,new nu(r.data,!0),s),this)}listAll(){return function eK(n){return function HY(n){const e={prefixes:[],items:[]};return gH(n,e).then(()=>e)}(n=(0,L.m9)(n))}(this._delegate).then(e=>new SH(e,this.storage))}list(e){return function JY(n,e){return _H(n=(0,L.m9)(n),e)}(this._delegate,e||void 0).then(t=>new SH(t,this.storage))}getMetadata(){return function QY(n){return function jY(n){n._throwIfRoot("getMetadata");const e=lH(n.storage,n._location,Aw());return n.storage.makeRequestWithTokens(e,ac)}(n=(0,L.m9)(n))}(this._delegate)}updateMetadata(e){return function XY(n,e){return function GY(n,e){n._throwIfRoot("updateMetadata");const t=function EY(n,e,t,i){const s=kd(e.fullServerUrl(),n.host,n._protocol),d=$O(t,i),y=n.maxOperationRetryTime,w=new iu(s,"PATCH",LS(n,i),y);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=kw(e),w}(n.storage,n._location,e,Aw());return n.storage.makeRequestWithTokens(t,ac)}(n=(0,L.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function tK(n){return zY(n=(0,L.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function nK(n){return function $Y(n){n._throwIfRoot("deleteObject");const e=function DY(n,e){const i=kd(e.fullServerUrl(),n.host,n._protocol),d=new iu(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=kw(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ac)}(n=(0,L.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw XU(e)}}class TH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(xH(e))throw Sy("ref() expected a child path but got a URL, use refFromURL instead.");return new Rd(DH(this._delegate,e),this)}refFromURL(e){if(!xH(e))throw Sy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vs.makeFromUrl(e,this._delegate.host)}catch{throw Sy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rd(DH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function rK(n,e,t,i={}){!function YY(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,L.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function xH(n){return/^[A-Za-z]+:\/\//.test(n)}function uK(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new TH(t,i)}function MH(n){const e=function hK(n){return new On.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(Lp(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,qe.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function US(n){return{getDownloadURL:()=>Xe(void 0).pipe(cn.fc,xn(()=>n.getDownloadURL()),cn.iC),getMetadata:()=>Xe(void 0).pipe(cn.fc,xn(()=>n.getMetadata()),cn.iC),delete:()=>(0,tn.D)(n.delete()),child:e=>US(n.child(e)),updateMetadata:e=>(0,tn.D)(n.updateMetadata(e)),put:(e,t)=>MH(n.put(e,t)),putString:(e,t,i)=>MH(n.putString(e,t,i)),list:e=>(0,tn.D)(n.list(e)),listAll:()=>(0,tn.D)(n.listAll())}}!function dK(n){const e={TaskState:Gs,TaskEvent:MY,StringFormat:ma,Storage:TH,Reference:Rd};n.INTERNAL.registerComponent(new la.wA("storage-compat",uK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(bI.Z);const fK=new a.OlP("angularfire2.storageBucket"),pK=new a.OlP("angularfire2.storage.maxUploadRetryTime"),mK=new a.OlP("angularfire2.storage.maxOperationRetryTime"),gK=new a.OlP("angularfire2.storage.use-emulator");let AH=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w,D){const k=(0,Ui.on)(t,c,i);this.storage=(0,Ui.cc)(`${k.name}.storage.${r}`,"AngularFireStorage",k.name,()=>{const P=c.runOutsideAngular(()=>k.storage(r||void 0)),F=w;return F&&P.useEmulator(...F),p&&P.setMaxUploadRetryTime(p),y&&P.setMaxOperationRetryTime(y),P},[p,y])}ref(t){return US(this.storage.ref(t))}refFromURL(t){return US(this.storage.refFromURL(t))}upload(t,i,r){return US(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ui.Dh),a.LFG(Ui.xv,8),a.LFG(fK,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(cn.HU),a.LFG(pK,8),a.LFG(mK,8),a.LFG(gK,8),a.LFG(rl,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),yK=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",cn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[AH],imports:[_K]}),n})();function vK(n,e){if(1&n&&a._UZ(0,"img",21),2&n){const t=a.oxw();a.Q6J("src",t.imageSrc,a.LSH)}}const bK=function(){return{display:"none"}};let wK=(()=>{class n{constructor(t,i,r){this.router=t,this.firebaseClient=i,this.af=r,this.imgSrc="../../../assets/images/uploadimagefile.png",this.selectedImage=null,this.isSubmited=!1,this.hide=!0,this.formSubmitEmitter=new a.vpe,this.formDefaultData=[],this.formTemplate=new Iy({house:new Do(""),location:new Do(""),guest:new Do(""),bed:new Do(""),bathroom:new Do(""),price:new Do(""),image:new Do("")})}ngOnInit(){this.initFormDefaultData()}onCancelBtnClick(){this.router.navigate(["/"])}onFormSubmit(t){this.isSubmited=!0;var i=`images/${this.selectedImage.name}_${(new Date).getTime()}`;const r=this.af.ref(i);this.af.upload(i,this.selectedImage).snapshotChanges().pipe(fs(()=>{r.getDownloadURL().subscribe(s=>{t.image=s,this.firebaseClient.AddHouse(t)})})).subscribe(),this.formTemplate.reset(),this.router.navigate(["/house-listing"])}initFormDefaultData(){0!=this.formDefaultData.length&&this.formDefaultData.forEach(t=>{console.log(t)})}onImageBtnClick(t){t.click()}onImageInpUpload(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.onload=r=>this.imgSrc=r.target.result,i.readAsDataURL(t.target.files[0]),this.selectedImage=t.target.files[0]}else this.imgSrc="../../../assets/images/uploadimagefile.png",this.selectedImage=null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(LO),a.Y36(AH))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create"]],inputs:{formDefaultData:"formDefaultData"},outputs:{formSubmitEmitter:"formSubmitEmitter"},decls:45,vars:6,consts:[[1,"main"],["name","loginForm",3,"formGroup","submit"],["form","ngForm"],[1,"inline-groups"],["appearance","fill"],["required","","formControlName","house","matInput",""],["required","","formControlName","location","matInput",""],["required","","formControlName","guest","matInput",""],["required","","formControlName","bed","matInput",""],["required","","formControlName","bathroom","matInput",""],["required","","formControlName","price","matInput",""],[1,"delBox"],["alt","","srcset","",3,"src","click"],[1,"image-box"],["type","button","mat-raised-button","","color","primary",3,"click"],["alt","",3,"src",4,"ngIf"],["formControlName","image","accept","image/*","type","file",3,"ngStyle","change"],["imageInp",""],[1,"form-group-inline"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["alt","",3,"src"]],template:function(t,i){if(1&t){const r=a.EpF();a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Add New Apartment"),a.qZA(),a.TgZ(3,"form",1,2),a.NdJ("submit",function(){return i.onFormSubmit(i.formTemplate.value)}),a.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),a._uU(8,"House"),a.qZA(),a._UZ(9,"input",5),a.qZA(),a.TgZ(10,"mat-form-field",4)(11,"mat-label"),a._uU(12,"Location"),a.qZA(),a._UZ(13,"input",6),a.qZA()(),a.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),a._uU(17,"Guest"),a.qZA(),a._UZ(18,"input",7),a.qZA(),a.TgZ(19,"mat-form-field",4)(20,"mat-label"),a._uU(21,"Bed"),a.qZA(),a._UZ(22,"input",8),a.qZA()(),a.TgZ(23,"div",3)(24,"mat-form-field",4)(25,"mat-label"),a._uU(26,"Bathroom"),a.qZA(),a._UZ(27,"input",9),a.qZA(),a.TgZ(28,"mat-form-field",4)(29,"mat-label"),a._uU(30,"Price"),a.qZA(),a._UZ(31,"input",10),a.qZA()(),a.TgZ(32,"div",11)(33,"img",12),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(39);return a.KtG(c.click())}),a.qZA()(),a.TgZ(34,"div",13)(35,"button",14),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(39);return a.KtG(i.onImageBtnClick(c))}),a._uU(36,"Upload Image"),a.qZA(),a.YNc(37,vK,1,1,"img",15),a.TgZ(38,"input",16,17),a.NdJ("change",function(c){return i.onImageInpUpload(c)}),a.qZA()(),a.TgZ(40,"div",18)(41,"button",19),a.NdJ("click",function(){return i.onCancelBtnClick()}),a._uU(42,"Cancel"),a.qZA(),a.TgZ(43,"button",20),a._uU(44,"Add"),a.qZA()()()()}if(2&t){const r=a.MAs(4);a.xp6(3),a.Q6J("formGroup",i.formTemplate),a.xp6(30),a.Q6J("src",i.imgSrc,a.LSH),a.xp6(4),a.Q6J("ngIf",i.imageSrc),a.xp6(1),a.Q6J("ngStyle",a.DdM(5,bK)),a.xp6(5),a.Q6J("disabled",!r.valid)}},dependencies:[bn,$d,gS,Cy,xS,Cd,bm,Ey,vS,ym,TS,wm,Iw],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";*[_ngcontent-%COMP%]{font-family:poppins,sans-serif}.main[_ngcontent-%COMP%]{text-align:center}mat-form-field[_ngcontent-%COMP%]{margin:5px;width:25%}.inline-groups[_ngcontent-%COMP%]{margin:.5%}button[_ngcontent-%COMP%]{width:12.5%;height:35px}.form-group-inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.image-box[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%!important;height:100%important;margin-bottom:1%}img[_ngcontent-%COMP%]{width:250px;height:150px;position:relative}.delBox[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:10px;right:50px}']}),n})();function CK(n,e){}class HS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let kH=(()=>{class n extends md{constructor(t,i,r,s,c,d,p,y){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=xh(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=xh();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=xh())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Hb),a.Y36(re,8),a.Y36(HS),a.Y36(yd),a.Y36(a.R0b),a.Y36(Dp),a.Y36(tl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&a.Gf(wp,7),2&t){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&a.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&a.YNc(0,CK,0,0,"ng-template",0)},dependencies:[wp],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class KO{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new wt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ph(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const RH=new a.OlP("DialogScrollStrategy"),EK=new a.OlP("DialogData"),DK=new a.OlP("DefaultDialogConfig"),SK={provide:RH,deps:[_o],useFactory:function IK(n){return()=>n.scrollStrategies.block()}};let TK=0,OH=(()=>{class n{constructor(t,i,r,s,c,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt.x,this._afterOpenedAtThisLevel=new wt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=hr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bi(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new HS,...i}).id=i.id||"cdk-dialog-"+TK++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),d=new KO(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(t,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){QO(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){QO(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),QO(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Cp({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:HS,useValue:r},{provide:KO,useValue:i},{provide:Dp,useValue:t}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=kH;const p=new kh(d,r.viewContainerRef,a.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,i,r,s){if(t instanceof a.Rgc){const c=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new o_(t,null,d,c))}else{const c=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new kh(t,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(t,i,r,s){const c=t.injector||t.viewContainerRef?.injector,d=[{provide:EK,useValue:t.data},{provide:KO,useValue:i}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(i,t,r)):d.push(...t.providers)),t.direction&&(!c||!c.get(Mh,null,a.XFs.Optional))&&d.push({provide:Mh,useValue:{value:t.direction,change:Xe()}}),a.zs3.create({parent:c||s,providers:d})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_o),a.LFG(a.zs3),a.LFG(DK,8),a.LFG(n,12),a.LFG(Ep),a.LFG(RH))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function QO(n,e){let t=n.length;for(;t--;)e(n[t])}let xK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[OH,SK],imports:[Yc,gd,w_,gd]}),n})();function MK(n,e){}const My={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},AK={dialogContainer:aa("dialogContainer",[Vi("void, exit",fn({opacity:0,transform:"scale(0.7)"})),Vi("enter",fn({transform:"none"})),gr("* => enter",AD([mr("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",fn({transform:"none",opacity:1})),Xb("@*",Qb(),{optional:!0})]),My),gr("* => void, * => exit",AD([mr("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",fn({opacity:0})),Xb("@*",Qb(),{optional:!0})]),My)])};class jS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=My.params.enterAnimationDuration,this.exitAnimationDuration=My.params.exitAnimationDuration}}let kK=(()=>{class n extends kH{constructor(t,i,r,s,c,d,p,y){super(t,i,r,s,c,d,p,y),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Hb),a.Y36(re,8),a.Y36(jS),a.Y36(yd),a.Y36(a.R0b),a.Y36(Dp),a.Y36(tl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),RK=(()=>{class n extends kK{constructor(t,i,r,s,c,d,p,y,w){super(t,i,r,s,c,d,p,w),this._changeDetectorRef=y,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||My.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||My.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Hb),a.Y36(re,8),a.Y36(jS),a.Y36(yd),a.Y36(a.R0b),a.Y36(Dp),a.Y36(a.sBO),a.Y36(tl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&a.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(a.Ikx("id",i._config.id),a.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._getAnimationState()))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&a.YNc(0,MK,0,0,"ng-template",0)},dependencies:[wp],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[AK.dialogContainer]}}),n})();class PH{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new wt.x,this._beforeClosed=new wt.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(S(r=>"opened"===r.state),Vt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(S(r=>"closed"===r.state),Vt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,sa.T)(this.backdropClick(),this.keydownEvents().pipe(S(r=>27===r.keyCode&&!this.disableClose&&!Ph(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),NH(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(S(t=>"closing"===t.state),Vt(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function NH(n,e,t){return n._closeInteractionType=e,n.close(t)}const OK=new a.OlP("MatDialogData"),PK=new a.OlP("mat-dialog-default-options"),FH=new a.OlP("mat-dialog-scroll-strategy"),FK={provide:FH,deps:[_o],useFactory:function NK(n){return()=>n.scrollStrategies.block()}};let LK=0,BK=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w,D){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt.x,this._afterOpenedAtThisLevel=new wt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=hr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bi(void 0))),this._scrollStrategy=d,this._dialog=i.get(OH)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new jS,...i}).id=i.id||`${this._idPrefix}${LK++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:jS,useValue:i},{provide:HS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Rw=(()=>{class n extends BK{constructor(t,i,r,s,c,d,p,y){super(t,i,s,d,p,c,PH,RK,OK,y)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_o),a.LFG(a.zs3),a.LFG(ke,8),a.LFG(PK,8),a.LFG(FH),a.LFG(n,12),a.LFG(Ep),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),VK=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function UK(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){NH(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(PH,8),a.Y36(a.SBq),a.Y36(Rw))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i._onButtonClick(s)}),2&t&&a.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Rw,FK],imports:[xK,Yc,gd,Ue,Ue]}),n})(),HK=(()=>{class n{constructor(t,i){this.dialog=t,this.auth=i}ngOnInit(){}onUserLogOut(){this.auth.userLogOut(),this.dialog.closeAll()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rw),a.Y36(tf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dialog"]],decls:7,vars:0,consts:[["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","mat-dialog-close","","color","primary"]],template:function(t,i){1&t&&(a.TgZ(0,"h1"),a._uU(1,"Are you sure you want to log out?"),a.qZA(),a.TgZ(2,"div")(3,"button",0),a.NdJ("click",function(){return i.onUserLogOut()}),a._uU(4,"Yes"),a.qZA(),a.TgZ(5,"button",1),a._uU(6,"No"),a.qZA()())},dependencies:[Cd,VK],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]}),n})();function BH(n,e){return e?t=>ds(e.pipe(Vt(1),function jK(){return(0,Ln.e)((n,e)=>{n.subscribe((0,wn.x)(e,l_.Z))})}()),t.pipe(BH(n))):(0,T.z)((t,i)=>n(t,i).pipe(Vt(1),Ko(t)))}function VH(n,e=hd.z){const t=ME(n,e);return BH(()=>t)}const GK=["mat-menu-item",""];function zK(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"polygon",3),a.qZA())}const UH=["*"];function $K(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._handleKeydown(r))})("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),a.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const GS={transformMenu:aa("transformMenu",[Vi("void",fn({opacity:0,transform:"scale(0.8)"})),gr("void => enter",mr("120ms cubic-bezier(0, 0, 0.2, 1)",fn({opacity:1,transform:"scale(1)"}))),gr("* => void",mr("100ms 25ms linear",fn({opacity:0})))]),fadeInItems:aa("fadeInItems",[Vi("showing",fn({opacity:1})),gr("void => *",[fn({opacity:0}),mr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},qK=new a.OlP("MatMenuContent"),XO=new a.OlP("MAT_MENU_PANEL"),ZK=ec(Kc(class{}));let zS=(()=>{class n extends ZK{constructor(t,i,r,s,c){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new wt.x,this._focused=new wt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(re),a.Y36(tl),a.Y36(XO,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(a.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),a.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:GK,ngContentSelectors:UH,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(a.F$t(),a.Hsn(0),a._UZ(1,"div",0),a.YNc(2,zK,2,0,"svg",1)),2&t&&(a.xp6(1),a.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),a.xp6(1),a.Q6J("ngIf",i._triggersSubmenu))},dependencies:[bn,bd],encapsulation:2,changeDetection:0}),n})();const HH=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function WK(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let YK=0,Ow=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.n_E,this._tabSubscription=Qn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new wt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+YK++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=zn(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=zn(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Fb(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Bi(this._directDescendantItems),xn(t=>(0,sa.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Bi(this._directDescendantItems),xn(i=>(0,sa.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Ph(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Vt(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Bi(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(HH),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,qK,5),a.Suo(r,zS,5),a.Suo(r,zS,4)),2&t){let s;a.iGM(s=a.CRH())&&(i.lazyContent=s.first),a.iGM(s=a.CRH())&&(i._allItems=s),a.iGM(s=a.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&a.Gf(a.Rgc,5),2&t){let r;a.iGM(r=a.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),KK=(()=>{class n extends Ow{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(HH),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:XO,useExisting:n}]),a.qOj],ngContentSelectors:UH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(a.F$t(),a.YNc(0,$K,3,6,"ng-template"))},dependencies:[hn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[GS.transformMenu,GS.fadeInItems]},changeDetection:0}),n})();const jH=new a.OlP("mat-menu-scroll-strategy"),XK={provide:jH,deps:[_o],useFactory:function QK(n){return()=>n.scrollStrategies.reposition()}},GH=_s({passive:!0});let JK=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=y,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Qn.w0.EMPTY,this._hoverSubscription=Qn.w0.EMPTY,this._menuCloseSubscription=Qn.w0.EMPTY,this._handleTouchStart=D=>{Gb(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof Ow?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,GH),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,GH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Ow&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ii(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Ow?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(S(r=>"void"===r.toState),Vt(1),Ii(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Cp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",c="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,c)):t.setPositionClasses(s,c)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[c,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[p,y]=[c,d],[w,D]=[r,s],k=0;if(this.triggersSubmenu()){if(D=r="before"===t.xPosition?"start":"end",s=w="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const P=this._parentMaterialMenu.items.first;this._parentInnerPadding=P?P._getHostElement().offsetTop:0}k="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(p="top"===c?"bottom":"top",y="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:w,overlayY:c,offsetY:k},{originX:s,originY:p,overlayX:D,overlayY:c,offsetY:k},{originX:r,originY:y,overlayX:w,overlayY:d,offsetY:-k},{originX:s,originY:y,overlayX:D,overlayY:d,offsetY:-k}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Xe(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(S(c=>c!==this._menuItemInstance),S(()=>this._menuOpen)):Xe();return(0,sa.T)(t,r,s,i)}_handleMousedown(t){jb(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(S(t=>t===this._menuItemInstance&&!t.disabled),VH(0,sb)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ow&&this.menu._isAnimating?this.menu._animationDone.pipe(Vt(1),VH(0,sb),Ii(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new o_(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(_o),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(jH),a.Y36(XO,8),a.Y36(zS,10),a.Y36(Mh,8),a.Y36(tl),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&a.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),e7=(()=>{class n extends JK{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[XK],imports:[xi,Ue,wd,Yc,Zc,Ue]}),n})(),t7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-exclusives"]],decls:94,vars:0,consts:[[1,"container"],[1,"sub-title"],[1,"exculsives"],["src","../../../../assets/images/image1.png"],["src","../../../../assets/images/image2.png"],["src","../../../../assets/images/image3.png"],["src","../../../../assets/images/image4.png"],["src","../../../../assets/images/image5.png"],["src","../../../../assets/images/image6.png"],["src","../../../../assets/images/image7.png"],["src","../../../../assets/images/image8.png"],["src","../../../../assets/images/image9.png"],["src","../../../../assets/images/image10.png"],[1,"trending"],["src","../../../../assets/images/dubai.png"],["src","../../../../assets/images/newyork.png"],["src","../../../../assets/images/paris.png"],["src","../../../../assets/images/newdelhi.png"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"Exculsives"),a.qZA(),a.TgZ(3,"div",2)(4,"div"),a._UZ(5,"img",3),a.TgZ(6,"span")(7,"h3"),a._uU(8,"London"),a.qZA(),a.TgZ(9,"p"),a._uU(10,"Starts @ $250"),a.qZA()()(),a.TgZ(11,"div"),a._UZ(12,"img",4),a.TgZ(13,"span")(14,"h3"),a._uU(15,"Switzerland"),a.qZA(),a.TgZ(16,"p"),a._uU(17,"Starts @ $250"),a.qZA()()(),a.TgZ(18,"div"),a._UZ(19,"img",5),a.TgZ(20,"span")(21,"h3"),a._uU(22,"Asutralia"),a.qZA(),a.TgZ(23,"p"),a._uU(24,"Starts @ $250"),a.qZA()()(),a.TgZ(25,"div"),a._UZ(26,"img",6),a.TgZ(27,"span")(28,"h3"),a._uU(29,"France"),a.qZA(),a.TgZ(30,"p"),a._uU(31,"Starts @ $250"),a.qZA()()(),a.TgZ(32,"div"),a._UZ(33,"img",7),a.TgZ(34,"span")(35,"h3"),a._uU(36,"Amsterdam"),a.qZA(),a.TgZ(37,"p"),a._uU(38,"Starts @ $250"),a.qZA()()()(),a.TgZ(39,"div",2)(40,"div"),a._UZ(41,"img",8),a.TgZ(42,"span")(43,"h3"),a._uU(44,"Netherlands"),a.qZA(),a.TgZ(45,"p"),a._uU(46,"Starts @ $250"),a.qZA()()(),a.TgZ(47,"div"),a._UZ(48,"img",9),a.TgZ(49,"span")(50,"h3"),a._uU(51,"New York"),a.qZA(),a.TgZ(52,"p"),a._uU(53,"Starts @ $250"),a.qZA()()(),a.TgZ(54,"div"),a._UZ(55,"img",10),a.TgZ(56,"span")(57,"h3"),a._uU(58,"Chicago"),a.qZA(),a.TgZ(59,"p"),a._uU(60,"Starts @ $250"),a.qZA()()(),a.TgZ(61,"div"),a._UZ(62,"img",11),a.TgZ(63,"span")(64,"h3"),a._uU(65,"San Francisco"),a.qZA(),a.TgZ(66,"p"),a._uU(67,"Starts @ $250"),a.qZA()()(),a.TgZ(68,"div"),a._UZ(69,"img",12),a.TgZ(70,"span")(71,"h3"),a._uU(72,"Shanghai"),a.qZA(),a.TgZ(73,"p"),a._uU(74,"Starts @ $250"),a.qZA()()()(),a.TgZ(75,"h2",1),a._uU(76,"Trending Places"),a.qZA(),a.TgZ(77,"div",13)(78,"div"),a._UZ(79,"img",14),a.TgZ(80,"h3"),a._uU(81,"Dubai"),a.qZA()(),a.TgZ(82,"div"),a._UZ(83,"img",15),a.TgZ(84,"h3"),a._uU(85,"New York"),a.qZA()(),a.TgZ(86,"div"),a._UZ(87,"img",16),a.TgZ(88,"h3"),a._uU(89,"Paris"),a.qZA()(),a.TgZ(90,"div"),a._UZ(91,"img",17),a.TgZ(92,"h3"),a._uU(93,"New Delhi"),a.qZA()()()())},styles:[".container[_ngcontent-%COMP%]{padding:2% 4%}.sub-title[_ngcontent-%COMP%]{margin:50px 0 20px;font-size:2.2vw;font-weight:500;color:#333}.exculsives[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-gap:30px;padding-top:1.5%}.exculsives[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}.exculsives[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.exculsives[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff}.trending[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-gap:50px;margin-bottom:30px}.trending[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}.trending[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;margin-top:5%}@media only screen and (max-width:700px){.sub-title[_ngcontent-%COMP%]{font-size:6vw}}"]}),n})(),n7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-cta"]],decls:12,vars:0,consts:[[1,"container"],[1,"cta"],["href","#",1,"cta-btn"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h3"),a._uU(3,"Sharing "),a._UZ(4,"br"),a._uU(5," Is Earning Now"),a.qZA(),a.TgZ(6,"p"),a._uU(7,"Great opportunity to make money by "),a._UZ(8,"br"),a._uU(9," sharing your extra space."),a.qZA(),a.TgZ(10,"a",2),a._uU(11,"Know More"),a.qZA()()())},styles:[".container[_ngcontent-%COMP%]{padding:0% 4%}.cta[_ngcontent-%COMP%]{margin:1% 0 80px;background-image:linear-gradient(to right,#3f2321,transparent),url(banner2.4e219eab2c4e7733.png);background-size:cover;background-position:center;border-radius:10px;padding:10%;color:#fff}.cta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:4vw;line-height:5.3vw;font-weight:500}.cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin:10px 0}.cta-btn[_ngcontent-%COMP%]{background:#FF5361;color:#fff;text-decoration:none;padding:12px 30px;border-radius:8px;margin-top:20px;display:inline-block}@media only screen and (max-width:700px){.cta[_ngcontent-%COMP%]{padding:15% 5%}.cta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:7vw;line-height:8vw}.cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.cta-btn[_ngcontent-%COMP%]{padding:6px 15px;border-radius:4px;margin-top:10px;font-size:14px}}"]}),n})(),r7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-travellers-stories"]],decls:18,vars:0,consts:[[1,"container"],[1,"sub-title"],[1,"stories"],["src","../../../../assets/images/story1.png","alt",""],["src","../../../../assets/images/story2.png","alt",""],["src","../../../../assets/images/story3.png","alt",""],["href","#",1,"start-btn"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"Travellers Stories"),a.qZA(),a.TgZ(3,"div",2)(4,"div"),a._UZ(5,"img",3),a.TgZ(6,"p"),a._uU(7,"Popular European countries with a budget of just $10 000"),a.qZA()(),a.TgZ(8,"div"),a._UZ(9,"img",4),a.TgZ(10,"p"),a._uU(11,"Traveled more than 100 countries in less than a year"),a.qZA()(),a.TgZ(12,"div"),a._UZ(13,"img",5),a.TgZ(14,"p"),a._uU(15,"Best experience you get wile traveling to Thailand"),a.qZA()()(),a.TgZ(16,"a",6),a._uU(17,"Start making money"),a.qZA()())},styles:[".container[_ngcontent-%COMP%]{padding:2% 4%}.stories[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-gap:30px;margin-bottom:30px}.sub-title[_ngcontent-%COMP%]{margin:50px 0 20px;font-size:2.2vw;font-weight:500;color:#333}.stories[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}.stories[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;text-align:center}.stories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:26px}.start-btn[_ngcontent-%COMP%]{text-decoration:none;background:#FF5361;color:#fff;width:80%;max-width:350px;display:block;text-align:center;margin:60px auto;padding:15px;border-radius:30px;font-size:20px}@media only screen and (max-width:700px){.sub-title[_ngcontent-%COMP%]{font-size:6vw}.stories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px}.about-msg[_ngcontent-%COMP%]{font-size:15px}}"]}),n})(),JO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:15,vars:0,consts:[[1,"container"],[1,"footer"],["href","https://facebook.com/"],[1,"fa-brands","fa-facebook-f"],["href","https://youtube.com/"],[1,"fa-brands","fa-youtube"],["href","https://twitter.com/"],[1,"fa-brands","fa-twitter"],["href","https://linkedin.com/"],[1,"fa-brands","fa-linkedin"],["href","https://instagram.com/"],[1,"fa-brands","fa-instagram"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"a",2),a._UZ(3,"i",3),a.qZA(),a.TgZ(4,"a",4),a._UZ(5,"i",5),a.qZA(),a.TgZ(6,"a",6),a._UZ(7,"i",7),a.qZA(),a.TgZ(8,"a",8),a._UZ(9,"i",9),a.qZA(),a.TgZ(10,"a",10),a._UZ(11,"i",11),a.qZA(),a._UZ(12,"hr"),a.TgZ(13,"p"),a._uU(14,"Copyright \xa9 2021"),a.qZA()()())},styles:[".container[_ngcontent-%COMP%]{padding:0 4%}.about-msg[_ngcontent-%COMP%]{text-align:center;margin:80px 0;color:#333;font-size:17px}.about-msg[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:30px;font-weight:500}.footer[_ngcontent-%COMP%]{margin:80px 10px;text-align:center}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#999;font-size:22px;margin:0 10px}.footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background:#999;height:1px;width:100%;border:0;margin:20px 0}"]}),n})();const eP=function(){return["/"]},s7=function(){return["house-listing"]};function o7(n,e){1&n&&(a.TgZ(0,"ul",20)(1,"li")(2,"a",21),a._uU(3,"Popular Places"),a.qZA()(),a.TgZ(4,"li")(5,"a",22),a._uU(6,"Travel Outside"),a.qZA()(),a.TgZ(7,"li")(8,"a",22),a._uU(9,"Online Packages"),a.qZA()()()),2&n&&(a.xp6(2),a.Q6J("routerLink",a.DdM(3,eP)),a.xp6(3),a.Q6J("routerLink",a.DdM(4,s7)),a.xp6(3),a.Q6J("routerLink",a.DdM(5,eP)))}const $H=function(){return["/create"]};function a7(n,e){1&n&&(a.TgZ(0,"a",23),a._uU(1,"Add Statement"),a.qZA()),2&n&&a.Q6J("routerLink",a.DdM(1,$H))}function l7(n,e){1&n&&(a.TgZ(0,"button",32),a._uU(1,"LogIn"),a.qZA())}function c7(n,e){1&n&&(a.TgZ(0,"button",33),a._uU(1,"Register"),a.qZA())}function u7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",24)(1,"button",25),a._UZ(2,"i",26),a.qZA(),a.TgZ(3,"mat-menu",null,27),a.YNc(5,l7,2,0,"button",28),a.YNc(6,c7,2,0,"button",29),a.TgZ(7,"button",30),a._uU(8,"Add Statement"),a.qZA(),a.TgZ(9,"button",31),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.openDialog())}),a._uU(10,"Log out"),a.qZA()()()}if(2&n){const t=a.MAs(4),i=a.oxw();a.xp6(1),a.Q6J("matMenuTriggerFor",t),a.xp6(4),a.Q6J("ngIf",i.afterLoginDisplay),a.xp6(1),a.Q6J("ngIf",i.afterLoginDisplay),a.xp6(1),a.Q6J("routerLink",a.DdM(4,$H))}}let d7=(()=>{class n{constructor(t,i,r){this.router=t,this.dialog=i,this.auth=r,this.isMenuOpened=!1,this.panelOpenState=!1,this.afterLoginDisplay=!1,this.logOutBtn=!1}ngOnInit(){this.toggleBtn(),this.checkUserStatus()}checkUserStatus(){let t=this.auth.userCheck();this.afterLoginDisplay=!t,this.auth.userStatusEmitter.subscribe(i=>{this.afterLoginDisplay=i})}toggleBtn(){this.isMenuOpened=!this.isMenuOpened,document.querySelector("#navBar")?.classList.toggle("hidemenu")}registerBtn(){this.router.navigate(["/user-login"])}openDialog(){this.dialog.open(HK)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(Rw),a.Y36(tf))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:40,vars:5,consts:[[1,"header"],["id","navBar"],["src",".../../../assets/images/logo.png",1,"logo",3,"routerLink"],["class","nav-links",4,"ngIf"],["class","register-btn",3,"routerLink",4,"ngIf"],["class","User-box",4,"ngIf"],[1,"fa-solid","fa-bars",3,"click"],[1,"container"],[1,"search-box"],["action",""],[1,"location-input"],["for",""],["type","text","placeholder","Where are you going? "],["type","text","placeholder","Add Date"],["type","text","placeholder","Add Check Out"],["type","text","placeholder","Add Guest"],["type","submit"],["src","../../../assets/images/search.png"],[1,"container2"],[1,"about-msg"],[1,"nav-links"],[1,"active",3,"routerLink"],[3,"routerLink"],[1,"register-btn",3,"routerLink"],[1,"User-box"],["mat-button","",2,"color","#FFF!important",3,"matMenuTriggerFor"],[1,"fa-solid","fa-user"],["menu","matMenu"],["routerLink","/user-login","mat-menu-item","",4,"ngIf"],["routerLink","/user-registration","mat-menu-item","",4,"ngIf"],["mat-menu-item","","color","warn",3,"routerLink"],["mat-menu-item","","color","warn",3,"click"],["routerLink","/user-login","mat-menu-item",""],["routerLink","/user-registration","mat-menu-item",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"nav",1),a._UZ(2,"img",2),a.YNc(3,o7,10,6,"ul",3),a.YNc(4,a7,2,2,"a",4),a.YNc(5,u7,11,5,"div",5),a.TgZ(6,"i",6),a.NdJ("click",function(){return i.toggleBtn()}),a.qZA()(),a.TgZ(7,"div",7)(8,"h1"),a._uU(9,"Find Your Next Stay"),a.qZA(),a.TgZ(10,"div",8)(11,"form",9)(12,"div",10)(13,"label",11),a._uU(14,"Location"),a.qZA(),a._UZ(15,"input",12),a.qZA(),a.TgZ(16,"div")(17,"label",11),a._uU(18,"Chekc in"),a.qZA(),a._UZ(19,"input",13),a.qZA(),a.TgZ(20,"div")(21,"label",11),a._uU(22,"Chekc out"),a.qZA(),a._UZ(23,"input",14),a.qZA(),a.TgZ(24,"div")(25,"label",11),a._uU(26,"Guest"),a.qZA(),a._UZ(27,"input",15),a.qZA(),a.TgZ(28,"button",16),a._UZ(29,"img",17),a.qZA()()()()(),a._UZ(30,"app-exclusives")(31,"app-cta")(32,"app-travellers-stories"),a.TgZ(33,"div",18)(34,"div",19)(35,"h2"),a._uU(36,"About Staybnb"),a.qZA(),a.TgZ(37,"p"),a._uU(38," Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. "),a.qZA()()(),a._UZ(39,"app-footer")),2&t&&(a.xp6(2),a.Q6J("routerLink",a.DdM(4,eP)),a.xp6(1),a.Q6J("ngIf",i.isMenuOpened),a.xp6(1),a.Q6J("ngIf",i.isMenuOpened),a.xp6(1),a.Q6J("ngIf",i.isMenuOpened))},dependencies:[bn,cd,Ya,Cd,KK,zS,e7,bm,ym,vm,t7,n7,r7,JO],styles:['.header[_ngcontent-%COMP%]{min-height:100vh;width:100%;background-image:linear-gradient(rgba(0,0,0,.3),rgba(0,0,0,.3)),url(banner.5f56ae3c82655755.png);background-size:cover;background-position:center}nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 7%}.logo[_ngcontent-%COMP%]{width:140px;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin:10px 30px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.register-btn[_ngcontent-%COMP%]{background:#ff5361;color:#fff;padding:8px 20px;border-radius:20px;text-decoration:none;font-size:14px}.container[_ngcontent-%COMP%]{padding:.7%}a[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4vw;font-weight:500;color:#fff;text-align:center;padding-top:22%}.search-box[_ngcontent-%COMP%]{background:#FFF;width:70%;margin:30px auto;padding:6px 10px 6px 30px;border-radius:50px}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;border:0;outline:none;background:transparent}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#FF5361;width:55px;height:55px;border-radius:50%;border:0;outline:none;cursor:pointer}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin-top:6px}.location-input[_ngcontent-%COMP%]{flex:1}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}.active[_ngcontent-%COMP%]{position:relative}.active[_ngcontent-%COMP%]:after{content:"";background:#FFF;width:25px;height:2px;position:absolute;left:50%;transform:translate(-50%);bottom:-12px;border-radius:2px}.container2[_ngcontent-%COMP%]{padding:0 4%}.about-msg[_ngcontent-%COMP%]{text-align:center;margin:80px 0;color:#333;font-size:17px}.about-msg[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:30px;font-weight:500}nav[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:700px){.logo[_ngcontent-%COMP%]{position:fixed;top:4%;left:7%}nav[_ngcontent-%COMP%]{position:fixed;top:0;z-index:100;display:inline-block;width:100%;padding:100px 7% 0;background:#000;text-align:right}nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0;display:block}.register-btn[_ngcontent-%COMP%]{margin:15px 0 30px;display:inline-block}nav[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{display:block;position:fixed;top:4%;right:7%;color:#fff;font-size:28px}.active[_ngcontent-%COMP%]:after{left:-40px;transform:translateY(50%);bottom:50%}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:7vw}.search-box[_ngcontent-%COMP%]{width:90%;margin:30px auto;padding:20px 10px 30px;border-radius:5px;position:relative}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:block}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;width:100%;margin-bottom:20px;margin-top:10px;padding-bottom:10px}.search-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%,-50%)}.about-msg[_ngcontent-%COMP%]{font-size:15px}.hidemenu[_ngcontent-%COMP%]{max-height:300px}.User-box[_ngcontent-%COMP%]{margin-top:-30px;margin-right:1%}}']}),n})(),h7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-details"]],decls:50,vars:0,consts:[[1,"details-list"],[1,"fa-solid","fa-house-chimney"],[1,"fa-solid","fa-paintbrush"],[1,"fa-solid","fa-location-dot"],[1,"fa-solid","fa-heart"],[1,"line"],[1,"home-desc"],[1,"map"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4460.732775754418!2d-122.4493973887842!3d37.76157082685337!2m3!1f0!2f0!3\n        f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808f7dbce12c914d%3A0x3b9c2553590fe9e4!2sEdith%E2%80%99s%20Garden!5e0!3m2!1ska!2sge!4v1659812715663!5m2!1ska!2sge","width","600","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"],[1,"host"],["src","../../../../../assets/images/host.png"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"],["href","",1,"contact-host"]],template:function(t,i){1&t&&(a.TgZ(0,"ul",0)(1,"li"),a._UZ(2,"i",1),a._uU(3,"Entire Home "),a.TgZ(4,"span"),a._uU(5,"You will have the entire flat for you."),a.qZA()(),a.TgZ(6,"li"),a._UZ(7,"i",2),a._uU(8,"Enhanced Clean "),a.TgZ(9,"span"),a._uU(10,"This host has commited to staybnb's cleaning process."),a.qZA()(),a.TgZ(11,"li"),a._UZ(12,"i",3),a._uU(13,"Great Location "),a.TgZ(14,"span"),a._uU(15,"90% of recent guests gave the location a 5 star rating."),a.qZA()(),a.TgZ(16,"li"),a._UZ(17,"i",4),a._uU(18,"Great Check-in Experience "),a.TgZ(19,"span"),a._uU(20,"100% of recent guests gave the check-in process a 5 star rating."),a.qZA()()(),a._UZ(21,"hr",5),a.TgZ(22,"p",6),a._uU(23,"Guests Will be allocated on the ground floor according to availablity. you get a comfortable Two bedroom apartment that has a true city feeling. The price quoted is for two guest, at the guest slot please mark the number of guests to get a the exacct price for groups. the guests will be alloacted ground floor according to availablity. you get the comfortable two bedroom apartment that has a true city feeling."),a.qZA(),a._UZ(24,"hr",5),a.TgZ(25,"div",7)(26,"h3"),a._uU(27,"Location on map"),a.qZA(),a._UZ(28,"iframe",8),a.TgZ(29,"b"),a._uU(30,"San Francisco, California, United States"),a.qZA(),a.TgZ(31,"p"),a._uU(32,"It's like a home away from home"),a.qZA()(),a._UZ(33,"hr",5),a.TgZ(34,"div",9),a._UZ(35,"img",10),a.TgZ(36,"div")(37,"h2"),a._uU(38,"Hosted by Brandon"),a.qZA(),a.TgZ(39,"p")(40,"span"),a._UZ(41,"i",11)(42,"i",11)(43,"i",11)(44,"i",11)(45,"i",12),a.qZA(),a._uU(46," \xa0 \xa0 245 reviews \xa0 \xa0 Response rate 100% \xa0 \xa0 Response time: 60min "),a.qZA()()(),a.TgZ(47,"a",13),a._uU(48,"Contact Host"),a.qZA(),a._UZ(49,"app-footer"))},dependencies:[JO],styles:[".details-list[_ngcontent-%COMP%]{list-style:none;margin:50px 0}.details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:50px;font-size:20px;font-weight:500;margin-bottom:20px;color:#555;position:relative}.details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:400;font-size:16px}.details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:5px;left:-40px}.line[_ngcontent-%COMP%]{border:0;height:1px;background:#ccc;width:100%;max-width:1050px;margin:20px 0 50px}.home-desc[_ngcontent-%COMP%]{max-width:700px;margin-bottom:50px}.map[_ngcontent-%COMP%]{margin:50px 0}.map[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}.map[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px;font-weight:500;margin-bottom:30px}.map[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{display:block;margin-bottom:16px}.host[_ngcontent-%COMP%]{display:flex;align-items:center}.host[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;border-radius:50%;margin-right:30px}.host[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:500}.host[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff5361}.contact-host[_ngcontent-%COMP%]{display:inline-block;margin:40px 0 40px 120px;text-decoration:none;color:#555;padding:15px 50px;border:1px solid #ff5361;border-radius:8px}@media only screen and (max-width:700px){.host[_ngcontent-%COMP%]{display:block;line-height:28px}.contact-host[_ngcontent-%COMP%]{margin:40px 0}}"]}),n})();const $S=function(){return["/"]};function f7(n,e){1&n&&(a.TgZ(0,"ul",27)(1,"li")(2,"a",28),a._uU(3,"Popular Places"),a.qZA()(),a.TgZ(4,"li")(5,"a",29),a._uU(6,"Travel Outside"),a.qZA()(),a.TgZ(7,"li")(8,"a",29),a._uU(9,"Online Packages"),a.qZA()()()),2&n&&(a.xp6(2),a.Q6J("routerLink",a.DdM(3,$S)),a.xp6(3),a.Q6J("routerLink",a.DdM(4,$S)),a.xp6(3),a.Q6J("routerLink",a.DdM(5,$S)))}const p7=function(){return["/create"]};function m7(n,e){1&n&&(a.TgZ(0,"a",30),a._uU(1,"Add Statement"),a.qZA()),2&n&&a.Q6J("routerLink",a.DdM(1,p7))}let g7=(()=>{class n{constructor(t,i){this.firebaseClient=t,this.activatedRoute=i,this.formDefaultData=[],this.key="",this.isMenuOpened=!1}ngOnInit(){this.toggleBtn(),this.activatedRoute.params.subscribe(t=>{this.firebaseClient.GetHouseByKey(t.key).subscribe(r=>{console.log(r),this.formDefaultData=r})})}toggleBtn(){this.isMenuOpened=!this.isMenuOpened}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(LO),a.Y36(Fs))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-main-info"]],decls:57,vars:4,consts:[[1,"navbar-white"],["src","../../assets/images/logored.png",1,"logo",3,"routerLink"],["class","nav-links",4,"ngIf"],[1,"fa-solid","fa-bars",3,"click"],["class","register-btn",3,"routerLink",4,"ngIf"],[1,"house-details"],[1,"house-title"],[1,"row"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"],[1,"location"],[1,"gallery"],[1,"gallery-img-1"],["alt",""],["src","../../../../../assets/images/house1.png","alt",""],["src","../../../../../assets/images/house2.png","alt",""],["src","../../../../../assets/images/house3.png","alt",""],["src","../../../../../assets/images/house4.png","alt",""],["src","../../../../../assets/images/house5.png","alt",""],[1,"small-details"],[1,"line"],["action","",1,"check-form"],["for",""],["type","text","placeholder","Add Date"],[1,"guest-field"],["type","text","placeholder","2 guest"],["type","submit"],[1,"nav-links"],[1,"active",3,"routerLink"],[3,"routerLink"],[1,"register-btn",3,"routerLink"]],template:function(t,i){1&t&&(a.TgZ(0,"nav",0),a._UZ(1,"img",1),a.YNc(2,f7,10,6,"ul",2),a.TgZ(3,"i",3),a.NdJ("click",function(){return i.toggleBtn()}),a.qZA(),a.YNc(4,m7,2,2,"a",4),a.qZA(),a.TgZ(5,"div",5)(6,"div",6)(7,"h1"),a._uU(8,"Wenge House"),a.qZA(),a.TgZ(9,"div",7)(10,"div"),a._UZ(11,"i",8)(12,"i",8)(13,"i",8)(14,"i",8)(15,"i",9),a.TgZ(16,"span"),a._uU(17,"245 Reviews"),a.qZA()(),a.TgZ(18,"div",10)(19,"p"),a._uU(20,"Location: San Francisco, California, United States"),a.qZA()()()(),a.TgZ(21,"div",11)(22,"div",12),a._UZ(23,"img",13),a.qZA(),a.TgZ(24,"div",12),a._UZ(25,"img",14),a.qZA(),a.TgZ(26,"div"),a._UZ(27,"img",15),a.qZA(),a.TgZ(28,"div"),a._UZ(29,"img",16),a.qZA(),a.TgZ(30,"div"),a._UZ(31,"img",17),a.qZA(),a.TgZ(32,"div"),a._UZ(33,"img",18),a.qZA()(),a.TgZ(34,"div",19)(35,"h2"),a._uU(36,"Entire rental unit hosted by Brandon"),a.qZA(),a._UZ(37,"p"),a.TgZ(38,"h4"),a._uU(39,"$ 100 / day"),a.qZA()(),a._UZ(40,"hr",20),a.TgZ(41,"form",21)(42,"div")(43,"label",22),a._uU(44,"Check-in"),a.qZA(),a._UZ(45,"input",23),a.qZA(),a.TgZ(46,"div")(47,"label",22),a._uU(48,"Check-out"),a.qZA(),a._UZ(49,"input",23),a.qZA(),a.TgZ(50,"div",24)(51,"label",22),a._uU(52,"Guest"),a.qZA(),a._UZ(53,"input",25),a.qZA(),a.TgZ(54,"button",26),a._uU(55,"Check Availablity"),a.qZA()(),a._UZ(56,"app-details"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("routerLink",a.DdM(3,$S)),a.xp6(1),a.Q6J("ngIf",i.isMenuOpened),a.xp6(2),a.Q6J("ngIf",i.isMenuOpened))},dependencies:[bn,cd,Ya,bm,ym,vm,h7],styles:['nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 7%}.logo[_ngcontent-%COMP%]{width:140px;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin:10px 30px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.container[_ngcontent-%COMP%]{padding:.7%}.register-btn[_ngcontent-%COMP%]{background:#ff5361;color:#fff;padding:8px 20px;border-radius:20px;text-decoration:none;font-size:14px}.house-details[_ngcontent-%COMP%]{padding:0 12%}.house-title[_ngcontent-%COMP%]{margin-top:50px}.house-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.house-title[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:10px 0}.house-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 20px}.house-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff5361;font-size:14px}.gallery[_ngcontent-%COMP%]{display:grid;grid-gap:10px;grid-template-areas:"first first . ." "first first . .";margin:20px 0}.gallery[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block;border-radius:10px}.gallery-img-1[_ngcontent-%COMP%]{grid-area:first}.small-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500}.location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:12px}.small-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:right;font-size:22px}.line[_ngcontent-%COMP%]{border:0;height:1px;background:#ccc;width:100%;max-width:1050px;margin:20px 0 50px}.check-form[_ngcontent-%COMP%]{margin:30px 0;background:#fff;box-shadow:0 0 30px #0000004d;border-radius:8px;display:flex;flex-wrap:wrap;align-items:center;padding:10px 50px}.check-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.check-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px}.check-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;outline:none}.check-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ff5361;border:0;outline:none;color:#fff;padding:18px;width:350px;border-radius:8px;font-size:16px;cursor:pointer}.guest-field[_ngcontent-%COMP%]{flex:1}@media only screen and (max-width:700px){.house-details[_ngcontent-%COMP%]{margin-top:150px}.row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}.gallery[_ngcontent-%COMP%]{grid-template-areas:"first first"". ."". ."}.small-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-top:24px}.small-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left;margin:10px 0;font-size:18px}.check-form[_ngcontent-%COMP%]{padding:10px 30px}.check-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{pad:20px 0;width:100%}.check-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;width:100%;padding-bottom:5px}.check-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;margin-top:10px;margin-bottom:15px;border-radius:4px}}']}),n})();function _7(n,e){if(1&n&&(a.TgZ(0,"div",21)(1,"div",22),a._UZ(2,"img",23),a.qZA(),a.TgZ(3,"div",24)(4,"p"),a._uU(5),a.qZA(),a.TgZ(6,"h3"),a._uU(7,"Deluxe Queen Room With Street View"),a.qZA(),a.TgZ(8,"p"),a._uU(9),a.qZA(),a._UZ(10,"i",25)(11,"i",25)(12,"i",25)(13,"i",25)(14,"i",26),a.TgZ(15,"div",27)(16,"p"),a._uU(17),a.qZA(),a.TgZ(18,"h4"),a._uU(19),a.TgZ(20,"span"),a._uU(21,"/ day"),a.qZA()()()()()),2&n){const t=e.$implicit;a.xp6(2),a.MGl("routerLink","/house-information/",t.key,""),a.Q6J("src",t.image,a.LSH),a.xp6(3),a.hij("Private Villa in San Francisco ",t.location,""),a.xp6(4),a.AsE("",t.bathroom," Bedroom / ",t.bed," Bathroom / Wifi / Kitchen"),a.xp6(8),a.hij("",t.guest," Guest"),a.xp6(2),a.hij("$ ",t.price," ")}}const Pw=function(){return["/"]};function y7(n,e){if(1&n&&(a.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"p"),a._uU(4,"200+ Options"),a.qZA(),a.TgZ(5,"h1"),a._uU(6,"Recommended Places In San Francisco"),a.qZA(),a.YNc(7,_7,22,7,"div",11),a.qZA(),a.TgZ(8,"div",12)(9,"div",13)(10,"h2"),a._uU(11,"Select Filters"),a.qZA(),a.TgZ(12,"h3"),a._uU(13,"Property Type"),a.qZA(),a.TgZ(14,"div",14),a._UZ(15,"input",15),a.TgZ(16,"p"),a._uU(17,"House"),a.qZA(),a.TgZ(18,"span"),a._uU(19,"(0)"),a.qZA()(),a.TgZ(20,"div",14),a._UZ(21,"input",15),a.TgZ(22,"p"),a._uU(23,"Hostel"),a.qZA(),a.TgZ(24,"span"),a._uU(25,"(0)"),a.qZA()(),a.TgZ(26,"div",14),a._UZ(27,"input",15),a.TgZ(28,"p"),a._uU(29,"Flat"),a.qZA(),a.TgZ(30,"span"),a._uU(31,"(0)"),a.qZA()(),a.TgZ(32,"div",14),a._UZ(33,"input",15),a.TgZ(34,"p"),a._uU(35,"Villa"),a.qZA(),a.TgZ(36,"span"),a._uU(37,"(0)"),a.qZA()(),a.TgZ(38,"div",14),a._UZ(39,"input",15),a.TgZ(40,"p"),a._uU(41,"Guset Suit"),a.qZA(),a.TgZ(42,"span"),a._uU(43,"(0)"),a.qZA()(),a.TgZ(44,"h3"),a._uU(45,"Amenities"),a.qZA(),a.TgZ(46,"div",14),a._UZ(47,"input",15),a.TgZ(48,"p"),a._uU(49,"Air Conditioning"),a.qZA(),a.TgZ(50,"span"),a._uU(51,"(0)"),a.qZA()(),a.TgZ(52,"div",14),a._UZ(53,"input",15),a.TgZ(54,"p"),a._uU(55,"Wifi"),a.qZA(),a.TgZ(56,"span"),a._uU(57,"(0)"),a.qZA()(),a.TgZ(58,"div",14),a._UZ(59,"input",15),a.TgZ(60,"p"),a._uU(61,"Gym"),a.qZA(),a.TgZ(62,"span"),a._uU(63,"(0)"),a.qZA()(),a.TgZ(64,"div",14),a._UZ(65,"input",15),a.TgZ(66,"p"),a._uU(67,"Pool"),a.qZA(),a.TgZ(68,"span"),a._uU(69,"(0)"),a.qZA()(),a.TgZ(70,"div",14),a._UZ(71,"input",15),a.TgZ(72,"p"),a._uU(73,"Kitchen"),a.qZA(),a.TgZ(74,"span"),a._uU(75,"(0)"),a.qZA()(),a.TgZ(76,"div",16)(77,"a",3),a._uU(78,"View More"),a.qZA()()()()(),a.TgZ(79,"div",17),a._UZ(80,"img",18),a.TgZ(81,"span",19),a._uU(82,"1"),a.qZA(),a.TgZ(83,"span"),a._uU(84,"2"),a.qZA(),a.TgZ(85,"span"),a._uU(86,"3"),a.qZA(),a.TgZ(87,"span"),a._uU(88,"4"),a.qZA(),a.TgZ(89,"span"),a._uU(90,"5"),a.qZA(),a.TgZ(91,"span"),a._uU(92,"\xb7 \xb7 \xb7 \xb7"),a.qZA(),a.TgZ(93,"span"),a._uU(94,"20"),a.qZA(),a._UZ(95,"img",20),a.qZA(),a._UZ(96,"app-footer"),a.qZA()),2&n){const t=e.ngIf;a.xp6(7),a.Q6J("ngForOf",t.houses),a.xp6(70),a.Q6J("routerLink",a.DdM(2,Pw))}}const v7=function(){return["/create"]},b7=[{path:"",component:d7},{path:"create",canActivate:[uO],component:wK},{path:"user-login",canActivate:[dO],component:x8},{path:"user-registration",canActivate:[dO],component:A8},{path:"password-reset",canActivate:[dO],component:e8},{path:"house-listing",canActivate:[uO],component:(()=>{class n{constructor(t,i){this.router=t,this.firebaseClient=i,this.houses$=this.firebaseClient.GetAllhouses(),this.users$=this.firebaseClient.GetAllUsers(),this.data$=uo([this.houses$,this.users$]).pipe((0,qe.U)(([r,s])=>({houses:r,users:s}))),this.isMenuOpened=!1}ngOnInit(){}FullInfoBtn(t){this.router.navigate(["/house-information"]),console.log(t)}toggleBtn(){this.isMenuOpened=!this.isMenuOpened,document.querySelector("#navBar")?.classList.toggle("hidemenu")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Bn),a.Y36(LO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-house-listing"]],decls:17,vars:13,consts:[["id","navBar",1,"navbar-white"],["src","../../assets/images/logored.png",1,"logo",3,"routerLink"],[1,"nav-links"],[3,"routerLink"],[1,"active",3,"routerLink"],[1,"register-btn",3,"routerLink"],[1,"fa-solid","fa-bars",3,"click"],["class","container",4,"ngIf"],[1,"container"],[1,"list-container"],[1,"left-col"],["class","house",4,"ngFor","ngForOf"],[1,"right-col"],[1,"sidebar"],[1,"filter"],["type","checkbox"],[1,"sidebar-link"],[1,"pagination"],["src","../../assets/images/arrow.png","alt",""],[1,"current"],["src","../../assets/images/arrow.png","alt","",1,"right-arrow"],[1,"house"],[1,"house-img"],[3,"routerLink","src"],[1,"house-info"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"],[1,"house-price"]],template:function(t,i){1&t&&(a.TgZ(0,"nav",0),a._UZ(1,"img",1),a.TgZ(2,"ul",2)(3,"li")(4,"a",3),a._uU(5,"Popular Places"),a.qZA()(),a.TgZ(6,"li")(7,"a",4),a._uU(8,"Travel Outside"),a.qZA()(),a.TgZ(9,"li")(10,"a",3),a._uU(11,"Online Packages"),a.qZA()(),a.TgZ(12,"a",5),a._uU(13,"Add Statement"),a.qZA()(),a.TgZ(14,"i",6),a.NdJ("click",function(){return i.toggleBtn()}),a.qZA()(),a.YNc(15,y7,97,3,"div",7),a.ALo(16,"async")),2&t&&(a.xp6(1),a.Q6J("routerLink",a.DdM(8,Pw)),a.xp6(3),a.Q6J("routerLink",a.DdM(9,Pw)),a.xp6(3),a.Q6J("routerLink",a.DdM(10,Pw)),a.xp6(3),a.Q6J("routerLink",a.DdM(11,Pw)),a.xp6(2),a.Q6J("routerLink",a.DdM(12,v7)),a.xp6(3),a.Q6J("ngIf",a.lcZ(16,6,i.data$)))},dependencies:[Oo,bn,cd,Ya,JO,bu],styles:['nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 7%}.logo[_ngcontent-%COMP%]{width:140px;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin:10px 30px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.container[_ngcontent-%COMP%]{padding:.7%}.register-btn[_ngcontent-%COMP%]{background:#ff5361;color:#fff;padding:8px 20px;border-radius:20px;text-decoration:none;font-size:14px}.navbar-white[_ngcontent-%COMP%]{background:#FFF;box-shadow:0 5px 10px #0000000d}.navbar-white[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{color:#000}.active[_ngcontent-%COMP%]{position:relative}.navbar-white.active[_ngcontent-%COMP%]:after{content:"";background:#ff5361;width:25px;height:2px;position:absolute;left:50%;transform:translate(-50%);bottom:-12px;border-radius:2px}.list-container[_ngcontent-%COMP%]{margin-top:50px;display:flex;flex-wrap:wrap;justify-content:space-between;padding:0 7%}.left-col[_ngcontent-%COMP%]{flex-basis:70%}.right-col[_ngcontent-%COMP%]{flex-basis:25%}.left-col[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-weight:600;margin-bottom:30px}.house[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;padding:30px 0;border-top:1px solid #ccc}.house-img[_ngcontent-%COMP%]{flex-basis:40%}.house-info[_ngcontent-%COMP%]{flex-basis:58%}.house-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:12px}.house-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:22px;margin:4px 0}.house-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff5361;font-size:18px;margin:10px 1px}.house-price[_ngcontent-%COMP%]{text-align:right}.house-price[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.house-price[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.sidebar[_ngcontent-%COMP%]{border:1px solid #999;padding:20px 30px;margin-top:30px}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500}.sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin:20px 0 10px}.filter[_ngcontent-%COMP%]{display:flex;align-items:center;color:#555;margin-bottom:10px}.filter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;margin-top:11px}.filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:15px;cursor:pointer}.sidebar-link[_ngcontent-%COMP%]{text-align:right;margin:20px 0}.sidebar-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:40px 0}.pagination[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin:10px 15px}.right-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px 8px;width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%;cursor:pointer}.pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:#333;color:#fff}nav[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{display:none}@media only screen and (max-width:700px){.logo[_ngcontent-%COMP%]{position:fixed;top:4%;left:7%}nav[_ngcontent-%COMP%]{position:fixed;top:0;z-index:100;display:inline-block;width:100%;padding:100px 7% 0;background:#000;text-align:right;max-height:100px;overflow:hidden;transition:max-height .5s}nav[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0;display:block}.register-btn[_ngcontent-%COMP%]{margin:15px 0 30px;display:inline-block}nav[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{display:block;position:fixed;top:4%;right:7%;color:#fff;font-size:28px}.active[_ngcontent-%COMP%]:after{left:-40px;transform:translateY(50%);bottom:50%}.list-container[_ngcontent-%COMP%]{margin-top:150px}.left-col[_ngcontent-%COMP%], .right-col[_ngcontent-%COMP%], .house-info[_ngcontent-%COMP%], .house-img[_ngcontent-%COMP%]{flex-basis:100%}.left-col[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.house-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.house-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px 2px;width:30px;height:30px;line-height:30px;font-size:12px}.hidemenu[_ngcontent-%COMP%]{max-height:300px}}']}),n})()},{path:"house-information/:key'",canActivate:[uO],component:g7}];let w7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[bE.forRoot(b7),bE]}),n})(),C7=(()=>{class n{constructor(t,i){this.auth=t,this.dialog=i,this.title="angularcr",this.panelOpenState=!1}ngOnInit(){this.checkUserStatus()}checkUserStatus(){let t=this.auth.userCheck();this.afterLoginDisplay=!t,this.auth.userStatusEmitter.subscribe(i=>{this.afterLoginDisplay=i})}onUserLogOut(){this.auth.userLogOut()}onUserDeleteAlertOpen(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tf),a.Y36(Rw))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&(a.TgZ(0,"div"),a._UZ(1,"router-outlet"),a.qZA(),a._UZ(2,"router-outlet"))},dependencies:[_],styles:[".User-box[_ngcontent-%COMP%]{box-sizing:content-box;padding:30px}"]}),n})();function qH(n){return new a.vHH(3e3,!1)}function i9(){return typeof window<"u"&&typeof window.document<"u"}function tP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function cf(n){switch(n.length){case 0:return new Gp;case 1:return n[0];default:return new PD(n)}}function ZH(n,e,t,i,r=new Map,s=new Map){const c=[],d=[];let p=-1,y=null;if(i.forEach(w=>{const D=w.get("offset"),k=D==p,P=k&&y||new Map;w.forEach((F,G)=>{let ne=G,Te=F;if("offset"!==G)switch(ne=e.normalizePropertyName(ne,c),Te){case"!":Te=r.get(G);break;case nl:Te=s.get(G);break;default:Te=e.normalizeStyleValue(G,ne,Te,c)}P.set(ne,Te)}),k||d.push(P),y=P,p=D}),c.length)throw function $7(n){return new a.vHH(3502,!1)}();return d}function nP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&iP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&iP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&iP(t,"destroy",n)))}}function iP(n,e,t){const s=rP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function rP(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ga(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function WH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let sP=(n,e)=>!1,YH=(n,e,t)=>[],KH=null;function oP(n){const e=n.parentNode||n.host;return e===KH?null:e}(tP()||typeof Element<"u")&&(i9()?(KH=(()=>document.documentElement)(),sP=(n,e)=>{for(;e;){if(e===n)return!0;e=oP(e)}return!1}):sP=(n,e)=>n.contains(e),YH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Im=null,QH=!1;const XH=sP,JH=YH;let ej=(()=>{class n{validateStyleProperty(t){return function s9(n){Im||(Im=function o9(){return typeof document<"u"?document.body:null}()||{},QH=!!Im.style&&"WebkitAppearance"in Im.style);let e=!0;return Im.style&&!function r9(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Im.style,!e&&QH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Im.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return XH(t,i)}getParentElement(t){return oP(t)}query(t,i,r){return JH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],p){return new Gp(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),aP=(()=>{class n{}return n.NOOP=new ej,n})();const lP="ng-enter",qS="ng-leave",ZS="ng-trigger",WS=".ng-trigger",nj="ng-animating",cP=".ng-animating";function uf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uP(parseFloat(e[1]),e[2])}function uP(n,e){return"s"===e?1e3*n:n}function YS(n,e,t){return n.hasOwnProperty("duration")?n:function c9(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(qH()),{duration:0,delay:0,easing:""};r=uP(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=uP(parseFloat(p),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!t){let d=!1,p=e.length;r<0&&(e.push(function E7(){return new a.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function D7(){return new a.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,qH())}return{duration:r,delay:s,easing:c}}(n,e,t)}function Nw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ij(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function df(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function sj(n,e,t){return t?e+":"+t+";":""}function oj(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=sj(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=sj(0,f9(t),n.style[t]));n.setAttribute("style",e)}function su(n,e,t){n.style&&(e.forEach((i,r)=>{const s=hP(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),tP()&&oj(n))}function Sm(n,e){n.style&&(e.forEach((t,i)=>{const r=hP(i);n.style[r]=""}),tP()&&oj(n))}function Fw(n){return Array.isArray(n)?1==n.length?n[0]:M_(n):n}const dP=new RegExp("{{\\s*(.+?)\\s*}}","g");function aj(n){let e=[];if("string"==typeof n){let t;for(;t=dP.exec(n);)e.push(t[1]);dP.lastIndex=0}return e}function KS(n,e,t){const i=n.toString(),r=i.replace(dP,(s,c)=>{let d=e[c];return null==d&&(t.push(function S7(n){return new a.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function QS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const h9=/-+([a-z0-9])/g;function hP(n){return n.replace(h9,(...e)=>e[1].toUpperCase())}function f9(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _a(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function T7(n){return new a.vHH(3004,!1)}()}}function lj(n,e){return window.getComputedStyle(n)[e]}function v9(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function b9(n,e,t){if(":"==n[0]){const p=function w9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function H7(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function U7(n){return new a.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(cj(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(cj(c,r))}(i,t,e)):t.push(n),t}const tT=new Set(["true","1"]),nT=new Set(["false","0"]);function cj(n,e){const t=tT.has(n)||nT.has(n),i=tT.has(e)||nT.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?tT.has(n):nT.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?tT.has(e):nT.has(e)),c&&d}}const C9=new RegExp("s*:selfs*,?","g");function fP(n,e,t,i){return new E9(n).build(e,t,i)}class E9{constructor(e){this._driver=e}build(e,t,i){const r=new S9(t);return this._resetContextStyleTimingState(r),_a(this,Fw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function M7(){return new a.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,t))}),p.name=y}else if(1==d.type){const p=this.visitTransition(d,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function A7(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{aj(p).forEach(y=>{c.hasOwnProperty(y)||s.add(y)})})}),s.size&&(QS(s.values()),t.errors.push(function k7(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=_a(this,Fw(e.animation),t);return{type:1,matchers:v9(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Tm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>_a(this,i,t)),options:Tm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=_a(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:Tm(e.options)}}visitAnimate(e,t){const i=function x9(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pP(YS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=YS(t,e);return pP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:fn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=fn(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=d,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===nl?i.push(d):t.errors.push(new a.vHH(3002,!1)):i.push(ij(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const y=t.collectedStyles.get(t.currentQuerySelector),w=y.get(p);let D=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(t.errors.push(function O7(n,e,t,i,r){return new a.vHH(3010,!1)}()),D=!1),s=w.startTime),D&&y.set(p,{startTime:s,endTime:r}),t.options&&function d9(n,e,t){const i=e.params||{},r=aj(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function I7(n){return new a.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function P7(){return new a.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,y=0;const w=e.steps.map(Te=>{const He=this._makeStyleAst(Te,t);let Ye=null!=He.offset?He.offset:function T9(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(He.styles),We=0;return null!=Ye&&(s++,We=He.offset=Ye),p=p||We<0||We>1,d=d||We<y,y=We,c.push(We),He});p&&t.errors.push(function N7(){return new a.vHH(3012,!1)}()),d&&t.errors.push(function F7(){return new a.vHH(3200,!1)}());const D=e.steps.length;let k=0;s>0&&s<D?t.errors.push(function L7(){return new a.vHH(3202,!1)}()):0==s&&(k=1/(D-1));const P=D-1,F=t.currentTime,G=t.currentAnimateTimings,ne=G.duration;return w.forEach((Te,He)=>{const Ye=k>0?He==P?1:k*He:c[He],We=Ye*ne;t.currentTime=F+G.delay+We,G.duration=We,this._validateStyleAst(Te,t),Te.offset=Ye,i.styles.push(Te)}),i}visitReference(e,t){return{type:8,animation:_a(this,Fw(e.animation),t),options:Tm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Tm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Tm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function D9(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(C9,"")),n=n.replace(/@\*/g,WS).replace(/@\w+/g,t=>WS+"-"+t.slice(1)).replace(/:animating/g,cP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ga(t.collectedStyles,t.currentQuerySelector,new Map);const d=_a(this,Fw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:Tm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function B7(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:YS(e.timings,t.errors,!0);return{type:12,animation:_a(this,Fw(e.animation),t),timings:i,options:null}}}class S9{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tm(n){return n?(n=Nw(n)).params&&(n.params=function I9(n){return n?Nw(n):null}(n.params)):n={},n}function pP(n,e,t){return{duration:n,delay:e,easing:t}}function mP(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class iT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const k9=new RegExp(":enter","g"),O9=new RegExp(":leave","g");function gP(n,e,t,i,r,s=new Map,c=new Map,d,p,y=[]){return(new P9).buildKeyframes(n,e,t,i,r,s,c,d,p,y)}class P9{buildKeyframes(e,t,i,r,s,c,d,p,y,w=[]){y=y||new iT;const D=new _P(e,t,y,r,s,w,[]);D.options=p;const k=p.delay?uf(p.delay):0;D.currentTimeline.delayNextStep(k),D.currentTimeline.setStyles([c],null,D.errors,p),_a(this,i,D);const P=D.timelines.filter(F=>F.containsAnimation());if(P.length&&d.size){let F;for(let G=P.length-1;G>=0;G--){const ne=P[G];if(ne.element===t){F=ne;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([d],null,D.errors,p)}return P.length?P.map(F=>F.buildKeyframes()):[mP(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?uf(i.duration):null,d=null!=i.delay?uf(i.delay):null;return 0!==c&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),_a(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rT);const c=uf(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>_a(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?uf(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),_a(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return YS(t.params?KS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?uf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rT);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((y,w)=>{t.currentQueryIndex=w;const D=t.createSubContext(e.options,y);s&&D.delayNextStep(s),y===t.element&&(p=D.currentTimeline),_a(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const w=t.currentTimeline;p&&w.delayNextStep(p);const D=w.currentTime;_a(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const rT={};class _P{constructor(e,t,i,r,s,c,d,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new sT(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=uf(i.duration)),null!=i.delay&&(r.delay=uf(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=KS(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new _P(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=rT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new N9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(k9,"."+this._enterClassName)).replace(O9,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(function V7(n){return new a.vHH(3014,!1)}()),d}}class sT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||nl),this._currentKeyframe.set(t,nl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function F9(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,nl)}else df(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of c){const y=KS(p,s,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??nl),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const y=df(d,new Map,this._backFill);y.forEach((w,D)=>{"!"===w?e.add(D):w===nl&&t.add(D)}),i||y.set("offset",p/this.duration),r.push(y)});const s=e.size?QS(e.values()):[],c=t.size?QS(t.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return mP(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class N9 extends sT{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,p=df(e[0]);p.set("offset",0),s.push(p);const y=df(e[0]);y.set("offset",hj(d)),s.push(y);const w=e.length-1;for(let D=1;D<=w;D++){let k=df(e[D]);const P=k.get("offset");k.set("offset",hj((t+P*i)/c)),s.push(k)}i=c,t=0,r="",e=s}return mP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function hj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class yP{}const L9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class B9 extends yP{normalizePropertyName(e,t){return hP(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(L9.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function x7(n,e){return new a.vHH(3005,!1)}())}return c+s}}function fj(n,e,t,i,r,s,c,d,p,y,w,D,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:D,errors:k}}const vP={};class pj{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function V9(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,d,p,y,w){const D=[],k=this.ast.options&&this.ast.options.params||vP,F=this.buildStyles(i,d&&d.params||vP,D),G=p&&p.params||vP,ne=this.buildStyles(r,G,D),Te=new Set,He=new Map,Ye=new Map,We="void"===r,bt={params:U9(G,k),delay:this.ast.options?.delay},Et=w?[]:gP(e,t,this.ast.animation,s,c,F,ne,bt,y,D);let en=0;if(Et.forEach(wa=>{en=Math.max(wa.duration+wa.delay,en)}),D.length)return fj(t,this._triggerName,i,r,We,F,ne,[],[],He,Ye,en,D);Et.forEach(wa=>{const Gd=wa.element,q6=ga(He,Gd,new Set);wa.preStyleProps.forEach(sg=>q6.add(sg));const $C=ga(Ye,Gd,new Set);wa.postStyleProps.forEach(sg=>$C.add(sg)),Gd!==t&&Te.add(Gd)});const Gi=QS(Te.values());return fj(t,this._triggerName,i,r,We,F,ne,Et,Gi,He,Ye,en)}}function U9(n,e){const t=Nw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class H9{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Nw(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=KS(c,r,t));const p=this.normalizer.normalizePropertyName(d,t);c=this.normalizer.normalizeStyleValue(d,p,c,t),i.set(p,c)})}),i}}class G9{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new H9(r.style,r.options&&r.options.params||{},i))}),mj(this.states,"true","1"),mj(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new pj(e,r,this.states))}),this.fallbackTransition=function z9(n,e,t){return new pj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function mj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $9=new iT;class q9{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=fP(this._driver,t,i,[]);if(i.length)throw function q7(n){return new a.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=ZH(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const d=new Map;if(s?(c=gP(this._driver,t,s,lP,qS,new Map,new Map,i,$9,r),c.forEach(w=>{const D=ga(d,w.element,new Map);w.postStyleProps.forEach(k=>D.set(k,null))})):(r.push(function Z7(){return new a.vHH(3300,!1)}()),c=[]),r.length)throw function W7(n){return new a.vHH(3504,!1)}();d.forEach((w,D)=>{w.forEach((k,P)=>{w.set(P,this._driver.computeStyle(D,P,nl))})});const y=cf(c.map(w=>{const D=d.get(w.element);return this._buildPlayer(w,new Map,D)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Y7(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=rP(t,"","","");return nP(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const gj="ng-animate-queued",bP="ng-animate-disabled",Q9=[],_j={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ul="__ng_removed";class wP{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function nQ(n){return n??null}(i?e.value:e),i){const s=Nw(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Lw="void",CP=new wP(Lw);class J9{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,dl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function K7(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function Q7(n){return new a.vHH(3303,!1)}();if(!function iQ(n){return"start"==n||"done"==n}(i))throw function X7(n,e){return new a.vHH(3400,!1)}();const s=ga(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=ga(this._engine.statesByElement,e,new Map);return d.has(t)||(dl(e,ZS),dl(e,ZS+"-"+t),d.set(t,CP)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function J7(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new EP(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(dl(e,ZS),dl(e,ZS+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const y=new wP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),d.set(t,y),p||(p=CP),y.value!==Lw&&p.value===y.value){if(!function oQ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const G=[],ne=s.matchStyles(p.value,p.params,G),Te=s.matchStyles(y.value,y.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{Sm(e,ne),su(e,Te)})}return}const k=ga(this._engine.playersByElement,e,[]);k.forEach(G=>{G.namespaceId==this.id&&G.triggerName==t&&G.queued&&G.destroy()});let P=s.matchTransition(p.value,y.value,e,y.params),F=!1;if(!P){if(!r)return;P=s.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:P,fromState:p,toState:y,player:c,isFallbackTransition:F}),F||(dl(e,gj),c.onStart(()=>{Ay(e,gj)})),c.onDone(()=>{let G=this.players.indexOf(c);G>=0&&this.players.splice(G,1);const ne=this._engine.playersByElement.get(e);if(ne){let Te=ne.indexOf(c);Te>=0&&ne.splice(Te,1)}}),this.players.push(c),k.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,WS,!0);i.forEach(r=>{if(r[ul])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(s.forEach((p,y)=>{if(c.set(y,p.value),this._triggers.has(y)){const w=this.trigger(e,y,Lw,r);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&cf(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,y=i.get(c)||CP,w=new wP(Lw),D=new EP(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:y,toState:w,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ul];(!s||s===_j)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){dl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=rP(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,nP(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class eQ{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new J9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(t);for(;d;){const p=r.get(d);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(oT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!oT(t))return;const s=t[ul];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),dl(e,bP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ay(e,bP))}removeNode(e,t,i,r){if(oT(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ul]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return oT(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,WS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,cP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return cf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ul];if(t&&t.setForRemoval){if(e[ul]=_j,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)dl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?cf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function e9(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new iT,r=[],s=new Map,c=[],d=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(mt=>{w.add(mt);const xt=this.driver.query(mt,".ng-animate-queued",!0);for(let Ot=0;Ot<xt.length;Ot++)w.add(xt[Ot])});const D=this.bodyNode,k=Array.from(this.statesByElement.keys()),P=bj(k,this.collectedEnterElements),F=new Map;let G=0;P.forEach((mt,xt)=>{const Ot=lP+G++;F.set(xt,Ot),mt.forEach(vn=>dl(vn,Ot))});const ne=[],Te=new Set,He=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const xt=this.collectedLeaveElements[mt],Ot=xt[ul];Ot&&Ot.setForRemoval&&(ne.push(xt),Te.add(xt),Ot.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(vn=>Te.add(vn)):He.add(xt))}const Ye=new Map,We=bj(k,Array.from(Te));We.forEach((mt,xt)=>{const Ot=qS+G++;Ye.set(xt,Ot),mt.forEach(vn=>dl(vn,Ot))}),e.push(()=>{P.forEach((mt,xt)=>{const Ot=F.get(xt);mt.forEach(vn=>Ay(vn,Ot))}),We.forEach((mt,xt)=>{const Ot=Ye.get(xt);mt.forEach(vn=>Ay(vn,Ot))}),ne.forEach(mt=>{this.processLeaveNode(mt)})});const bt=[],Et=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Ot=>{const vn=Ot.player,Lr=Ot.element;if(bt.push(vn),this.collectedEnterElements.length){const Cs=Lr[ul];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(Ot.triggerName)){const og=Cs.previousTriggersValues.get(Ot.triggerName),fl=this.statesByElement.get(Ot.element);if(fl&&fl.has(Ot.triggerName)){const Px=fl.get(Ot.triggerName);Px.value=og,fl.set(Ot.triggerName,Px)}}return void vn.destroy()}}const hu=!D||!this.driver.containsElement(D,Lr),Ca=Ye.get(Lr),Rf=F.get(Lr),Si=this._buildInstruction(Ot,i,Rf,Ca,hu);if(Si.errors&&Si.errors.length)return void Et.push(Si);if(hu)return vn.onStart(()=>Sm(Lr,Si.fromStyles)),vn.onDestroy(()=>su(Lr,Si.toStyles)),void r.push(vn);if(Ot.isFallbackTransition)return vn.onStart(()=>Sm(Lr,Si.fromStyles)),vn.onDestroy(()=>su(Lr,Si.toStyles)),void r.push(vn);const Y6=[];Si.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||Y6.push(Cs)}),Si.timelines=Y6,i.append(Lr,Si.timelines),c.push({instruction:Si,player:vn,element:Lr}),Si.queriedElements.forEach(Cs=>ga(d,Cs,[]).push(vn)),Si.preStyleProps.forEach((Cs,og)=>{if(Cs.size){let fl=p.get(og);fl||p.set(og,fl=new Set),Cs.forEach((Px,BF)=>fl.add(BF))}}),Si.postStyleProps.forEach((Cs,og)=>{let fl=y.get(og);fl||y.set(og,fl=new Set),Cs.forEach((Px,BF)=>fl.add(BF))})});if(Et.length){const mt=[];Et.forEach(xt=>{mt.push(function t9(n,e){return new a.vHH(3505,!1)}())}),bt.forEach(xt=>xt.destroy()),this.reportError(mt)}const en=new Map,Gi=new Map;c.forEach(mt=>{const xt=mt.element;i.has(xt)&&(Gi.set(xt,xt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,en))}),r.forEach(mt=>{const xt=mt.element;this._getPreviousPlayers(xt,!1,mt.namespaceId,mt.triggerName,null).forEach(vn=>{ga(en,xt,[]).push(vn),vn.destroy()})});const wa=ne.filter(mt=>Cj(mt,p,y)),Gd=new Map;vj(Gd,this.driver,He,y,nl).forEach(mt=>{Cj(mt,p,y)&&wa.push(mt)});const $C=new Map;P.forEach((mt,xt)=>{vj($C,this.driver,new Set(mt),p,"!")}),wa.forEach(mt=>{const xt=Gd.get(mt),Ot=$C.get(mt);Gd.set(mt,new Map([...Array.from(xt?.entries()??[]),...Array.from(Ot?.entries()??[])]))});const sg=[],Z6=[],W6={};c.forEach(mt=>{const{element:xt,player:Ot,instruction:vn}=mt;if(i.has(xt)){if(w.has(xt))return Ot.onDestroy(()=>su(xt,vn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(vn.totalTime),void r.push(Ot);let Lr=W6;if(Gi.size>1){let Ca=xt;const Rf=[];for(;Ca=Ca.parentNode;){const Si=Gi.get(Ca);if(Si){Lr=Si;break}Rf.push(Ca)}Rf.forEach(Si=>Gi.set(Si,Lr))}const hu=this._buildAnimation(Ot.namespaceId,vn,en,s,$C,Gd);if(Ot.setRealPlayer(hu),Lr===W6)sg.push(Ot);else{const Ca=this.playersByElement.get(Lr);Ca&&Ca.length&&(Ot.parentPlayer=cf(Ca)),r.push(Ot)}}else Sm(xt,vn.fromStyles),Ot.onDestroy(()=>su(xt,vn.toStyles)),Z6.push(Ot),w.has(xt)&&r.push(Ot)}),Z6.forEach(mt=>{const xt=s.get(mt.element);if(xt&&xt.length){const Ot=cf(xt);mt.setRealPlayer(Ot)}}),r.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<ne.length;mt++){const xt=ne[mt],Ot=xt[ul];if(Ay(xt,qS),Ot&&Ot.hasAnimation)continue;let vn=[];if(d.size){let hu=d.get(xt);hu&&hu.length&&vn.push(...hu);let Ca=this.driver.query(xt,cP,!0);for(let Rf=0;Rf<Ca.length;Rf++){let Si=d.get(Ca[Rf]);Si&&Si.length&&vn.push(...Si)}}const Lr=vn.filter(hu=>!hu.destroyed);Lr.length?rQ(this,xt,Lr):this.processLeaveNode(xt)}return ne.length=0,sg.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const xt=this.players.indexOf(mt);this.players.splice(xt,1)}),mt.play()}),sg}elementContainsData(e,t){let i=!1;const r=t[ul];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==Lw;d.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,w=y!==s,D=ga(i,y,[]);this._getPreviousPlayers(y,w,c,d,t.toState).forEach(P=>{const F=P.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),P.destroy(),D.push(P)})}Sm(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,p=t.element,y=[],w=new Set,D=new Set,k=t.timelines.map(F=>{const G=F.element;w.add(G);const ne=G[ul];if(ne&&ne.removedBeforeQueried)return new Gp(F.duration,F.delay);const Te=G!==p,He=function sQ(n){const e=[];return wj(n,e),e}((i.get(G)||Q9).map(en=>en.getRealPlayer())).filter(en=>!!en.element&&en.element===G),Ye=s.get(G),We=c.get(G),bt=ZH(0,this._normalizer,0,F.keyframes,Ye,We),Et=this._buildPlayer(F,bt,He);if(F.subTimeline&&r&&D.add(G),Te){const en=new EP(e,d,G);en.setRealPlayer(Et),y.push(en)}return Et});y.forEach(F=>{ga(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function tQ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,F.element,F))}),w.forEach(F=>dl(F,nj));const P=cf(k);return P.onDestroy(()=>{w.forEach(F=>Ay(F,nj)),su(p,t.toStyles)}),D.forEach(F=>{ga(r,F,[]).push(P)}),P}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Gp(e.duration,e.delay)}}class EP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Gp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>nP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ga(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function oT(n){return n&&1===n.nodeType}function yj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function vj(n,e,t,i,r){const s=[];t.forEach(p=>s.push(yj(p)));const c=[];i.forEach((p,y)=>{const w=new Map;p.forEach(D=>{const k=e.computeStyle(y,D,r);w.set(D,k),(!k||0==k.length)&&(y[ul]=X9,c.push(y))}),n.set(y,w)});let d=0;return t.forEach(p=>yj(p,s[d++])),c}function bj(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const y=d.parentNode;return p=t.has(y)?y:r.has(y)?1:c(y),s.set(d,p),p}return e.forEach(d=>{const p=c(d);1!==p&&t.get(p).push(d)}),t}function dl(n,e){n.classList?.add(e)}function Ay(n,e){n.classList?.remove(e)}function rQ(n,e,t){cf(t).onDone(()=>n.processLeaveNode(e))}function wj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof PD?wj(i.players,e):e.push(i)}}function Cj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class aT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new eQ(e,t,i),this._timelineEngine=new q9(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],w=fP(this._driver,s,p,[]);if(p.length)throw function z7(n,e){return new a.vHH(3404,!1)}();d=function j9(n,e,t){return new G9(n,e,t)}(r,w,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=WH(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=WH(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lQ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Sm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sm(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DP(n){let e=null;return n.forEach((t,i)=>{(function cQ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Ej{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:lj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class uQ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return XH(e,t)}getParentElement(e){return oP(e)}query(e,t,i){return JH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,w=c.filter(P=>P instanceof Ej);(function p9(n,e){return 0===n||0===e})(i,r)&&w.forEach(P=>{P.currentSnapshot.forEach((F,G)=>y.set(G,F))});let D=function u9(n){return n.length?n[0]instanceof Map?n:n.map(e=>ij(e)):[]}(t).map(P=>df(P));D=function m9(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(d=>c.set(d,lj(n,d)))}}return e}(e,D,y);const k=function aQ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=DP(e[0]),e.length>1&&(i=DP(e[e.length-1]))):e instanceof Map&&(t=DP(e)),t||i?new lQ(n,t,i):null}(e,D);return new Ej(e,D,p,k)}}let dQ=(()=>{class n extends Kb{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?M_(t):t;return Dj(this._renderer,null,i,"register",[r]),new hQ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class hQ extends class ak{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fQ(this._id,e,t||{},this._renderer)}}class fQ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Dj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Dj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Ij="@.disabled";let pQ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new Sj("",s,this.engine),this._rendererCache.set(s,w)),w}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,d,t,w.name,w)};return i.data.animation.forEach(p),new mQ(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(aT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Sj{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Ij?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mQ extends Sj{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Ij?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function _Q(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let yQ=(()=>{class n extends aT{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(aP),a.LFG(yP),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Tj=[{provide:Kb,useClass:dQ},{provide:yP,useFactory:function vQ(){return new B9}},{provide:aT,useClass:yQ},{provide:a.FYo,useFactory:function bQ(n,e,t){return new pQ(n,e,t)},deps:[Go,aT,a.R0b]}],IP=[{provide:aP,useFactory:()=>new uQ},{provide:a.QbO,useValue:"BrowserAnimations"},...Tj],xj=[{provide:aP,useClass:ej},{provide:a.QbO,useValue:"NoopAnimations"},...Tj];let wQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xj:IP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:IP,imports:[Oc]}),n})();function SP(){return(0,Ln.e)((n,e)=>{let t,i=!1;n.subscribe((0,wn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var ct,CQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Od={},TP=TP||{},Ht=CQ||self;function cT(){}function xP(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var MP="closure_uid_"+(1e9*Math.random()>>>0),DQ=0;function IQ(n,e,t){return n.call.apply(n.bind,arguments)}function SQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?IQ:SQ).apply(null,arguments)}function uT(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function es(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function hf(){this.s=this.s,this.o=this.o}var xQ={};hf.prototype.s=!1,hf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function EQ(n){return Object.prototype.hasOwnProperty.call(n,MP)&&n[MP]||(n[MP]=++DQ)}(this);delete xQ[n]}},hf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Aj=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function kj(n){return Array.prototype.concat.apply([],arguments)}function AP(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function dT(n){return/^[\s\xa0]*$/.test(n)}var $s,Rj=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zs(n,e){return-1!=n.indexOf(e)}function kP(n,e){return n<e?-1:n>e?1:0}e:{var Oj=Ht.navigator;if(Oj){var Pj=Oj.userAgent;if(Pj){$s=Pj;break e}}$s=""}function RP(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Nj(n){const e={};for(const t in n)e[t]=n[t];return e}var Fj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lj(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Fj.length;s++)t=Fj[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function OP(n){return OP[" "](n),n}OP[" "]=cT;var hT,n,kQ=zs($s,"Opera"),ky=zs($s,"Trident")||zs($s,"MSIE"),Bj=zs($s,"Edge"),PP=Bj||ky,Vj=zs($s,"Gecko")&&!(zs($s.toLowerCase(),"webkit")&&!zs($s,"Edge"))&&!(zs($s,"Trident")||zs($s,"MSIE"))&&!zs($s,"Edge"),RQ=zs($s.toLowerCase(),"webkit")&&!zs($s,"Edge");function Uj(){var n=Ht.document;return n?n.documentMode:void 0}e:{var NP="",FP=(n=$s,Vj?/rv:([^\);]+)(\)|;)/.exec(n):Bj?/Edge\/([\d\.]+)/.exec(n):ky?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RQ?/WebKit\/(\S+)/.exec(n):kQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(FP&&(NP=FP?FP[1]:""),ky){var LP=Uj();if(null!=LP&&LP>parseFloat(NP)){hT=String(LP);break e}}hT=NP}var OQ={};var NQ=Ht.document&&ky&&(Uj()||parseInt(hT,10))||void 0,FQ=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",cT,e),Ht.removeEventListener("test",cT,e)}catch{}return n}();function bs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Vw(n,e){if(bs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Vj){e:{try{OP(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vw.Z.h.call(this)}}bs.prototype.h=function(){this.defaultPrevented=!0},es(Vw,bs);var LQ={2:"touch",3:"pen",4:"mouse"};Vw.prototype.h=function(){Vw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Uw="closure_listenable_"+(1e6*Math.random()|0),BQ=0;function VQ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++BQ,this.ca=this.fa=!1}function fT(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function pT(n){this.src=n,this.g={},this.h=0}function VP(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=Mj(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(fT(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function UP(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}pT.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=UP(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new VQ(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var HP="closure_lm_"+(1e6*Math.random()|0),jP={};function jj(n,e,t,i,r){if(i&&i.once)return zj(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jj(n,e[s],t,i,r);return null}return t=qP(t),n&&n[Uw]?n.N(e,t,Bw(i)?!!i.capture:!!i,r):Gj(n,e,t,!1,i,r)}function Gj(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Bw(r)?!!r.capture:!!r,d=zP(n);if(d||(n[HP]=d=new pT(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function UQ(){var e=HQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)FQ||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(qj(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function zj(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zj(n,e[s],t,i,r);return null}return t=qP(t),n&&n[Uw]?n.O(e,t,Bw(i)?!!i.capture:!!i,r):Gj(n,e,t,!0,i,r)}function $j(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)$j(n,e[s],t,i,r);else i=Bw(i)?!!i.capture:!!i,t=qP(t),n&&n[Uw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=UP(s=n.g[e],t,i,r))&&(fT(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=zP(n))&&(e=n.g[e.toString()],n=-1,e&&(n=UP(e,t,i,r)),(t=-1<n?e[n]:null)&&GP(t))}function GP(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Uw])VP(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(qj(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=zP(e))?(VP(t,n),0==t.h&&(t.src=null,e[HP]=null)):fT(n)}}}function qj(n){return n in jP?jP[n]:jP[n]="on"+n}function HQ(n,e){if(n.ca)n=!0;else{e=new Vw(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&GP(n),n=t.call(i,e)}return n}function zP(n){return(n=n[HP])instanceof pT?n:null}var $P="__closure_events_fn_"+(1e9*Math.random()>>>0);function qP(n){return"function"==typeof n?n:(n[$P]||(n[$P]=function(e){return n.handleEvent(e)}),n[$P])}function kr(){hf.call(this),this.i=new pT(this),this.P=this,this.I=null}function ts(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new bs(e,n);else if(e instanceof bs)e.target=e.target||n;else{var r=e;Lj(e=new bs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=mT(c,i,!0,e)&&r}if(r=mT(c=e.g=n,i,!0,e)&&r,r=mT(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=mT(c=e.g=t[s],i,!1,e)&&r}function mT(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var d=c.listener,p=c.ia||c.src;c.fa&&VP(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}es(kr,hf),kr.prototype[Uw]=!0,kr.prototype.removeEventListener=function(n,e,t,i){$j(this,n,e,t,i)},kr.prototype.M=function(){if(kr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)fT(t[i]);delete n.g[e],n.h--}}this.I=null},kr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},kr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var ZP=Ht.JSON.stringify;function jQ(){var n=Wj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var YP,Zj=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zQ,n=>n.reset());class zQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $Q(n){Ht.setTimeout(()=>{throw n},0)}function WP(n,e){YP||function qQ(){var n=Ht.Promise.resolve(void 0);YP=function(){n.then(ZQ)}}(),KP||(YP(),KP=!0),Wj.add(n,e)}var KP=!1,Wj=new class GQ{constructor(){this.h=this.g=null}add(e,t){const i=Zj.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ZQ(){for(var n;n=jQ();){try{n.h.call(n.g)}catch(t){$Q(t)}var e=Zj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}KP=!1}function gT(n,e){kr.call(this),this.h=n||1,this.g=e||Ht,this.j=Jr(this.kb,this),this.l=Date.now()}function QP(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function XP(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function Yj(n){n.g=XP(()=>{n.g=null,n.i&&(n.i=!1,Yj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}es(gT,kr),(ct=gT.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ts(this,"tick"),this.da&&(QP(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){gT.Z.M.call(this),QP(this),delete this.g};class WQ extends hf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yj(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hw(n){hf.call(this),this.h=n,this.g={}}es(Hw,hf);var Kj=[];function Qj(n,e,t,i){Array.isArray(t)||(t&&(Kj[0]=t.toString()),t=Kj);for(var r=0;r<t.length;r++){var s=jj(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Xj(n){RP(n.g,function(e,t){this.g.hasOwnProperty(t)&&GP(e)},n),n.g={}}function _T(){this.g=!0}function Ry(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function XQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return ZP(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Hw.prototype.M=function(){Hw.Z.M.call(this),Xj(this)},Hw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_T.prototype.Aa=function(){this.g=!1},_T.prototype.info=function(){};var xm={},Jj=null;function yT(){return Jj=Jj||new kr}function e3(n){bs.call(this,xm.Ma,n)}function jw(n){const e=yT();ts(e,new e3(e,n))}function t3(n,e){bs.call(this,xm.STAT_EVENT,n),this.stat=e}function qs(n){const e=yT();ts(e,new t3(e,n))}function n3(n,e){bs.call(this,xm.Na,n),this.size=e}function Gw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}xm.Ma="serverreachability",es(e3,bs),xm.STAT_EVENT="statevent",es(t3,bs),xm.Na="timingevent",es(n3,bs);var vT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},r3={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function JP(){}function o3(){}JP.prototype.h=null;var n1,zw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function e1(){bs.call(this,"d")}function t1(){bs.call(this,"c")}function bT(){}function $w(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Hw(this),this.P=JQ,this.W=new gT(n=PP?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new a3}function a3(){this.i=null,this.g="",this.h=!1}es(e1,bs),es(t1,bs),es(bT,JP),bT.prototype.g=function(){return new XMLHttpRequest},bT.prototype.i=function(){return{}},n1=new bT;var JQ=45e3,r1={},wT={};function s1(n,e,t){n.K=1,n.v=ST(Pd(e)),n.s=t,n.U=!0,l3(n,null)}function l3(n,e){n.F=Date.now(),qw(n),n.A=Pd(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),_3(t.h,"t",i),n.C=0,t=n.l.H,n.h=new a3,n.g=U3(n.l,t?e:null,!n.s),0<n.O&&(n.L=new WQ(Jr(n.Ia,n,n.g),n.O)),Qj(n.V,n.g,"readystatechange",n.gb),e=n.H?Nj(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),jw(1),function YQ(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var y=d[p].split("=");if(1<y.length){var w=y[0];y=y[1];var D=w.split("_");c=2<=D.length&&"type"==D[1]?c+(w+"=")+y+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function c3(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function u3(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=eX(n,t),r==wT){4==e&&(n.o=4,qs(14),i=!1),Ry(n.j,n.m,null,"[Incomplete Response]");break}if(r==r1){n.o=4,qs(15),Ry(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ry(n.j,n.m,r,null),o1(n,r)}c3(n)&&r!=wT&&r!=r1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),_1(e),e.L=!0,qs(11))):(Ry(n.j,n.m,t,"[Invalid Chunked Response]"),Mm(n),Zw(n))}function eX(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?wT:(t=Number(e.substring(t,i)),isNaN(t)?r1:(i+=1)+t>e.length?wT:(e=e.substr(i,t),n.C=i+t,e))}function qw(n){n.Y=Date.now()+n.P,d3(n,n.P)}function d3(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gw(Jr(n.eb,n),e)}function CT(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function Zw(n){0==n.l.G||n.I||F3(n.l,n)}function Mm(n){CT(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,QP(n.W),Xj(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function o1(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||c1(t.i,n)))if(t.I=n.N,!n.J&&c1(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;RT(t),AT(t)}g1(t),qs(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Gw(Jr(t.ab,t),6e3));if(1>=b3(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Rm(t,11)}else if((n.J||t.g==n)&&RT(t),!dT(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const w=y[3];null!=w&&(t.ma=w,t.h.info("VER="+t.ma));const D=y[4];null!=D&&(t.za=D,t.h.info("SVER="+t.za));const k=y[5];null!=k&&"number"==typeof k&&0<k&&(t.K=i=1.5*k,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const P=n.g;if(P){const F=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var s=i.i;!s.g&&(zs(F,"spdy")||zs(F,"quic")||zs(F,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(u1(s,s.h),s.h=null))}if(i.D){const G=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(i.sa=G,pi(i.F,i.D,G))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=V3(i,i.H?i.la:null,i.W),c.J){w3(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(CT(d),qw(d)),i.g=c}else P3(i);0<t.l.length&&kT(t)}else"stop"!=y[0]&&"close"!=y[0]||Rm(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Rm(t,7):p1(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}jw(4)}catch{}}function a1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xP(n)||"string"==typeof n)Aj(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(xP(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function tX(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(xP(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function Oy(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Oy)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function l1(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Am(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Am(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Am(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=$w.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==Nd(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const w=Nd(this.g);var e=this.g.Da();const D=this.g.ba();if(!(3>w)&&(3!=w||PP||this.g&&(this.h.h||this.g.ga()||M3(this.g)))){this.I||4!=w||7==e||jw(8==e||0>=D?3:2),CT(this);var t=this.g.ba();this.N=t;t:if(c3(this)){var i=M3(this.g);n="";var r=i.length,s=4==Nd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mm(this),Zw(this);var c="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function KQ(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,t),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dT(d)){var y=d;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,qs(12),Mm(this),Zw(this);break e}Ry(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,o1(this,t)}this.U?(u3(this,w,c),PP&&this.i&&3==w&&(Qj(this.V,this.W,"tick",this.fb),this.W.start())):(Ry(this.j,this.m,c,null),o1(this,c)),4==w&&Mm(this),this.i&&!this.I&&(4==w?F3(this.l,this):(this.i=!1,qw(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,qs(12)):(this.o=0,qs(13)),Mm(this),Zw(this)}}}catch{}},ct.fb=function(){if(this.g){var n=Nd(this.g),e=this.g.ga();this.C<e.length&&(CT(this),u3(this,n,e),this.i&&4!=n&&qw(this))}},ct.cancel=function(){this.I=!0,Mm(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function QQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jw(3),qs(17)),Mm(this),this.o=2,Zw(this)):d3(this,this.Y-n)},(ct=Oy.prototype).R=function(){l1(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return l1(this),this.g.concat()},ct.get=function(n,e){return Am(this.h,n)?this.h[n]:e},ct.set=function(n,e){Am(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var h3=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function km(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof km){this.g=void 0!==e?e:n.g,ET(this,n.j),this.s=n.s,DT(this,n.i),IT(this,n.m),this.l=n.l,e=n.h;var t=new Kw;t.i=e.i,e.g&&(t.g=new Oy(e.g),t.h=e.h),f3(this,t),this.o=n.o}else n&&(t=String(n).match(h3))?(this.g=!!e,ET(this,t[1]||"",!0),this.s=Ww(t[2]||""),DT(this,t[3]||"",!0),IT(this,t[4]),this.l=Ww(t[5]||"",!0),f3(this,t[6]||"",!0),this.o=Ww(t[7]||"")):(this.g=!!e,this.h=new Kw(null,this.g))}function Pd(n){return new km(n)}function ET(n,e,t){n.j=t?Ww(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function DT(n,e,t){n.i=t?Ww(e,!0):e}function IT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function f3(n,e,t){e instanceof Kw?(n.h=e,function uX(n,e){e&&!n.j&&(ff(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(m3(this,i),_3(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Yw(e,lX)),n.h=new Kw(e,n.g))}function pi(n,e,t){n.h.set(e,t)}function ST(n){return pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ww(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,sX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function sX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}km.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yw(e,p3,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yw(e,p3,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yw(t,"/"==t.charAt(0)?aX:oX,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yw(t,cX)),n.join("")};var p3=/[#\/\?@]/g,oX=/[#\?:]/g,aX=/[#\?]/g,lX=/[#\?@]/g,cX=/#/g;function Kw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ff(n){n.g||(n.g=new Oy,n.h=0,n.i&&function nX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function m3(n,e){ff(n),e=Py(n,e),Am(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Am((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&l1(n)))}function g3(n,e){return ff(n),e=Py(n,e),Am(n.g.h,e)}function _3(n,e,t){m3(n,e),0<t.length&&(n.i=null,n.g.set(Py(n,e),AP(t)),n.h+=t.length)}function Py(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function y3(n){this.l=n||hX,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ea&&Ht.g.Ea()&&Ht.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Kw.prototype).add=function(n,e){ff(this),this.i=null,n=Py(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){ff(this),this.g.forEach(function(t,i){Aj(t,function(r){n.call(e,r,i,this)},this)},this)},ct.T=function(){ff(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},ct.R=function(n){ff(this);var e=[];if("string"==typeof n)g3(this,n)&&(e=kj(e,this.g.get(Py(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=kj(e,n[t])}return e},ct.set=function(n,e){return ff(this),this.i=null,g3(this,n=Py(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var hX=10;function v3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function b3(n){return n.h?1:n.g?n.g.size:0}function c1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function u1(n,e){n.g?n.g.add(e):n.h=e}function w3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function C3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return AP(n.i)}function d1(){}function fX(){this.g=new d1}function pX(n,e,t){const i=t||"";try{a1(n,function(r,s){let c=r;Bw(r)&&(c=ZP(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function TT(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Qw(n){this.l=n.$b||null,this.j=n.ib||!1}function xT(n,e){kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=h1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}y3.prototype.cancel=function(){if(this.i=C3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},d1.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},d1.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},es(Qw,JP),Qw.prototype.g=function(){return new xT(this.l,this.j)},Qw.prototype.i=function(n){return function(){return n}}({}),es(xT,kr);var h1=0;function E3(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jw(n)}function Jw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=xT.prototype).open=function(n,e){if(this.readyState!=h1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jw(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xw(this)),this.readyState=h1},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jw(this)),this.g&&(this.readyState=3,Jw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E3(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xw(this):Jw(this),3==this.readyState&&E3(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,Xw(this))},ct.Ta=function(n){this.g&&(this.response=n,Xw(this))},ct.ha=function(){this.g&&Xw(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gX=Ht.JSON.parse;function tr(n){kr.call(this),this.headers=new Oy,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=D3,this.K=this.L=!1}es(tr,kr);var D3="",_X=/^https?$/i,yX=["POST","PUT"];function bX(n){return"content-type"==n.toLowerCase()}function I3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,S3(n),MT(n)}function S3(n){n.D||(n.D=!0,ts(n,"complete"),ts(n,"error"))}function T3(n){if(n.h&&typeof TP<"u"&&(!n.C[1]||4!=Nd(n)||2!=n.ba()))if(n.v&&4==Nd(n))XP(n.Fa,0,n);else if(ts(n,"readystatechange"),4==Nd(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(h3)[1]||null;if(!r&&Ht.self&&Ht.self.location){var s=Ht.self.location.protocol;r=s.substr(0,s.length-1)}i=!_X.test(r?r.toLowerCase():"")}t=i}if(t)ts(n,"complete"),ts(n,"success");else{n.m=6;try{var c=2<Nd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",S3(n)}}finally{MT(n)}}}function MT(n,e){if(n.g){x3(n);const t=n.g,i=n.C[0]?cT:null;n.g=null,n.C=null,e||ts(n,"ready");try{t.onreadystatechange=i}catch{}}}function x3(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function Nd(n){return n.g?n.g.readyState:0}function M3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case D3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function f1(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function wX(n){let e="";return RP(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pi(n,e,t))}function eC(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function A3(n){this.za=0,this.l=[],this.h=new _T,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eC("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eC("baseRetryDelayMs",5e3,n),this.$a=eC("retryDelaySeedMs",1e4,n),this.Ya=eC("forwardChannelMaxRetries",2,n),this.ra=eC("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new y3(n&&n.concurrentRequestLimit),this.Ca=new fX,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function p1(n){if(k3(n),3==n.G){var e=n.V++,t=Pd(n.F);pi(t,"SID",n.J),pi(t,"RID",e),pi(t,"TYPE","terminate"),tC(n,t),(e=new $w(n,n.h,e,void 0)).K=2,e.v=ST(Pd(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=U3(e.l,null),e.g.ea(e.v)),e.F=Date.now(),qw(e)}B3(n)}function AT(n){n.g&&(_1(n),n.g.cancel(),n.g=null)}function k3(n){AT(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),RT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function m1(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&kT(n)}function kT(n){v3(n.i)||n.m||(n.m=!0,WP(n.Ha,n),n.C=0)}function R3(n,e){var t;t=e?e.m:n.V++;const i=Pd(n.F);pi(i,"SID",n.J),pi(i,"RID",t),pi(i,"AID",n.U),tC(n,i),n.o&&n.s&&f1(i,n.o,n.s),t=new $w(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=O3(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),u1(n.i,t),s1(t,i,e)}function tC(n,e){n.j&&a1({},function(t,i){pi(e,i,t)})}function O3(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Jr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let y=r[p].h;const w=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),d=!1;else try{pX(w,c,"req"+y+"_")}catch{i&&i(w)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function P3(n){n.g||n.u||(n.Y=1,WP(n.Ga,n),n.A=0)}function g1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Gw(Jr(n.Ga,n),L3(n,n.A)),n.A++,0))}function _1(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function N3(n){n.g=new $w(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Pd(n.oa);pi(e,"RID","rpc"),pi(e,"SID",n.J),pi(e,"CI",n.N?"0":"1"),pi(e,"AID",n.U),tC(n,e),pi(e,"TYPE","xmlhttp"),n.o&&n.s&&f1(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ST(Pd(e)),t.s=null,t.U=!0,l3(t,n)}function RT(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function F3(n,e){var t=null;if(n.g==e){RT(n),_1(n),n.g=null;var i=2}else{if(!c1(n.i,e))return;t=e.D,w3(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ts(i=yT(),new n3(i,t,e,r)),kT(n)}else P3(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function CX(n,e){return!(b3(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Gw(Jr(n.Ha,n,e),L3(n,n.C)),n.C++,0)))}(n,e)||2==i&&g1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Rm(n,5);break;case 4:Rm(n,10);break;case 3:Rm(n,6);break;default:Rm(n,2)}}function L3(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Rm(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Jr(n.jb,n);t||(t=new km("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||ET(t,"https"),ST(t)),function mX(n,e){const t=new _T;if(Ht.Image){const i=new Image;i.onload=uT(TT,t,i,"TestLoadImage: loaded",!0,e),i.onerror=uT(TT,t,i,"TestLoadImage: error",!1,e),i.onabort=uT(TT,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=uT(TT,t,i,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else qs(2);n.G=0,n.j&&n.j.va(e),B3(n),k3(n)}function B3(n){n.G=0,n.I=-1,n.j&&((0!=C3(n.i).length||0!=n.l.length)&&(n.i.i.length=0,AP(n.l),n.l.length=0),n.j.ua())}function V3(n,e,t){let i=function iX(n){return n instanceof km?Pd(n):new km(n,void 0)}(t);if(""!=i.i)e&&DT(i,e+"."+i.i),IT(i,i.m);else{const r=Ht.location;i=function rX(n,e,t,i){var r=new km(null,void 0);return n&&ET(r,n),e&&DT(r,e),t&&IT(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&RP(n.aa,function(r,s){pi(i,s,r)}),t=n.sa,(e=n.D)&&t&&pi(i,e,t),pi(i,"VER",n.ma),tC(n,i),i}function U3(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(t&&n.Ba&&!n.qa?new Qw({ib:!0}):n.qa)).L=n.H,e}function H3(){}function OT(){if(ky&&!(10<=Number(NQ)))throw Error("Environmental error: no available transport.")}function ya(n,e){kr.call(this),this.g=new A3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!dT(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dT(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ny(this)}function j3(n){e1.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function G3(){t1.call(this),this.status=1}function Ny(n){this.g=n}(ct=tr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():n1.g(),this.C=function s3(n){return n.h||(n.h=n.i())}(this.u?this.u:n1),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void I3(this,s)}n=t||"";const r=new Oy(this.headers);i&&a1(i,function(s,c){r.set(c,s)}),i=function MQ(n){e:{var e=bX;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Ht.FormData&&n instanceof Ht.FormData,!(0<=Mj(yX,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{x3(this),0<this.B&&((this.K=function vX(n){return ky&&function PQ(){return function AQ(n){var e=OQ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Rj(String(hT)).split("."),t=Rj("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=kP(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||kP(0==r[2].length,0==s[2].length)||kP(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=XP(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){I3(this,s)}},ct.pa=function(){typeof TP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ts(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ts(this,"complete"),ts(this,"abort"),MT(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),MT(this,!0)),tr.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?T3(this):this.cb())},ct.cb=function(){T3(this)},ct.ba=function(){try{return 2<Nd(this)?this.g.status:-1}catch{return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gX(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=A3.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new $w(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=Nj(s),Lj(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=O3(this,r,e),pi(t=Pd(this.F),"RID",n),pi(t,"CVER",22),this.D&&pi(t,"X-HTTP-Session-Id",this.D),tC(this,t),this.o&&s&&f1(t,this.o,s),u1(this.i,r),this.Ra&&pi(t,"TYPE","init"),this.ja?(pi(t,"$req",e),pi(t,"SID","null"),r.$=!0,s1(r,t,null)):s1(r,t,e),this.G=2}}else 3==this.G&&(n?R3(this,n):0==this.l.length||v3(this.i)||R3(this))},ct.Ga=function(){if(this.u=null,N3(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Gw(Jr(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qs(10),AT(this),N3(this))},ct.ab=function(){null!=this.v&&(this.v=null,AT(this),g1(this),qs(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qs(2)):(this.h.info("Failed to ping google.com"),qs(1))},(ct=H3.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},OT.prototype.g=function(n,e){return new ya(n,e)},es(ya,kr),ya.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),WP(Jr(n.hb,n,e))),qs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=V3(n,null,n.W),kT(n)},ya.prototype.close=function(){p1(this.g)},ya.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,m1(this.g,e)}else this.v?((e={}).__data__=ZP(n),m1(this.g,e)):m1(this.g,n)},ya.prototype.M=function(){this.g.j=null,delete this.j,p1(this.g),delete this.g,ya.Z.M.call(this)},es(j3,e1),es(G3,t1),es(Ny,H3),Ny.prototype.xa=function(){ts(this.g,"a")},Ny.prototype.wa=function(n){ts(this.g,new j3(n))},Ny.prototype.va=function(n){ts(this.g,new G3(n))},Ny.prototype.ua=function(){ts(this.g,"b")},OT.prototype.createWebChannel=OT.prototype.g,ya.prototype.send=ya.prototype.u,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,vT.NO_ERROR=0,vT.TIMEOUT=8,vT.HTTP_ERROR=6,r3.COMPLETE="complete",o3.EventType=zw,zw.OPEN="a",zw.CLOSE="b",zw.ERROR="c",zw.MESSAGE="d",kr.prototype.listen=kr.prototype.N,tr.prototype.listenOnce=tr.prototype.O,tr.prototype.getLastError=tr.prototype.La,tr.prototype.getLastErrorCode=tr.prototype.Da,tr.prototype.getStatus=tr.prototype.ba,tr.prototype.getResponseJson=tr.prototype.Qa,tr.prototype.getResponseText=tr.prototype.ga,tr.prototype.send=tr.prototype.ea;var EX=Od.createWebChannelTransport=function(){return new OT},DX=Od.getStatEventTarget=function(){return yT()},y1=Od.ErrorCode=vT,IX=Od.EventType=r3,SX=Od.Event=xm,z3=Od.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TX=Od.FetchXmlHttpFactory=Qw,PT=Od.WebChannel=o3,xX=Od.XhrIo=tr;const $3="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let Fy="9.9.4";const pf=new il.Yd("@firebase/firestore");function v1(){return pf.logLevel}function Ve(n,...e){if(pf.logLevel<=il.in.DEBUG){const t=e.map(b1);pf.debug(`Firestore (${Fy}): ${n}`,...t)}}function ji(n,...e){if(pf.logLevel<=il.in.ERROR){const t=e.map(b1);pf.error(`Firestore (${Fy}): ${n}`,...t)}}function Om(n,...e){if(pf.logLevel<=il.in.WARN){const t=e.map(b1);pf.warn(`Firestore (${Fy}): ${n}`,...t)}}function b1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Fy}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function Pt(n,e){n||dt()}function nt(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends L.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class q3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rr.UNAUTHENTICATED))}shutdown(){}}class RX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OX{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable((0,we.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new q3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Rr(e)}}class PX{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Pt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class NX{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new PX(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FX{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.A=t.token,new Z3(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class W3{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=LX(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function jt(n,e){return n<e?-1:n>e?1:0}function Ly(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Y3(n){return n+"\0"}class mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new mi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new mi(0,0))}static max(){return new Rt(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nC{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===nC.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nC?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends nC{construct(e,t,i){return new mn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const BX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends nC{construct(e,t,i){return new Ri(e,t,i)}static isValidIdentifier(e){return BX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ri(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ne(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Ne(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ne(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Ne(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ri(t)}static emptyPath(){return new Ri([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(mn.fromString(e))}static fromName(e){return new et(mn.fromString(e).popFirst(5))}static empty(){return new et(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new mn(e.slice()))}}class NT{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function w1(n){return n.fields.find(e=>2===e.kind)}function Pm(n){return n.fields.filter(e=>2!==e.kind)}NT.UNKNOWN_ID=-1;class FT{constructor(e,t){this.fieldPath=e,this.kind=t}}class iC{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new iC(0,va.min())}}function K3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new mi(t+1,0):new mi(t,i));return new va(r,et.empty(),e)}function Q3(n){return new va(n.readTime,n.key,-1)}class va{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new va(Rt.min(),et.empty(),-1)}static max(){return new va(Rt.max(),et.empty(),-1)}}function C1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const X3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mf(n){return E1.apply(this,arguments)}function E1(){return E1=(0,we.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==X3)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),E1.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(r=>r?he.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new he((i,r)=>{const s=e.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const y=p;t(e[y]).next(w=>{c[y]=w,++d,d===s&&i(c)},w=>r(w))}})}static doWhile(e,t){return new he((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class LT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Or,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new rC(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=D1(i.target.error);this.P.reject(new rC(e,r))}}static open(e,t,i,r){try{return new LT(t,e.transaction(r,i))}catch(s){throw new rC(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jX(t)}}class lc{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===lc.D((0,L.z$)())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Nm(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,L.hl)())return!1;if(lc.N())return!0;const e=(0,L.z$)(),t=lc.D(e),i=0<t&&t<10,r=lc.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new rC(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ne(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ne(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new rC(e,d))},s.onupgradeneeded=c=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,we.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const p=LT.open(s.db,e,c?"readonly":"readwrite",i),y=r(p).next(w=>(p.V(),w)).catch(w=>(p.abort(w),he.reject(w))).toPromise();return y.catch(()=>{}),yield p.v,y}catch(p){const y=p,w="FirebaseError"!==y.name&&d<3;if(Ve("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),s.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class HX{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Nm(this.U.delete())}}class rC extends Ne{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gf(n){return"IndexedDbTransactionError"===n.name}class jX{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Nm(i)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Nm(this.store.add(e))}get(e){return Nm(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Nm(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Nm(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new he((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new he((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new he((i,r)=>{t.onerror=s=>{const c=D1(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(e,t){const i=[];return new he((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new HX(d),y=t(d.primaryKey,d.value,p);if(y instanceof he){const w=y.catch(D=>(p.done(),he.reject(D)));i.push(w)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>he.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nm(n){return new he((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=D1(i.target.error);t(r)}})}let eG=!1;function D1(n){const e=lc.D((0,L.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eG||(eG=!0,setTimeout(()=>{throw i},0)),i}}return n}class GX{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){gf(i)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield mf(i)}yield t.nt(1)}))}}class zX{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return he.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Ve("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,s)).next(d=>(Ve("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=Q3(s);C1(c,i)>0&&(i=c)}),new va(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Io{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function tG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Io.at=-1;class Oi{constructor(e,t){this.comparator=e,this.root=t||ns.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new BT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new BT(this.root,e,this.comparator,!1)}getReverseIterator(){return new BT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new BT(this.root,e,this.comparator,!0)}}class BT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??ns.RED,this.left=r??ns.EMPTY,this.right=s??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new ns(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ns.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ns(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iG(this.data.getIterator())}getIteratorFrom(e){return new iG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class iG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function By(n){return n.hasNext()?n.getNext():void 0}class ba{constructor(e){this.fields=e,e.sort(Ri.comparator)}static empty(){return new ba([])}unionWith(e){let t=new Vn(Ri.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ba(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ly(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const qX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _f(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=qX.exec(n);if(Pt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pi(n.seconds),nanos:Pi(n.nanos)}}function Pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lm(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function I1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rG(n){const e=n.mapValue.fields.__previous_value__;return I1(e)?rG(e):e}function sC(n){const e=_f(n.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class ZX{constructor(e,t,i,r,s,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class yf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yf&&e.projectId===this.projectId&&e.database===this.database}}function oC(n){return null==n}function aC(n){return 0===n&&1/n==-1/0}function sG(n){return"number"==typeof n&&Number.isInteger(n)&&!aC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const vf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VT={nullValue:"NULL_VALUE"};function Bm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I1(n)?4:cG(n)?9007199254740991:10:dt()}function ou(n,e){if(n===e)return!0;const t=Bm(n);if(t!==Bm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sC(n).isEqual(sC(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=_f(i.timestampValue),c=_f(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Lm(n.bytesValue).isEqual(Lm(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Pi(i.geoPointValue.latitude)===Pi(r.geoPointValue.latitude)&&Pi(i.geoPointValue.longitude)===Pi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Pi(i.integerValue)===Pi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Pi(i.doubleValue),c=Pi(r.doubleValue);return s===c?aC(s)===aC(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Ly(n.arrayValue.values||[],e.arrayValue.values||[],ou);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(tG(s)!==tG(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!ou(s[d],c[d])))return!1;return!0}(n,e);default:return dt()}var r}function lC(n,e){return void 0!==(n.values||[]).find(t=>ou(t,e))}function bf(n,e){if(n===e)return 0;const t=Bm(n),i=Bm(e);if(t!==i)return jt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Pi(r.integerValue||r.doubleValue),d=Pi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return oG(n.timestampValue,e.timestampValue);case 4:return oG(sC(n),sC(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=Lm(r),d=Lm(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=jt(c[p],d[p]);if(0!==y)return y}return jt(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=jt(Pi(r.latitude),Pi(s.latitude));return 0!==c?c:jt(Pi(r.longitude),Pi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const y=bf(c[p],d[p]);if(y)return y}return jt(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===vf.mapValue&&s===vf.mapValue)return 0;if(r===vf.mapValue)return 1;if(s===vf.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const D=jt(d[w],y[w]);if(0!==D)return D;const k=bf(c[d[w]],p[y[w]]);if(0!==k)return k}return jt(d.length,y.length)}(n.mapValue,e.mapValue);default:throw dt()}}function oG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=_f(n),i=_f(e),r=jt(t.seconds,i.seconds);return 0!==r?r:jt(t.nanos,i.nanos)}function Vy(n){return S1(n)}function S1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=_f(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lm(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=S1(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${S1(i.fields[d])}`;return s+"}"}(n.mapValue):dt();var e}function Vm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T1(n){return!!n&&"integerValue"in n}function cC(n){return!!n&&"arrayValue"in n}function aG(n){return!!n&&"nullValue"in n}function lG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function UT(n){return!!n&&"mapValue"in n}function uC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uC(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uC(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WX(n){return"nullValue"in n?VT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vm(yf.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function YX(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vm(yf.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?vf:dt()}function uG(n,e){const t=bf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dG(n,e){const t=bf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!UT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uC(t)}setAll(e){let t=Ri.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=uC(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());UT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ou(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];UT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Fm(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new is(uC(this.value))}}function hG(n){const e=[];return Fm(n.fields,(t,i)=>{const r=new Ri([t]);if(UT(i)){const s=hG(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new ba(e)}class ti{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new ti(e,0,Rt.min(),Rt.min(),is.empty(),0)}static newFoundDocument(e,t,i){return new ti(e,1,t,Rt.min(),i,0)}static newNoDocument(e,t){return new ti(e,2,t,Rt.min(),is.empty(),0)}static newUnknownDocument(e,t){return new ti(e,3,t,Rt.min(),is.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class KX{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function fG(n,e=null,t=[],i=[],r=null,s=null,c=null){return new KX(n,e,t,i,r,s,c)}function Um(n){const e=nt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Vy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),oC(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vy(i)).join(",")),e.ht=t}return e.ht}function dC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!sJ(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ou(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yG(n.startAt,e.startAt)&&yG(n.endAt,e.endAt)}function HT(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jT(n,e){return n.filters.filter(t=>t instanceof rs&&t.field.isEqual(e))}function pG(n,e,t){let i=VT,r=!0;for(const s of jT(n,e)){let c=VT,d=!0;switch(s.op){case"<":case"<=":c=WX(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=VT}uG({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];uG({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function mG(n,e,t){let i=vf,r=!0;for(const s of jT(n,e)){let c=vf,d=!0;switch(s.op){case">=":case">":c=YX(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=vf}dG({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];dG({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class rs extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new XX(e,t,i):"array-contains"===t?new tJ(e,i):"in"===t?new nJ(e,i):"not-in"===t?new iJ(e,i):"array-contains-any"===t?new rJ(e,i):new rs(e,t,i)}static lt(e,t,i){return"in"===t?new JX(e,i):new eJ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(bf(t,this.value)):null!==t&&Bm(this.value)===Bm(t)&&this.ft(bf(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class XX extends rs{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.ft(t)}}class JX extends rs{constructor(e,t){super(e,"in",t),this.keys=gG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eJ extends rs{constructor(e,t){super(e,"not-in",t),this.keys=gG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class tJ extends rs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cC(t)&&lC(t.arrayValue,this.value)}}class nJ extends rs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lC(this.value.arrayValue,t)}}class iJ extends rs{constructor(e,t){super(e,"not-in",t)}matches(e){if(lC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lC(this.value.arrayValue,t)}}class rJ extends rs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>lC(this.value.arrayValue,i))}}class wf{constructor(e,t){this.position=e,this.inclusive=t}}class Uy{constructor(e,t="asc"){this.field=e,this.dir=t}}function sJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _G(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),t.key):bf(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function yG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ou(n.position[t],e.position[t]))return!1;return!0}class Fd{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function vG(n,e,t,i,r,s,c,d){return new Fd(n,e,t,i,r,s,c,d)}function Hy(n){return new Fd(n)}function bG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function x1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function M1(n){for(const e of n.filters)if(e.dt())return e.field;return null}function A1(n){return null!==n.collectionGroup}function jy(n){const e=nt(n);if(null===e._t){e._t=[];const t=M1(e),i=x1(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new Uy(t)),e._t.push(new Uy(Ri.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Uy(Ri.keyField(),s))}}}return e._t}function So(n){const e=nt(n);if(!e.wt)if("F"===e.limitType)e.wt=fG(e.path,e.collectionGroup,jy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of jy(e))t.push(new Uy(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new wf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wf(e.startAt.position,e.startAt.inclusive):null;e.wt=fG(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function GT(n,e,t){return new Fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hC(n,e){return dC(So(n),So(e))&&n.limitType===e.limitType}function wG(n){return`${Um(So(n))}|lt:${n.limitType}`}function k1(n){return`Query(target=${function QX(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Vy(i.value)}`;var i}).join(", ")}]`),oC(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vy(t)).join(",")),`Target(${e})`}(So(n))}; limitType=${n.limitType})`}function R1(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=_G(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,jy(t),i)||t.endAt&&!function(r,s,c){const d=_G(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,jy(t),i)));var t,i}function CG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EG(n){return(e,t)=>{let i=!1;for(const r of jy(n)){const s=oJ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function oJ(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?bf(d,p):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function DG(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aC(e)?"-0":e}}function IG(n){return{integerValue:""+n}}function SG(n,e){return sG(e)?IG(e):DG(n,e)}class zT{constructor(){this._=void 0}}function aJ(n,e,t){return n instanceof Gy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Hm?xG(n,e):n instanceof jm?MG(n,e):function(i,r){const s=TG(i,r),c=AG(s)+AG(i.yt);return T1(s)&&T1(i.yt)?IG(c):DG(i.It,c)}(n,e)}function lJ(n,e,t){return n instanceof Hm?xG(n,e):n instanceof jm?MG(n,e):t}function TG(n,e){return n instanceof zy?T1(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Gy extends zT{}class Hm extends zT{constructor(e){super(),this.elements=e}}function xG(n,e){const t=kG(e);for(const i of n.elements)t.some(r=>ou(r,i))||t.push(i);return{arrayValue:{values:t}}}class jm extends zT{constructor(e){super(),this.elements=e}}function MG(n,e){let t=kG(e);for(const i of n.elements)t=t.filter(r=>!ou(r,i));return{arrayValue:{values:t}}}class zy extends zT{constructor(e,t){super(),this.It=e,this.yt=t}}function AG(n){return Pi(n.integerValue||n.doubleValue)}function kG(n){return cC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fC{constructor(e,t){this.field=e,this.transform=t}}class uJ{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $T(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qT{}function RG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qy(n.key,gi.none()):new $y(n.key,n.data,gi.none());{const t=n.data,i=is.empty();let r=new Vn(Ri.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Ld(n.key,i,new ba(r.toArray()),gi.none())}}function dJ(n,e,t){n instanceof $y?function(i,r,s){const c=i.value.clone(),d=NG(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ld?function(i,r,s){if(!$T(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=NG(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(PG(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pC(n,e,t,i){return n instanceof $y?function(r,s,c,d){if(!$T(r.precondition,s))return c;const p=r.value.clone(),y=FG(r.fieldTransforms,d,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ld?function(r,s,c,d){if(!$T(r.precondition,s))return c;const p=FG(r.fieldTransforms,d,s),y=s.data;return y.setAll(PG(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(c=t,$T(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function hJ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=TG(i.transform,r||null);null!=s&&(null===t&&(t=is.empty()),t.set(i.field,s))}return t||null}function OG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Ly(t,i,(r,s)=>function cJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Hm&&i instanceof Hm||t instanceof jm&&i instanceof jm?Ly(t.elements,i.elements,ou):t instanceof zy&&i instanceof zy?ou(t.yt,i.yt):t instanceof Gy&&i instanceof Gy);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class $y extends qT{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ld extends qT{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NG(n,e,t){const i=new Map;Pt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,lJ(c,d,t[r]))}return i}function FG(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,aJ(s,c,e))}return i}class qy extends qT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O1 extends qT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fJ{constructor(e){this.count=e}}var nr,gn;function LG(n){switch(n){default:return dt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function BG(n){if(void 0===n)return ji("GRPC error has no .code"),ge.UNKNOWN;switch(n){case nr.OK:return ge.OK;case nr.CANCELLED:return ge.CANCELLED;case nr.UNKNOWN:return ge.UNKNOWN;case nr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case nr.INTERNAL:return ge.INTERNAL;case nr.UNAVAILABLE:return ge.UNAVAILABLE;case nr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case nr.NOT_FOUND:return ge.NOT_FOUND;case nr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case nr.ABORTED:return ge.ABORTED;case nr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case nr.DATA_LOSS:return ge.DATA_LOSS;default:return dt()}}(gn=nr||(nr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Cf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fm(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return nG(this.inner)}size(){return this.innerSize}}const pJ=new Oi(et.comparator);function To(){return pJ}const VG=new Oi(et.comparator);function mC(...n){let e=VG;for(const t of n)e=e.insert(t.key,t);return e}function UG(n){let e=VG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function au(){return gC()}function HG(){return gC()}function gC(){return new Cf(n=>n.toString(),(n,e)=>n.isEqual(e))}const mJ=new Oi(et.comparator),gJ=new Vn(et.comparator);function Wt(...n){let e=gJ;for(const t of n)e=e.add(t);return e}const _J=new Vn(jt);function ZT(){return _J}class _C{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,yC.createSynthesizedTargetChangeForCurrentChange(e,t)),new _C(Rt.min(),i,ZT(),To(),Wt())}}class yC{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new yC(yr.EMPTY_BYTE_STRING,t,Wt(),Wt(),Wt())}}class WT{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class jG{constructor(e,t){this.targetId=e,this.At=t}}class GG{constructor(e,t,i=yr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class zG{constructor(){this.Rt=0,this.bt=qG(),this.Pt=yr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Wt(),t=Wt(),i=Wt();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new yC(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=qG()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class yJ{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=To(),this.qt=$G(),this.Kt=new Vn(jt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(HT(s))if(0===i){const c=new et(s.path);this.jt(t,c,ti.newNoDocument(c,Rt.min()))}else Pt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&HT(d.target)){const p=new et(d.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,ti.newNoDocument(p,e))}s.Dt&&(t.set(c,s.xt()),s.Nt())}});let i=Wt();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Xt(p);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(e));const r=new _C(e,t,this.Kt,this.Ut,i);return this.Ut=To(),this.qt=$G(),this.Kt=new Vn(jt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new zG,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Vn(jt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new zG),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function $G(){return new Oi(et.comparator)}function qG(){return new Oi(et.comparator)}const vJ={asc:"ASCENDING",desc:"DESCENDING"},bJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class wJ{constructor(e,t){this.databaseId=e,this.gt=t}}function vC(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZG(n,e){return n.gt?e.toBase64():e.toUint8Array()}function CJ(n,e){return vC(n,e.toTimestamp())}function Pr(n){return Pt(!!n),Rt.fromTimestamp(function(e){const t=_f(e);return new mi(t.seconds,t.nanos)}(n))}function P1(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WG(n){const e=mn.fromString(n);return Pt(iz(e)),e}function bC(n,e){return P1(n.databaseId,e.path)}function lu(n,e){const t=WG(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(KG(t))}function N1(n,e){return P1(n.databaseId,e)}function YG(n){const e=WG(n);return 4===e.length?mn.emptyPath():KG(e)}function wC(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KG(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QG(n,e,t){return{name:bC(n,e),fields:t.value.mapValue.fields}}function XG(n,e,t){const i=lu(n,e.name),r=Pr(e.updateTime),s=new is({mapValue:{fields:e.fields}}),c=ti.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function CC(n,e){let t;if(e instanceof $y)t={update:QG(n,e.key,e.value)};else if(e instanceof qy)t={delete:bC(n,e.key)};else if(e instanceof Ld)t={update:QG(n,e.key,e.data),updateMask:kJ(e.fieldMask)};else{if(!(e instanceof O1))return dt();t={verify:bC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Gy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zy)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:CJ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function F1(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?gi.updateTime(Pr(r.updateTime)):void 0!==r.exists?gi.exists(r.exists):gi.none():gi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Pt("REQUEST_TIME"===c.setToServerValue),d=new Gy):"appendMissingElements"in c?d=new Hm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new jm(c.removeAllFromArray.values||[]):"increment"in c?d=new zy(s,c.increment):dt();const p=Ri.fromServerFormat(c.fieldPath);return new fC(p,d)}(n,r)):[];var r;if(e.update){const r=lu(n,e.update.name),s=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ba((e.updateMask.fieldPaths||[]).map(y=>Ri.fromServerFormat(y)));return new Ld(r,s,c,t,i)}return new $y(r,s,t,i)}if(e.delete){const r=lu(n,e.delete);return new qy(r,t)}if(e.verify){const r=lu(n,e.verify);return new O1(r,t)}return dt()}function JG(n,e){return{documents:[N1(n,e.path)]}}function ez(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=N1(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=N1(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(w=>function(D){if("=="===D.op){if(lG(D.value))return{unaryFilter:{field:Zy(D.field),op:"IS_NAN"}};if(aG(D.value))return{unaryFilter:{field:Zy(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(lG(D.value))return{unaryFilter:{field:Zy(D.field),op:"IS_NOT_NAN"}};if(aG(D.value))return{unaryFilter:{field:Zy(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zy(D.field),op:xJ(D.op),value:D.value}}}(w));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:Zy((w=y).field),direction:TJ(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(y=e.limit,n.gt||oC(y)?y:{value:y});var y,d,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function tz(n){let e=YG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Pt(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=nz(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new Uy(Wy((D=w).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;t.limit&&(d=function(w){let D;return D="object"==typeof w?w.value:w,oC(D)?null:D}(t.limit));let p=null;var w;t.startAt&&(p=new wf((w=t.startAt).values||[],!!w.before));let y=null;return t.endAt&&(y=function(w){return new wf(w.values||[],!w.before)}(t.endAt)),vG(e,r,c,s,d,"F",p,y)}function nz(n){return n?void 0!==n.unaryFilter?[AJ(n)]:void 0!==n.fieldFilter?[MJ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>nz(e)).reduce((e,t)=>e.concat(t)):dt():[]}function TJ(n){return vJ[n]}function xJ(n){return bJ[n]}function Zy(n){return{fieldPath:n.canonicalString()}}function Wy(n){return Ri.fromServerFormat(n.fieldPath)}function MJ(n){return rs.create(Wy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function AJ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Wy(n.unaryFilter.field);return rs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Wy(n.unaryFilter.field);return rs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wy(n.unaryFilter.field);return rs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wy(n.unaryFilter.field);return rs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function kJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rz(e)),e=RJ(n.get(t),e);return rz(e)}function RJ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function rz(n){return n+"\x01\x01"}function cu(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:dt()}s=c+2}return new mn(i)}const sz=["userId","batchId"];function YT(n,e){return[n,Zs(e)]}function oz(n,e,t){return[n,Zs(e),t]}const OJ={},PJ=["prefixPath","collectionGroup","readTime","documentId"],NJ=["prefixPath","collectionGroup","documentId"],FJ=["collectionGroup","readTime","prefixPath","documentId"],LJ=["canonicalId","targetId"],BJ=["targetId","path"],VJ=["path","targetId"],UJ=["collectionId","parent"],HJ=["indexId","uid"],jJ=["uid","sequenceNumber"],GJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zJ=["indexId","uid","orderedDocumentKey"],$J=["userId","collectionPath","documentId"],qJ=["userId","collectionPath","largestBatchId"],ZJ=["userId","collectionGroup","largestBatchId"],az=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WJ=[...az,"documentOverlays"],lz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cz=lz,YJ=[...cz,"indexConfiguration","indexState","indexEntries"];class L1 extends J3{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Nr(n,e){const t=nt(n);return lc.O(t.ie,e)}class B1{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&dJ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pC(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pC(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=HG();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(r.key)?null:d;const p=RG(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&Ly(this.mutations,e.mutations,(t,i)=>OG(t,i))&&Ly(this.baseMutations,e.baseMutations,(t,i)=>OG(t,i))}}class V1{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Pt(e.mutations.length===i.length);let r=mJ;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new V1(e,t,i,r)}}class U1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ef{constructor(e,t,i,r,s=Rt.min(),c=Rt.min(),d=yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new Ef(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class uz{constructor(e){this.re=e}}function dz(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:KT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:bC(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:vC(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Gm(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:Gm(e.version)}}var r,s;return i}function KT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zm(n){const e=new mi(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function $m(n,e){const t=(e.baseMutations||[]).map(s=>F1(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>F1(n.re,s)),r=mi.fromMillis(e.localWriteTimeMs);return new B1(e.batchId,r,t,i)}function EC(n){const e=zm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?zm(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(Pt(1===(r=n.query).documents.length),i=So(Hy(YG(r.documents[0])))):i=So(tz(n.query)),new Ef(i,n.targetId,0,n.lastListenSequenceNumber,e,t,yr.fromBase64String(n.resumeToken))}function hz(n,e){const t=Gm(e.snapshotVersion),i=Gm(e.lastLimboFreeSnapshotVersion);let r;r=HT(e.target)?JG(n.re,e.target):ez(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Um(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function H1(n){const e=tz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?GT(e,e.limit,"L"):e}function j1(n,e){return new U1(e.largestBatchId,F1(n.re,e.overlayMutation))}function fz(n,e){const t=e.path.lastSegment();return[n,Zs(e.path.popLast()),t]}function pz(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gm(i.readTime),documentKey:Zs(i.documentKey.path),largestBatchId:i.largestBatchId}}class QJ{getBundleMetadata(e,t){return mz(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:zm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return mz(e).put({bundleId:(i=t).id,createTime:Gm(Pr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return gz(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:H1(r.bundledQuery),readTime:zm(r.readTime)};var r})}saveNamedQuery(e,t){return gz(e).put({name:(i=t).name,readTime:Gm(Pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function mz(n){return Nr(n,"bundles")}function gz(n){return Nr(n,"namedQueries")}class QT{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new QT(e,t.uid||"")}getOverlay(e,t){return DC(e).get(fz(this.userId,t)).next(i=>i?j1(this.It,i):null)}getOverlays(e,t){const i=au();return he.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new U1(t,c);r.push(this.ue(e,d))}),he.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Zs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(DC(e).Y("collectionPathOverlayIndex",d))}),he.waitFor(s)}getOverlaysForCollection(e,t,i){const r=au(),s=Zs(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return DC(e).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const y=j1(this.It,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=au();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return DC(e).Z({index:"collectionGroupOverlayIndex",range:d},(p,y,w)=>{const D=j1(this.It,y);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):w.done()}).next(()=>s)}ue(e,t){return DC(e).put(function(i,r,s){const[c,d,p]=fz(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:CC(i.re,s.mutation)}}(this.It,this.userId,t))}}function DC(n){return Nr(n,"documentOverlays")}class qm{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Pi(e.integerValue));else if("doubleValue"in e){const i=Pi(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),aC(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Lm(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?cG(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):dt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),et.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function XJ(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function _z(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=XJ(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}qm.Te=new qm;class JJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=_z(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=_z(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class eee{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class tee{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class IC{constructor(){this.Be=new JJ,this.Le=new eee(this.Be),this.Ue=new tee(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Zm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Zm(this.indexId,this.documentKey,this.arrayValue,i)}}function Wm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yz(n.arrayValue,e.arrayValue),0!==t?t:(t=yz(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function yz(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class nee{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=w1(e);if(void 0!==t&&!this.ze(t))return!1;const i=Pm(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class iee{constructor(){this.Ye=new G1}addToCollectionParentIndex(e,t){return this.Ye.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(va.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(va.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class G1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Vn(mn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Vn(mn.comparator)).toArray()}}const XT=new Uint8Array(0);class ree{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new G1,this.Ze=new Cf(i=>Um(i),(i,r)=>dC(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:Zs(r)};return vz(e).put(s)}return he.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Y3(t),""],!1,!0);return vz(e).W(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(cu(c.parent))}return i})}addFieldIndex(e,t){const i=JT(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=TC(e);return s.next(d=>{c.put(pz(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=JT(e),r=TC(e),s=SC(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=SC(e);let r=!0;const s=new Map;return he.forEach(this.tn(t),c=>this.en(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Wt();const d=[];return he.forEach(s,(p,y)=>{var w;Ve("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Ye=>`${Ye.fieldPath}:${Ye.kind}`).join(",")}`} to execute ${Um(t)}`);const D=function(Ye,We){const bt=w1(We);if(void 0===bt)return null;for(const Et of jT(Ye,bt.fieldPath))switch(Et.op){case"array-contains-any":return Et.value.arrayValue.values||[];case"array-contains":return[Et.value]}return null}(y,p),k=function(Ye,We){const bt=new Map;for(const Et of Pm(We))for(const en of jT(Ye,Et.fieldPath))switch(en.op){case"==":case"in":bt.set(Et.fieldPath.canonicalString(),en.value);break;case"not-in":case"!=":return bt.set(Et.fieldPath.canonicalString(),en.value),Array.from(bt.values())}return null}(y,p),P=function(Ye,We){const bt=[];let Et=!0;for(const en of Pm(We)){const Gi=0===en.kind?pG(Ye,en.fieldPath,Ye.startAt):mG(Ye,en.fieldPath,Ye.startAt);bt.push(Gi.value),Et&&(Et=Gi.inclusive)}return new wf(bt,Et)}(y,p),F=function(Ye,We){const bt=[];let Et=!0;for(const en of Pm(We)){const Gi=0===en.kind?mG(Ye,en.fieldPath,Ye.endAt):pG(Ye,en.fieldPath,Ye.endAt);bt.push(Gi.value),Et&&(Et=Gi.inclusive)}return new wf(bt,Et)}(y,p),G=this.nn(p,y,P),ne=this.nn(p,y,F),Te=this.sn(p,y,k),He=this.rn(p.indexId,D,G,P.inclusive,ne,F.inclusive,Te);return he.forEach(He,Ye=>i.J(Ye,t.limit).next(We=>{We.forEach(bt=>{const Et=et.fromSegments(bt.documentKey);c.has(Et)||(c=c.add(Et),d.push(Et))})}))}).next(()=>d)}return he.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,c,d){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),y=p/(null!=t?t.length:1),w=[];for(let D=0;D<p;++D){const k=t?this.on(t[D/y]):XT,P=this.un(e,k,i[D%y],r),F=this.cn(e,k,s[D%y],c),G=d.map(ne=>this.un(e,k,ne,!0));w.push(...this.createRange(P,F,G))}return w}un(e,t,i,r){const s=new Zm(e,et.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new Zm(e,et.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new nee(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;return he.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new Vn(Ri.comparator),p=!1;for(const y of c.filters){const w=y;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:d=d.add(w.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new IC;for(const r of Pm(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);qm.Te.ce(s,c)}return i.$e()}on(e){const t=new IC;return qm.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new IC;return qm.Te.ce(Vm(this.databaseId,t),i.qe(function(r){const s=Pm(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new IC);let s=0;for(const c of Pm(e)){const d=i[s++];for(const p of r)if(this.ln(t,c.fieldPath)&&cC(d))r=this.fn(r,c,d);else{const y=p.qe(c.kind);qm.Te.ce(d,y)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new IC;p.seed(d.$e()),qm.Te.ce(c,p.qe(t.kind)),s.push(p)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof rs&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=JT(e),r=TC(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const c=[];return he.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(y,w){const D=w?new iC(w.sequenceNumber,new va(zm(w.readTime),new et(cu(w.documentKey)),w.largestBatchId)):iC.empty(),k=y.fields.map(([P,F])=>new FT(Ri.fromServerFormat(P),F));return new NT(y.indexId,y.collectionGroup,k,D)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:jt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=JT(e),s=TC(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>he.forEach(d,p=>s.put(pz(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return he.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?he.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),he.forEach(d,p=>this.wn(e,r,p).next(y=>{const w=this.mn(s,p);return y.isEqual(w)?he.resolve():this.gn(e,s,p,y,w)}))))})}yn(e,t,i,r){return SC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return SC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=SC(e);let s=new Vn(Wm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,d)=>{s=s.add(new Zm(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new Vn(Wm);const r=this.an(t,e);if(null==r)return i;const s=w1(t);if(null!=s){const c=e.data.field(s.fieldPath);if(cC(c))for(const d of c.arrayValue.values||[])i=i.add(new Zm(t.indexId,e.key,this.on(d),r))}else i=i.add(new Zm(t.indexId,e.key,XT,r));return i}gn(e,t,i,r,s){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,p,y,w,D){const k=d.getIterator(),P=p.getIterator();let F=By(k),G=By(P);for(;F||G;){let ne=!1,Te=!1;if(F&&G){const He=y(F,G);He<0?Te=!0:He>0&&(ne=!0)}else null!=F?Te=!0:ne=!0;ne?(w(G),G=By(P)):Te?(D(F),F=By(k)):(F=By(k),G=By(P))}}(r,s,Wm,d=>{c.push(this.yn(e,t,i,d))},d=>{c.push(this.pn(e,t,i,d))}),he.waitFor(c)}_n(e){let t=1;return TC(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>Wm(c,d)).filter((c,d,p)=>!d||0!==Wm(c,p[d-1]));const r=[];r.push(e);for(const c of i){const d=Wm(c,e),p=Wm(c,t);if(0===d)r[0]=e.Ke();else if(d>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,XT,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,XT,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bz)}getMinOffset(e,t){return he.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||dt())).next(bz)}}function vz(n){return Nr(n,"collectionParents")}function SC(n){return Nr(n,"indexEntries")}function JT(n){return Nr(n,"indexConfiguration")}function TC(n){return Nr(n,"indexState")}function bz(n){Pt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;C1(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new va(e.readTime,e.documentKey,t)}const wz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new xo(e,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cz(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.Z({range:c},(w,D,k)=>(d++,k.delete()));s.push(p.next(()=>{Pt(1===d)}));const y=[];for(const w of t.mutations){const D=oz(e,w.key.path,t.batchId);s.push(r.delete(D)),y.push(w.key)}return he.waitFor(s).next(()=>y)}function ex(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}xo.DEFAULT_COLLECTION_PERCENTILE=10,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xo.DEFAULT=new xo(41943040,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xo.DISABLED=new xo(-1,0,0);class tx{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Pt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new tx(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Df(e).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Yy(e),c=Df(e);return c.add({}).next(d=>{Pt("number"==typeof d);const p=new B1(d,t,i,r),y=function(k,P,F){const G=F.baseMutations.map(Te=>CC(k.re,Te)),ne=F.mutations.map(Te=>CC(k.re,Te));return{userId:P,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:G,mutations:ne}}(this.It,this.userId,p),w=[];let D=new Vn((k,P)=>jt(k.canonicalString(),P.canonicalString()));for(const k of r){const P=oz(this.userId,k.key.path,d);D=D.add(k.key.path.popLast()),w.push(c.put(y)),w.push(s.put(P,OJ))}return D.forEach(k=>{w.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.In[d]=p.keys()}),he.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return Df(e).get(t).next(i=>i?(Pt(i.userId===this.userId),$m(this.It,i)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Df(e).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Pt(d.batchId>=i),s=$m(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Df(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Df(e).W("userMutationsIndex",t).next(i=>i.map(r=>$m(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=YT(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Yy(e).Z({range:r},(c,d,p)=>{const[y,w,D]=c,k=cu(w);if(y===this.userId&&t.path.isEqual(k))return Df(e).get(D).next(P=>{if(!P)throw dt();Pt(P.userId===this.userId),s.push($m(this.It,P))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vn(jt);const r=[];return t.forEach(s=>{const c=YT(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=Yy(e).Z({range:d},(y,w,D)=>{const[k,P,F]=y,G=cu(P);k===this.userId&&s.path.isEqual(G)?i=i.add(F):D.done()});r.push(p)}),he.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=YT(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Vn(jt);return Yy(e).Z({range:c},(p,y,w)=>{const[D,k,P]=p,F=cu(k);D===this.userId&&i.isPrefixOf(F)?F.length===r&&(d=d.add(P)):w.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Df(e).get(s).next(c=>{if(null===c)throw dt();Pt(c.userId===this.userId),i.push($m(this.It,c))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Cz(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Yy(e).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=cu(s[1]);r.push(p)}else d.done()}).next(()=>{Pt(0===r.length)})})}containsKey(e,t){return Ez(e,this.userId,t)}Rn(e){return Dz(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ez(n,e,t){const i=YT(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Yy(n).Z({range:s,X:!0},(d,p,y)=>{const[w,D,k]=d;w===e&&D===r&&(c=!0),y.done()}).next(()=>c)}function Df(n){return Nr(n,"mutations")}function Yy(n){return Nr(n,"documentMutations")}function Dz(n){return Nr(n,"mutationQueues")}class Ym{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ym(0)}static vn(){return new Ym(-1)}}class see{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Ym(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Rt.fromTimestamp(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ky(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Pt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Ky(e).Z((c,d)=>{const p=EC(d);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>he.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Ky(e).Z((i,r)=>{const s=EC(r);t(s)})}Vn(e){return Iz(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}Sn(e,t){return Iz(e).put("targetGlobalKey",t)}Dn(e,t){return Ky(e).put(hz(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Um(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Ky(e).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const y=EC(d);dC(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=If(e);return t.forEach(c=>{const d=Zs(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),he.waitFor(r)}removeMatchingKeys(e,t,i){const r=If(e);return he.forEach(t,s=>{const c=Zs(s.path);return he.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=If(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=If(e);let s=Wt();return r.Z({range:i,X:!0},(c,d,p)=>{const y=cu(c[1]),w=new et(y);s=s.add(w)}).next(()=>s)}containsKey(e,t){const i=Zs(t.path),r=IDBKeyRange.bound([i],[Y3(i)],!1,!0);let s=0;return If(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}se(e,t){return Ky(e).get(t).next(i=>i?EC(i):null)}}function Ky(n){return Nr(n,"targets")}function Iz(n){return Nr(n,"targetGlobal")}function If(n){return Nr(n,"targetDocuments")}function Sz([n,e],[t,i]){const r=jt(n,t);return 0===r?jt(e,i):r}class oee{constructor(e){this.xn=e,this.buffer=new Vn(Sz),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Sz(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aee{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){gf(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield mf(i)}yield t.Fn(3e5)}))}}class lee{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return he.resolve(Io.at);const i=new oee(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(wz)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wz):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,c,d,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(y=Date.now(),v1()<=il.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(y-p)+`ms\nTotal Duration: ${y-w}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class cee{constructor(e,t){this.db=e,this.garbageCollector=new lee(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return nx(e,i)}removeReference(e,t,i){return nx(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return nx(e,t)}Gn(e,t){return function(i,r){let s=!1;return Dz(i).tt(c=>Ez(i,c,r).next(d=>(d&&(s=!0),he.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(c,d)=>{if(d<=t){const p=this.Gn(e,c).next(y=>{if(!y)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Rt.min()),If(e).delete([0,Zs(c.path)])))});r.push(p)}}).next(()=>he.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return nx(e,t)}Kn(e,t){const i=If(e);let r,s=Io.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:y})=>{0===c?(s!==Io.at&&t(new et(cu(r)),s),s=y,r=p):s=Io.at}).next(()=>{s!==Io.at&&t(new et(cu(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nx(n,e){return If(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zs(e.path),sequenceNumber:i}));var i}class Tz{constructor(){this.changes=new Cf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uee{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Km(e).put(i)}removeEntry(e,t,i){return Km(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],KT(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=ti.newInvalidDocument(t);return Km(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xC(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:ti.newInvalidDocument(t)};return Km(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xC(t))},(r,s)=>{i={document:this.jn(t,s),size:ex(s)}}).next(()=>i)}getEntries(e,t){let i=To();return this.zn(e,t,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=To(),r=new Oi(et.comparator);return this.zn(e,t,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,ex(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return he.resolve();let r=new Vn(kz);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(xC(r.first()),xC(r.last())),c=r.getIterator();let d=c.getNext();return Km(e).Z({index:"documentKeyIndex",range:s},(p,y,w)=>{const D=et.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&kz(d,D)<0;)i(d,null),d=c.getNext();d&&d.isEqual(D)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?w.j(xC(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),KT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Km(e).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=To();for(const p of c){const y=this.jn(et.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=To();const c=Az(t,i),d=Az(t,va.max());return Km(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,y,w)=>{const D=this.jn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(D.key,D),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(e){return new dee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Mz(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Qn(e,t){return Mz(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function KJ(n,e){let t;if(e.document)t=XG(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=zm(e.noDocument.readTime);t=ti.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=et.fromSegments(e.unknownDocument.path),r=zm(e.unknownDocument.version);t=ti.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new mi(i[0],i[1]);return Rt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return ti.newInvalidDocument(e)}}function xz(n){return new uee(n)}class dee extends Tz{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Cf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Vn((s,c)=>jt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const p=dz(this.Yn.It,c);r=r.add(s.path.popLast()),i+=ex(p)-d.size,t.push(this.Yn.addEntry(e,s,p))}else if(i-=d.size,this.trackRemovals){const p=dz(this.Yn.It,c.convertToNoDocument(Rt.min()));t.push(this.Yn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function Mz(n){return Nr(n,"remoteDocumentGlobal")}function Km(n){return Nr(n,"remoteDocumentsV14")}function xC(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Az(n,e){const t=e.documentKey.path.toArray();return[n,KT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kz(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=jt(t[s],i[s]),r)return r;return r=jt(t.length,i.length),r||(r=jt(t[t.length-2],i[i.length-2]),r||jt(t[t.length-1],i[i.length-1]))}class hee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rz{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&pC(i.mutation,r,ba.empty(),mi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Wt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Wt()){const r=au();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=mC();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=au();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Wt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let s=To();const c=gC(),d=gC();return t.forEach((p,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof Ld)?s=s.insert(y.key,y):void 0!==w&&(c.set(y.key,w.mutation.getFieldMask()),pC(w.mutation,y,w.mutation.getFieldMask(),mi.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((y,w)=>c.set(y,w)),t.forEach((y,w)=>{var D;return d.set(y,new hee(w,null!==(D=c.get(y))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(e,t){const i=gC();let r=new Oi((c,d)=>c-d),s=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let w=i.get(p)||ba.empty();w=d.applyToLocalView(y,w),i.set(p,w);const D=(r.get(d.batchId)||Wt()).add(p);r=r.insert(d.batchId,D)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,D=HG();w.forEach(k=>{if(!s.has(k)){const P=RG(t.get(k),i.get(k));null!==P&&D.set(k,P),s=s.add(k)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,D))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):A1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):he.resolve(au());let d=-1,p=s;return c.next(y=>he.forEach(y,(w,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(w)?he.resolve():this.getBaseDocument(e,w,D).next(k=>{p=p.insert(w,k)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,p,y,Wt())).next(w=>({batchId:d,changes:UG(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=mC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=mC();return this.indexManager.getCollectionParents(e,r).next(c=>he.forEach(c,d=>{const p=(y=t,w=d.child(r),new Fd(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((w,D)=>{s=s.insert(w,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,ti.newInvalidDocument(y)))});let c=mC();return r.forEach((d,p)=>{const y=s.get(d);void 0!==y&&pC(y.mutation,p,ba.empty(),mi.now()),R1(t,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(ti.newInvalidDocument(t))}}class fee{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Pr(i.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:H1(i.bundledQuery),readTime:Pr(i.readTime)}),he.resolve();var i}}class pee{constructor(){this.overlays=new Oi(et.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=au();return he.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const r=au(),s=t.length+1,c=new et(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return he.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Oi((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=s.get(y.largestBatchId);null===w&&(w=au(),s=s.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=au(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=r)););return he.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new U1(t,i));let s=this.es.get(t);void 0===s&&(s=Wt(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class z1{constructor(){this.ns=new Vn(Fr.ss),this.rs=new Vn(Fr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Fr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Fr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new et(new mn([])),i=new Fr(t,e),r=new Fr(t,e+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new mn([])),i=new Fr(t,e),r=new Fr(t,e+1);let s=Wt();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Fr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||jt(e._s,t._s)}static os(e,t){return jt(e._s,t._s)||et.comparator(e.key,t.key)}}class mee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(Fr.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const c=new B1(s,t,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Fr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fr(t,0),r=new Fr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vn(jt);return t.forEach(r=>{const s=new Fr(r,0),c=new Fr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),he.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;et.isDocumentKey(s)||(s=s.child(""));const c=new Fr(new et(s),0);let d=new Vn(jt);return this.gs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(p._s)),!0)},c),he.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Pt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return he.forEach(t.mutations,r=>{const s=new Fr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Fr(t,0),r=this.gs.firstAfterOrEqual(i);return he.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gee{constructor(e){this.Es=e,this.docs=new Oi(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():ti.newInvalidDocument(t))}getEntries(e,t){let i=To();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ti.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(e,t,i){let r=To();const s=new et(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||C1(Q3(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(e,t,i,r){dt()}As(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _ee(this)}getSize(e){return he.resolve(this.size)}}class _ee extends Tz{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class yee{constructor(e){this.persistence=e,this.Rs=new Cf(t=>Um(t),dC),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new z1,this.targetCount=0,this.vs=Ym.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ym(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),he.waitFor(s).next(()=>r)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class Oz{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Io(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new yee(this),this.indexManager=new iee,this.remoteDocumentCache=new gee(i=>this.referenceDelegate.xs(i)),this.It=new uz(t),this.Ns=new fee(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new mee(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);const r=new vee(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(e,t){return he.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class vee extends J3{constructor(e){super(),this.currentSequenceNumber=e}}class ix{constructor(e){this.persistence=e,this.Fs=new z1,this.$s=null}static Bs(e){return new ix(e)}get Ls(){if(this.$s)return this.$s;throw dt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,i=>{const r=et.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,Rt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class bee{constructor(e){this.It=e}$(e,t,i,r){const s=new LT("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sz,{unique:!0}),d.createObjectStore("documentMutations"),Pz(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=he.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),Pz(e)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sz,{unique:!0});const w=p.store("mutations"),D=y.map(k=>w.put(k));return he.waitFor(D)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:$J});p.createIndex("collectionPathOverlayIndex",qJ,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",ZJ,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:PJ});p.createIndex("documentKeyIndex",NJ),p.createIndex("collectionGroupIndex",FJ)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:HJ}).createIndex("sequenceNumberIndex",jJ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:GJ}).createIndex("documentKeyIndex",zJ,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=ex(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>he.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>he.forEach(d,p=>{Pt(p.userId===s.userId);const y=$m(this.It,p);return Cz(e,s.userId,y).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new mn(c),y=[0,Zs(p)];s.push(t.get(y).next(w=>w?he.resolve():t.put({targetId:0,path:Zs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:UJ});const i=t.store("collectionParents"),r=new G1,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:Zs(p)})}};return t.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new mn(c);return s(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,d,p],y)=>{const w=cu(d);return s(w.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=EC(r),c=hz(this.It,s);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=t.store("remoteDocumentsV14"),p=(y=c,y.document?new et(mn.fromString(y.document.name).popFirst(5)):y.noDocument?et.fromSegments(y.noDocument.path):y.unknownDocument?et.fromSegments(y.unknownDocument.path):dt()).path.toArray();var y;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(w))}).next(()=>he.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=xz(this.It),s=new Oz(ix.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var y;let w=null!==(y=d.get(p.userId))&&void 0!==y?y:Wt();$m(this.It,p).keys().forEach(D=>w=w.add(D)),d.set(p.userId,w)}),he.forEach(d,(p,y)=>{const w=new Rr(y),D=QT.oe(this.It,w),k=s.getIndexManager(w),P=tx.oe(w,this.It,k,s.referenceDelegate);return new Rz(r,P,D,k).recalculateAndSaveOverlaysForDocumentKeys(new L1(t,Io.at),p).next()})})}}function Pz(n){n.createObjectStore("targetDocuments",{keyPath:BJ}).createIndex("documentTargetsIndex",VJ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LJ,{unique:!0}),n.createObjectStore("targetGlobal")}const $1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class q1{constructor(e,t,i,r,s,c,d,p,y,w,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=y,this.Ys=w,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!q1.C())throw new Ne(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cee(this,r),this.ii=t+"main",this.It=new uz(p),this.ri=new lc(this.ii,this.Xs,new bee(this.It)),this.Cs=new see(this.referenceDelegate,this.It),this.remoteDocumentCache=xz(this.It),this.Ns=new QJ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ge.FAILED_PRECONDITION,$1);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Io(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(gf(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return MC(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return rx(e).delete(this.clientId)}yi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Nr(i,"clientMetadata");return r.W().next(s=>{const c=e.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return he.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):MC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ne(ge.FAILED_PRECONDITION,$1);return!1}}return!(!this.networkEnabled||!this.inForeground)||rx(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new L1(t,Io.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rx(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return tx.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ree(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return QT.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ve("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Xs)?YJ:14===c?cz:13===c?lz:12===c?WJ:11===c?az:void dt();var c;let d;return this.ri.runTransaction(e,r,s,p=>(d=new L1(p,this.Ss?this.Ss.next():Io.at),"readwrite-primary"===t?this.fi(d).next(y=>!!y||this.di(d)).next(y=>{if(!y)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ne(ge.FAILED_PRECONDITION,X3);return i(d)}).next(y=>this.wi(d).next(()=>y)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(e){return MC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ge.FAILED_PRECONDITION,$1)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return MC(e).put("owner",t)}static C(){return lc.C()}_i(e){const t=MC(e);return t.get("owner").next(i=>this.mi(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ji(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,L.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ji("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ji("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function MC(n){return Nr(n,"owner")}function rx(n){return Nr(n,"clientMetadata")}function Z1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class W1{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Wt(),r=Wt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new W1(e,t.fromCache,i,r)}}class Nz{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Mi(e,t,r,i)).next(s=>s||this.Oi(e,t))}ki(e,t){if(bG(t))return he.resolve(null);let i=So(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=GT(t,null,"F"),i=So(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=Wt(...s);return this.Ni.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.Fi(t,d);return this.$i(t,y,c,p.readTime)?this.ki(e,GT(t,null,"F")):this.Bi(e,y,t,p)}))})))}Mi(e,t,i,r){return bG(t)||r.isEqual(Rt.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(s=>{const c=this.Fi(t,s);return this.$i(t,c,i,r)?this.Oi(e,t):(v1()<=il.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),k1(t)),this.Bi(e,c,t,K3(r,-1)))})}Fi(e,t){let i=new Vn(EG(e));return t.forEach((r,s)=>{R1(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(e,t){return v1()<=il.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",k1(t)),this.Ni.getDocumentsMatchingQuery(e,t,va.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class wee{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Oi(jt),this.qi=new Cf(s=>Um(s),dC),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rz(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Fz(n,e,t,i){return new wee(n,e,t,i)}function Lz(n,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,we.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=Wt();for(const y of r){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of s){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({ji:y,removedBatchIds:c,addedBatchIds:d}))})})}),Y1.apply(this,arguments)}function Cee(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const w=p.batch,D=w.keys();let k=he.resolve();return D.forEach(P=>{k=k.next(()=>y.getEntry(d,P)).next(F=>{const G=p.docVersions.get(P);Pt(null!==G),F.version.compareTo(G)<0&&(w.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),y.addEntry(F)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(d,w))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Wt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Bz(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Eee(n,e){const t=nt(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((w,D)=>{const k=r.get(D);if(!k)return;d.push(t.Cs.removeMatchingKeys(s,w.removedDocuments,D).next(()=>t.Cs.addMatchingKeys(s,w.addedDocuments,D)));let P=k.withSequenceNumber(s.currentSequenceNumber);var F,G,ne;e.targetMismatches.has(D)?P=P.withResumeToken(yr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,i)),r=r.insert(D,P),G=P,ne=w,(0===(F=k).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,P))});let p=To(),y=Wt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),d.push(Vz(s,c,e.documentUpdates).next(w=>{p=w.Wi,y=w.zi})),!i.isEqual(Rt.min())){const w=t.Cs.getLastRemoteSnapshotVersion(s).next(D=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(w)}return he.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(t.Ui=r,s))}function Vz(n,e,t){let i=Wt(),r=Wt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=To();return t.forEach((d,p)=>{const y=s.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Ve("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function Dee(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Qy(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,he.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new Ef(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Xy(n,e,t){return K1.apply(this,arguments)}function K1(){return K1=(0,we.Z)(function*(n,e,t){const i=nt(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!gf(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),K1.apply(this,arguments)}function sx(n,e,t){const i=nt(n);let r=Rt.min(),s=Wt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,y){const w=nt(d),D=w.qi.get(y);return void 0!==D?he.resolve(w.Ui.get(D)):w.Cs.getTargetData(p,y)}(i,c,So(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Rt.min(),t?s:Wt())).next(d=>(jz(i,CG(e),d),{documents:d,Hi:s})))}function Uz(n,e){const t=nt(n),i=nt(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(c=>c?c.target:null))}function Hz(n,e){const t=nt(n),i=t.Ki.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,K3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(jz(t,e,r),r))}function jz(n,e,t){let i=Rt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function Q1(){return Q1=(0,we.Z)(function*(n,e,t,i){const r=nt(n);let s=Wt(),c=To();for(const y of t){const w=e.Ji(y.metadata.name);y.document&&(s=s.add(w));const D=e.Yi(y);D.setReadTime(e.Xi(y.metadata.readTime)),c=c.insert(w,D)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield Qy(r,(y=i,So(Hy(mn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>Vz(y,d,c).next(w=>(d.apply(y),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Cs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Wi,w.zi)).next(()=>w.Wi)))}),Q1.apply(this,arguments)}function See(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,we.Z)(function*(n,e,t=Wt()){const i=yield Qy(n,So(H1(e.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Pr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(yr.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),X1.apply(this,arguments)}function Gz(n,e){return`firestore_clients_${n}_${e}`}function zz(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function J1(n,e){return`firestore_targets_${n}_${e}`}class ox{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ne(r.error.code,r.error.message))),c?new ox(e,t,r.state,s):(ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AC{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ne(i.error.code,i.error.message))),s?new AC(e,i.state,r):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ax{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=ZT();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=sG(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new ax(e,s):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eN(t.clientId,t.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tN{constructor(){this.activeTargetIds=ZT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nN{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Oi(jt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=Gz(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new tN),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(Gz(e.persistenceKey,r));if(s){const c=ax.Zi(r,s);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(J1(this.persistenceKey,e));if(i){const r=AC.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(J1(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let c=Io.at;if(null!=s)try{const d=JSON.parse(s);Pt("number"==typeof d),c=d}catch(d){ji("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Io.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Or(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new ox(this.currentUser,e,t,i),s=zz(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=zz(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=J1(this.persistenceKey,e),s=new AC(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return ax.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return ox.Zi(new Rr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return AC.Zi(r,t)}yr(e){return eN.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ZT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class $z{constructor(){this.Lr=new tN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tee{qr(e){}shutdown(){}}class qz{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mee{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Aee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,s){const c=this.ao(e,t);Ve("RestConnection","Sending: ",c,i);const d={};return this.ho(d,r,s),this.lo(e,c,d,i).then(p=>(Ve("RestConnection","Received: ",p),p),p=>{throw Om("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}fo(e,t,i,r,s,c){return this.co(e,t,i,r,s)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ao(e,t){return`${this.oo}/v1/${t}:${xee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((s,c)=>{const d=new xX;d.listenOnce(IX.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case y1.NO_ERROR:const y=d.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(y)),s(y);break;case y1.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),c(new Ne(ge.DEADLINE_EXCEEDED,"Request time out"));break;case y1.HTTP_ERROR:const w=d.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',w,"response text:",d.getResponseText()),w>0){const D=d.getResponseJson().error;if(D&&D.status&&D.message){const k=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(F)>=0?F:ge.UNKNOWN}(D.status);c(new Ne(k,D.message))}else c(new Ne(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ne(ge.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);d.send(t,"POST",p,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=EX(),c=DX(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new TX({})),this.ho(d.initMessageHeaders,t,i),(0,L.uI)()||(0,L.b$)()||(0,L.d)()||(0,L.w1)()||(0,L.Mn)()||(0,L.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ve("Connection","Creating WebChannel: "+p,d);const y=s.createWebChannel(p,d);let w=!1,D=!1;const k=new Mee({Hr:F=>{D?Ve("Connection","Not sending because WebChannel is closed:",F):(w||(Ve("Connection","Opening WebChannel transport."),y.open(),w=!0),Ve("Connection","WebChannel sending:",F),y.send(F))},Jr:()=>y.close()}),P=(F,G,ne)=>{F.listen(G,Te=>{try{ne(Te)}catch(He){setTimeout(()=>{throw He},0)}})};return P(y,PT.EventType.OPEN,()=>{D||Ve("Connection","WebChannel transport opened.")}),P(y,PT.EventType.CLOSE,()=>{D||(D=!0,Ve("Connection","WebChannel transport closed"),k.io())}),P(y,PT.EventType.ERROR,F=>{D||(D=!0,Om("Connection","WebChannel transport errored:",F),k.io(new Ne(ge.UNAVAILABLE,"The operation could not be completed")))}),P(y,PT.EventType.MESSAGE,F=>{var G;if(!D){const ne=F.data[0];Pt(!!ne);const Te=ne,He=Te.error||(null===(G=Te[0])||void 0===G?void 0:G.error);if(He){Ve("Connection","WebChannel received error:",He);const Ye=He.status;let We=function(Et){const en=nr[Et];if(void 0!==en)return BG(en)}(Ye),bt=He.message;void 0===We&&(We=ge.INTERNAL,bt="Unknown error status: "+Ye+" with message "+He.message),D=!0,k.io(new Ne(We,bt)),y.close()}else Ve("Connection","WebChannel received:",ne),k.ro(ne)}}),P(c,SX.STAT_EVENT,F=>{F.stat===z3.PROXY?Ve("Connection","Detected buffering proxy"):F.stat===z3.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function Zz(){return typeof window<"u"?window:null}function lx(){return typeof document<"u"?document:null}function kC(n){return new wJ(n,!0)}class iN{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Wz{constructor(e,t,i,r,s,c,d,p){this.Hs=e,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new iN(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,we.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,we.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===ge.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ne(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,we.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kee extends Wz{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=s}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function DJ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:dt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.gt?(Pt(void 0===y||"string"==typeof y),yr.fromBase64String(y||"")):(Pt(void 0===y||y instanceof Uint8Array),yr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=void 0===p.code?ge.UNKNOWN:BG(p.code);return new Ne(y,p.message||"")}(c);t=new GG(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=lu(n,i.document.name),s=Pr(i.document.updateTime),c=new is({mapValue:{fields:i.document.fields}}),d=ti.newFoundDocument(r,s,c);t=new WT(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=lu(n,i.document),s=i.readTime?Pr(i.readTime):Rt.min(),c=ti.newNoDocument(r,s);t=new WT([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=lu(n,i.document);t=new WT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,s=new fJ(i.count||0);t=new jG(i.targetId,s)}}var p;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Rt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?Pr(s.readTime):Rt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=wC(this.It),t.addTarget=function(r,s){let c;const d=s.target;return c=HT(d)?{documents:JG(r,d)}:{query:ez(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=ZG(r,s.resumeToken):s.snapshotVersion.compareTo(Rt.min())>0&&(c.readTime=vC(r,s.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function SJ(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=wC(this.It),t.removeTarget=e,this.Bo(t)}}class Ree extends Wz{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function IJ(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(i,r){let s=Pr(i.updateTime?i.updateTime:r);return s.isEqual(Rt.min())&&(s=Pr(r)),new uJ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Pr(e.commitTime);return this.listener.Zo(i,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=wC(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>CC(this.It,i))};this.Bo(t)}}class Oee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(ge.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.Vo.fo(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ge.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Pee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ji(t),this.ou=!1):Ve("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Nee{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,we.Z)(function*(){var p;Sf(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,we.Z)(function*(y){const w=nt(y);w._u.add(4),yield Jy(w),w.gu.set("Unknown"),w._u.delete(4),yield RC(w)}),function(y){return p.apply(this,arguments)})(c))}))}),this.gu=new Pee(i,r)}}function RC(n){return rN.apply(this,arguments)}function rN(){return rN=(0,we.Z)(function*(n){if(Sf(n))for(const e of n.wu)yield e(!0)}),rN.apply(this,arguments)}function Jy(n){return sN.apply(this,arguments)}function sN(){return sN=(0,we.Z)(function*(n){for(const e of n.wu)yield e(!1)}),sN.apply(this,arguments)}function cx(n,e){const t=nt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),lN(t)?aN(t):tv(t).ko()&&oN(t,e))}function OC(n,e){const t=nt(n),i=tv(t);t.du.delete(e),i.ko()&&Yz(t,e),0===t.du.size&&(i.ko()?i.Fo():Sf(t)&&t.gu.set("Unknown"))}function oN(n,e){n.yu.Ot(e.targetId),tv(n).zo(e)}function Yz(n,e){n.yu.Ot(e),tv(n).Ho(e)}function aN(n){n.yu=new yJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),tv(n).start(),n.gu.uu()}function lN(n){return Sf(n)&&!tv(n).No()&&n.du.size>0}function Sf(n){return 0===nt(n)._u.size}function Kz(n){n.yu=void 0}function Fee(n){return cN.apply(this,arguments)}function cN(){return cN=(0,we.Z)(function*(n){n.du.forEach((e,t)=>{oN(n,e)})}),cN.apply(this,arguments)}function Lee(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,we.Z)(function*(n,e){Kz(n),lN(n)?(n.gu.hu(e),aN(n)):n.gu.set("Unknown")}),uN.apply(this,arguments)}function Bee(n,e,t){return dN.apply(this,arguments)}function dN(){return dN=(0,we.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof GG&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ux(n,i)}else if(e instanceof WT?n.yu.Gt(e):e instanceof jG?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Rt.min()))try{const i=yield Bz(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.du.get(p);y&&r.du.set(p,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(yr.EMPTY_BYTE_STRING,p.snapshotVersion)),Yz(r,d);const y=new Ef(p.target,d,1,p.sequenceNumber);oN(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield ux(n,i)}var i}),dN.apply(this,arguments)}function ux(n,e,t){return hN.apply(this,arguments)}function hN(){return hN=(0,we.Z)(function*(n,e,t){if(!gf(e))throw e;n._u.add(1),yield Jy(n),n.gu.set("Offline"),t||(t=()=>Bz(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield RC(n)}))}),hN.apply(this,arguments)}function Qz(n,e){return e().catch(t=>ux(n,t,e))}function ev(n){return fN.apply(this,arguments)}function fN(){return fN=(0,we.Z)(function*(n){const e=nt(n),t=Tf(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Vee(e);)try{const r=yield Dee(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,Uee(e,r)}catch(r){yield ux(e,r)}Xz(e)&&Jz(e)}),fN.apply(this,arguments)}function Vee(n){return Sf(n)&&n.fu.length<10}function Uee(n,e){n.fu.push(e);const t=Tf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Xz(n){return Sf(n)&&!Tf(n).No()&&n.fu.length>0}function Jz(n){Tf(n).start()}function Hee(n){return pN.apply(this,arguments)}function pN(){return pN=(0,we.Z)(function*(n){Tf(n).eu()}),pN.apply(this,arguments)}function jee(n){return mN.apply(this,arguments)}function mN(){return mN=(0,we.Z)(function*(n){const e=Tf(n);for(const t of n.fu)e.Xo(t.mutations)}),mN.apply(this,arguments)}function Gee(n,e,t){return gN.apply(this,arguments)}function gN(){return gN=(0,we.Z)(function*(n,e,t){const i=n.fu.shift(),r=V1.from(i,e,t);yield Qz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ev(n)}),gN.apply(this,arguments)}function zee(n,e){return _N.apply(this,arguments)}function _N(){return _N=(0,we.Z)(function*(n,e){var t;e&&Tf(n).Yo&&(yield(t=(0,we.Z)(function*(i,r){if(LG(s=r.code)&&s!==ge.ABORTED){const c=i.fu.shift();Tf(i).Oo(),yield Qz(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ev(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Xz(n)&&Jz(n)}),_N.apply(this,arguments)}function e$(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,we.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Sf(t);t._u.add(3),yield Jy(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield RC(t)}),yN.apply(this,arguments)}function vN(n,e){return bN.apply(this,arguments)}function bN(){return bN=(0,we.Z)(function*(n,e){const t=nt(n);e?(t._u.delete(2),yield RC(t)):e||(t._u.add(2),yield Jy(t),t.gu.set("Unknown"))}),bN.apply(this,arguments)}function tv(n){return n.pu||(n.pu=function(e,t,i){const r=nt(e);return r.su(),new kee(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Fee.bind(null,n),Zr:Lee.bind(null,n),Wo:Bee.bind(null,n)}),n.wu.push(function(){var e=(0,we.Z)(function*(t){t?(n.pu.Oo(),lN(n)?aN(n):n.gu.set("Unknown")):(yield n.pu.stop(),Kz(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Tf(n){return n.Iu||(n.Iu=function(e,t,i){const r=nt(e);return r.su(),new Ree(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Hee.bind(null,n),Zr:zee.bind(null,n),tu:jee.bind(null,n),Zo:Gee.bind(null,n)}),n.wu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Iu.Oo(),yield ev(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class wN{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new wN(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(n,e){if(ji("AsyncQueue",`${e}: ${n}`),gf(n))return new Ne(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class iv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=mC(),this.sortedSet=new Oi(this.comparator)}static emptySet(e){return new iv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new iv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class t${constructor(){this.Tu=new Oi(et.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):dt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class rv{constructor(e,t,i,r,s,c,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new rv(e,t,iv.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class $ee{constructor(){this.Au=void 0,this.listeners=[]}}class qee{constructor(){this.queries=new Cf(e=>wG(e),hC),this.onlineState="Unknown",this.Ru=new Set}}function CN(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,we.Z)(function*(n,e){const t=nt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new $ee),r)try{s.Au=yield t.onListen(i)}catch(c){const d=nv(c,`Initialization of query '${k1(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&SN(t)}),EN.apply(this,arguments)}function DN(n,e){return IN.apply(this,arguments)}function IN(){return IN=(0,we.Z)(function*(n,e){const t=nt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),IN.apply(this,arguments)}function Zee(n,e){const t=nt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&SN(t)}function Wee(n,e,t){const i=nt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function SN(n){n.Ru.forEach(e=>{e.next()})}class TN{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new rv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=rv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Yee{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class n${constructor(e){this.It=e}Ji(e){return lu(this.It,e)}Yi(e){return e.metadata.exists?XG(this.It,e.document,!1):ti.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Pr(e)}}class Kee{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=i$(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=mn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new n$(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||Wt()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function Iee(n,e,t,i){return Q1.apply(this,arguments)}(e.localStore,new n$(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield See(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function i$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class r${constructor(e){this.key=e}}class s${constructor(e){this.key=e}}class o${constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Wt(),this.mutatedKeys=Wt(),this.Ku=EG(e),this.Gu=new iv(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new t$,r=t?t.Gu:this.Gu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,D)=>{const k=r.get(w),P=R1(this.query,D)?D:null,F=!!k&&this.mutatedKeys.has(k.key),G=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ne=!1;k&&P?k.data.isEqual(P.data)?F!==G&&(i.track({type:3,doc:P}),ne=!0):this.zu(k,P)||(i.track({type:2,doc:P}),ne=!0,(p&&this.Ku(P,p)>0||y&&this.Ku(P,y)<0)&&(d=!0)):!k&&P?(i.track({type:0,doc:P}),ne=!0):k&&!P&&(i.track({type:1,doc:k}),ne=!0,(p||y)&&(d=!0)),ne&&(P?(c=c.add(P),s=G?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Gu:c,Wu:i,$i:d,mutatedKeys:s}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((y,w)=>function(D,k){const P=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return P(D)-P(k)}(y.type,w.type)||this.Ku(y.doc,w.doc)),this.Hu(i);const c=t?this.Ju():[],d=0===this.qu.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==s.length||p?{snapshot:new rv(this.query,e.Gu,r,s,e.mutatedKeys,0===d,p,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new t$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Wt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new s$(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new r$(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Wt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return rv.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Qee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Xee{constructor(e){this.key=e,this.ec=!1}}class Jee{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Cf(d=>wG(d),hC),this.ic=new Map,this.rc=new Set,this.oc=new Oi(et.comparator),this.uc=new Map,this.cc=new z1,this.ac={},this.hc=new Map,this.lc=Ym.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function ete(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,we.Z)(function*(n,e){const t=QN(n);let i,r;const s=t.sc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const c=yield Qy(t.localStore,So(e));t.isPrimaryClient&&cx(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield MN(t,e,i,"current"===d)}return r}),xN.apply(this,arguments)}function MN(n,e,t,i){return AN.apply(this,arguments)}function AN(){return AN=(0,we.Z)(function*(n,e,t,i){n.dc=(w,D,k)=>{return(P=(0,we.Z)(function*(F,G,ne,Te){let He=G.view.ju(ne);He.$i&&(He=yield sx(F.localStore,G.query,!1).then(({documents:bt})=>G.view.ju(bt,He)));const Ye=Te&&Te.targetChanges.get(G.targetId),We=G.view.applyChanges(He,F.isPrimaryClient,Ye);return UN(F,G.targetId,We.Yu),We.snapshot}),function(F,G,ne,Te){return P.apply(this,arguments)})(n,w,D,k);var P};const r=yield sx(n.localStore,e,!0),s=new o$(e,r.Hi),c=s.ju(r.documents),d=yC.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);UN(n,t,p.Yu);const y=new Qee(e,t,s);return n.sc.set(e,y),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),p.snapshot}),AN.apply(this,arguments)}function tte(n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,we.Z)(function*(n,e){const t=nt(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(s=>!hC(s,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),OC(t.remoteStore,i.targetId),sv(t,i.targetId)}).catch(mf))):(sv(t,i.targetId),yield Xy(t.localStore,i.targetId,!0))}),kN.apply(this,arguments)}function RN(){return RN=(0,we.Z)(function*(n,e,t){const i=XN(n);try{const r=yield function(s,c){const d=nt(s),p=mi.now(),y=c.reduce((k,P)=>k.add(P.key),Wt());let w,D;return d.persistence.runTransaction("Locally write mutations","readwrite",k=>{let P=To(),F=Wt();return d.Gi.getEntries(k,y).next(G=>{P=G,P.forEach((ne,Te)=>{Te.isValidDocument()||(F=F.add(ne))})}).next(()=>d.localDocuments.getOverlayedDocuments(k,P)).next(G=>{w=G;const ne=[];for(const Te of c){const He=hJ(Te,w.get(Te.key).overlayedDocument);null!=He&&ne.push(new Ld(Te.key,He,hG(He.value.mapValue),gi.exists(!0)))}return d.mutationQueue.addMutationBatch(k,p,ne,c)}).next(G=>{D=G;const ne=G.applyToLocalDocumentSet(w,F);return d.documentOverlayCache.saveOverlays(k,G.batchId,ne)})}).then(()=>({batchId:D.batchId,changes:UG(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.ac[s.currentUser.toKey()];p||(p=new Oi(jt)),p=p.insert(c,d),s.ac[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Bd(i,r.changes),yield ev(i.remoteStore)}catch(r){const s=nv(r,"Failed to persist write");t.reject(s)}}),RN.apply(this,arguments)}function a$(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,we.Z)(function*(n,e){const t=nt(n);try{const i=yield Eee(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.uc.get(s);c&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?Pt(c.ec):r.removedDocuments.size>0&&(Pt(c.ec),c.ec=!1))}),yield Bd(t,i,e)}catch(i){yield mf(i)}}),ON.apply(this,arguments)}function l$(n,e,t){const i=nt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((s,c)=>{const d=c.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=nt(s);d.onlineState=c;let p=!1;d.queries.forEach((y,w)=>{for(const D of w.listeners)D.bu(c)&&(p=!0)}),p&&SN(d)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ite(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,we.Z)(function*(n,e,t){const i=nt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),s=r&&r.key;if(s){let c=new Oi(et.comparator);c=c.insert(s,ti.newNoDocument(s,Rt.min()));const d=Wt().add(s),p=new _C(Rt.min(),new Map,new Vn(jt),c,d);yield a$(i,p),i.oc=i.oc.remove(s),i.uc.delete(e),HN(i)}else yield Xy(i.localStore,e,!1).then(()=>sv(i,e,t)).catch(mf)}),PN.apply(this,arguments)}function rte(n,e){return NN.apply(this,arguments)}function NN(){return NN=(0,we.Z)(function*(n,e){const t=nt(n),i=e.batch.batchId;try{const r=yield Cee(t.localStore,e);VN(t,i,null),BN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Bd(t,r)}catch(r){yield mf(r)}}),NN.apply(this,arguments)}function ste(n,e,t){return FN.apply(this,arguments)}function FN(){return FN=(0,we.Z)(function*(n,e,t){const i=nt(n);try{const r=yield function(s,c){const d=nt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,c).next(w=>(Pt(null!==w),y=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,e);VN(i,e,t),BN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Bd(i,r)}catch(r){yield mf(r)}}),FN.apply(this,arguments)}function LN(){return LN=(0,we.Z)(function*(n,e){const t=nt(n);Sf(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=nt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=nv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),LN.apply(this,arguments)}function BN(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function VN(n,e,t){const i=nt(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function sv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||c$(n,i)})}function c$(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(OC(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),HN(n))}function UN(n,e,t){for(const i of t)i instanceof r$?(n.cc.addReference(i.key,e),ate(n,i)):i instanceof s$?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||c$(n,i.key)):dt()}function ate(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.rc.add(i),HN(n))}function HN(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new et(mn.fromString(e)),i=n.lc.next();n.uc.set(i,new Xee(t)),n.oc=n.oc.insert(t,i),cx(n.remoteStore,new Ef(So(Hy(t.path)),i,2,Io.at))}}function Bd(n,e,t){return jN.apply(this,arguments)}function jN(){return jN=(0,we.Z)(function*(n,e,t){const i=nt(n),r=[],s=[],c=[];var d;i.sc.isEmpty()||(i.sc.forEach((d,p)=>{c.push(i.dc(p,e,t).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const w=W1.Ci(p.targetId,y);s.push(w)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(d=(0,we.Z)(function*(p,y){const w=nt(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>he.forEach(y,k=>he.forEach(k.Si,P=>w.persistence.referenceDelegate.addReference(D,k.targetId,P)).next(()=>he.forEach(k.Di,P=>w.persistence.referenceDelegate.removeReference(D,k.targetId,P)))))}catch(D){if(!gf(D))throw D;Ve("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const k=D.targetId;if(!D.fromCache){const P=w.Ui.get(k),G=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);w.Ui=w.Ui.insert(k,G)}}}),function(p,y){return d.apply(this,arguments)})(i.localStore,s))}),jN.apply(this,arguments)}function lte(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,we.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const i=yield Lz(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(c=>{c.forEach(d=>{d.reject(new Ne(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Bd(t,i.ji)}var r}),GN.apply(this,arguments)}function cte(n,e){const t=nt(n),i=t.uc.get(e);if(i&&i.ec)return Wt().add(i.key);{let r=Wt();const s=t.ic.get(e);if(!s)return r;for(const c of s){const d=t.sc.get(c);r=r.unionWith(d.view.Qu)}return r}}function ute(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,we.Z)(function*(n,e){const t=nt(n),i=yield sx(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&UN(t,e.targetId,r.Yu),r}),zN.apply(this,arguments)}function dte(n,e){return $N.apply(this,arguments)}function $N(){return $N=(0,we.Z)(function*(n,e){const t=nt(n);return Hz(t.localStore,e).then(i=>Bd(t,i))}),$N.apply(this,arguments)}function hte(n,e,t,i){return qN.apply(this,arguments)}function qN(){return qN=(0,we.Z)(function*(n,e,t,i){const r=nt(n),s=yield function(c,d){const p=nt(c),y=nt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Tn(w,d).next(D=>D?p.localDocuments.getDocuments(w,D):he.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield ev(r.remoteStore):"acknowledged"===t||"rejected"===t?(VN(r,e,i||null),BN(r,e),d=e,nt(nt(r.localStore).mutationQueue).An(d)):dt(),yield Bd(r,s)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),qN.apply(this,arguments)}function ZN(){return ZN=(0,we.Z)(function*(n,e){const t=nt(n);if(QN(t),XN(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield u$(t,i.toArray());t.fc=!0,yield vN(t.remoteStore,!0);for(const s of r)cx(t.remoteStore,s)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(sv(t,c),Xy(t.localStore,c,!0))),OC(t.remoteStore,c)}),yield r,yield u$(t,i),function(s){const c=nt(s);c.uc.forEach((d,p)=>{OC(c.remoteStore,p)}),c.cc.fs(),c.uc=new Map,c.oc=new Oi(et.comparator)}(t),t.fc=!1,yield vN(t.remoteStore,!1)}}),ZN.apply(this,arguments)}function u$(n,e,t){return WN.apply(this,arguments)}function WN(){return WN=(0,we.Z)(function*(n,e,t){const i=nt(n),r=[],s=[];for(const c of e){let d;const p=i.ic.get(c);if(p&&0!==p.length){d=yield Qy(i.localStore,So(p[0]));for(const y of p){const w=i.sc.get(y),D=yield ute(i,w);D.snapshot&&s.push(D.snapshot)}}else{const y=yield Uz(i.localStore,c);d=yield Qy(i.localStore,y),yield MN(i,d$(y),c,!1)}r.push(d)}return i.nc.Wo(s),r}),WN.apply(this,arguments)}function d$(n){return vG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pte(n){const e=nt(n);return nt(nt(e.localStore).persistence).vi()}function mte(n,e,t,i){return YN.apply(this,arguments)}function YN(){return YN=(0,we.Z)(function*(n,e,t,i){const r=nt(n);if(r.fc)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield Hz(r.localStore,CG(s[0])),d=_C.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Bd(r,c,d);break}case"rejected":yield Xy(r.localStore,e,!0),sv(r,e,i);break;default:dt()}}),YN.apply(this,arguments)}function gte(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,we.Z)(function*(n,e,t){const i=QN(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const s=yield Uz(i.localStore,r),c=yield Qy(i.localStore,s);yield MN(i,d$(s),c.targetId,!1),cx(i.remoteStore,c)}for(const r of t)i.ic.has(r)&&(yield Xy(i.localStore,r,!1).then(()=>{OC(i.remoteStore,r),sv(i,r)}).catch(mf))}}),KN.apply(this,arguments)}function QN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=a$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ite.bind(null,e),e.nc.Wo=Zee.bind(null,e.eventManager),e.nc._c=Wee.bind(null,e.eventManager),e}function XN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ste.bind(null,e),e}class h${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.It=kC(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Fz(this.persistence,new Nz,e.initialUser,this.It)}gc(e){return new Oz(ix.Bs,this.It)}mc(e){return new $z}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class f$ extends h${constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield XN(i.Ec.syncEngine),yield ev(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Fz(this.persistence,new Nz,e.initialUser,this.It)}Ic(e,t){return new aee(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new zX(t,this.persistence);return new GX(e.asyncQueue,i)}gc(e){const t=Z1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?xo.withCacheSize(this.cacheSizeBytes):xo.DEFAULT;return new q1(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Zz(),lx(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new $z}}class yte extends f${constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof nN&&(i.sharedClientState.syncEngine={Fr:hte.bind(null,r),$r:mte.bind(null,r),Br:gte.bind(null,r),vi:pte.bind(null,r),Or:dte.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,we.Z)(function*(c){yield function fte(n,e){return ZN.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}mc(e){const t=Zz();if(!nN.C(t))throw new Ne(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Z1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class JN{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>l$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=lte.bind(null,i.syncEngine),yield vN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qee}createDatastore(e){const t=kC(e.databaseInfo.databaseId),i=new Aee(e.databaseInfo);return new Oee(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>l$(this.syncEngine,d,0),c=qz.C()?new qz:new Tee,new Nee(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,p,y){const w=new Jee(i,r,s,c,d,p);return y&&(w.fc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=nt(t);Ve("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Jy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function p$(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vte{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Or,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const s=yield e.Dc(r);return new Yee(JSON.parse(s),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,we.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,we.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class bte{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(s,c){const d=nt(s),p=wC(d.It)+"/documents",y={documents:c.map(P=>bC(d.It,P))},w=yield d.fo("BatchGetDocuments",p,y,c.length),D=new Map;w.forEach(P=>{const F=function EJ(n,e){return"found"in e?function(t,i){Pt(!!i.found);const r=lu(t,i.found.name),s=Pr(i.found.updateTime),c=new is({mapValue:{fields:i.found.fields}});return ti.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Pt(!!i.missing),Pt(!!i.readTime);const r=lu(t,i.missing),s=Pr(i.readTime);return ti.newNoDocument(r,s)}(n,e):dt()}(d.It,P);D.set(F.key.toString(),F)});const k=[];return c.forEach(P=>{const F=D.get(P.toString());Pt(!!F),k.push(F)}),k}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new qy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=et.fromPath(r);e.mutations.push(new O1(s,e.precondition(s)))}),yield(i=(0,we.Z)(function*(r,s){const c=nt(r),d=wC(c.It)+"/documents",p={writes:s.map(y=>CC(c.It,y))};yield c.co("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Rt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ne(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rt.min())?gi.exists(!1):gi.updateTime(t):gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ne(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(t)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wte{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Nc=i.maxAttempts,this.xo=new iN(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,we.Z)(function*(){const t=new bte(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Oc(s)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!oC(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!LG(t)}return!1}}class Cte{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Rr.UNAUTHENTICATED,this.clientId=W3.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,we.Z)(function*(d){Ve("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=nv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function m$(n,e){return eF.apply(this,arguments)}function eF(){return eF=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(s){i.isEqual(s)||(yield Lz(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),eF.apply(this,arguments)}function g$(n,e){return tF.apply(this,arguments)}function tF(){return tF=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nF(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>e$(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>e$(e.remoteStore,s)),n.onlineComponents=e}),tF.apply(this,arguments)}function nF(n){return iF.apply(this,arguments)}function iF(){return iF=(0,we.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield m$(n,new h$)),n.offlineComponents}),iF.apply(this,arguments)}function hx(n){return rF.apply(this,arguments)}function rF(){return rF=(0,we.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield g$(n,new JN)),n.onlineComponents}),rF.apply(this,arguments)}function _$(n){return nF(n).then(e=>e.persistence)}function fx(n){return nF(n).then(e=>e.localStore)}function y$(n){return hx(n).then(e=>e.remoteStore)}function sF(n){return hx(n).then(e=>e.syncEngine)}function ov(n){return oF.apply(this,arguments)}function oF(){return oF=(0,we.Z)(function*(n){const e=yield hx(n),t=e.eventManager;return t.onListen=ete.bind(null,e.syncEngine),t.onUnlisten=tte.bind(null,e.syncEngine),t}),oF.apply(this,arguments)}function v$(n,e,t={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,c,d,p){const y=new dx({next:D=>{s.enqueueAndForget(()=>DN(r,w));const k=D.docs.has(c);!k&&D.fromCache?p.reject(new Ne(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&D.fromCache&&d&&"server"===d.source?p.reject(new Ne(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),w=new TN(Hy(c.path),y,{includeMetadataChanges:!0,Nu:!0});return CN(r,w)}(yield ov(n),n.asyncQueue,e,t,i)})),i.promise}function b$(n,e,t={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,c,d,p){const y=new dx({next:D=>{s.enqueueAndForget(()=>DN(r,w)),D.fromCache&&"server"===d.source?p.reject(new Ne(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),w=new TN(c,y,{includeMetadataChanges:!0,Nu:!0});return CN(r,w)}(yield ov(n),n.asyncQueue,e,t,i)})),i.promise}const w$=new Map;function aF(n,e,t){if(!t)throw new Ne(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C$(n,e,t,i){if(!0===e&&!0===i)throw new Ne(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E$(n){if(!et.isDocumentKey(n))throw new Ne(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D$(n){if(et.isDocumentKey(n))throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function px(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=px(n);throw new Ne(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function I$(n,e){if(e<=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class S${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,C$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class PC{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kX;switch(t.type){case"gapi":return new NX(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=w$.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),w$.delete(e),t.terminate())}(this),Promise.resolve()}}class ai{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ai(this.firestore,e,this._key)}}class ws{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class uu extends ws{constructor(e,t,i){super(e,t,Hy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ai(this.firestore,null,new et(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function T$(n,e,...t){if(n=(0,L.m9)(n),aF("collection","path",e),n instanceof PC){const i=mn.fromString(e,...t);return D$(i),new uu(n,null,i)}{if(!(n instanceof ai||n instanceof uu))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(e,...t));return D$(i),new uu(n.firestore,null,i)}}function mx(n,e,...t){if(n=(0,L.m9)(n),1===arguments.length&&(e=W3.R()),aF("doc","path",e),n instanceof PC){const i=mn.fromString(e,...t);return E$(i),new ai(n,null,new et(i))}{if(!(n instanceof ai||n instanceof uu))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(e,...t));return E$(i),new ai(n.firestore,n instanceof uu?n.converter:null,new et(i))}}function x$(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),(n instanceof ai||n instanceof uu)&&(e instanceof ai||e instanceof uu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function M$(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),n instanceof ws&&e instanceof ws&&n.firestore===e.firestore&&hC(n._query,e._query)&&n.converter===e.converter}class Ote{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new iN(this,"async_queue_retry"),this.jc=()=>{const t=lx();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=lx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=lx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Or;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!gf(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,ji("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=wN.createAndSchedule(this,e,t,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&dt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function lF(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Pte{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _i extends PC{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Ote,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A$(this),this._firestoreClient.terminate()}}function ir(n){return n._firestoreClient||A$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function A$(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ZX(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new Cte(n._authCredentials,n._appCheckCredentials,n._queue,i)}function k$(n,e,t){const i=new Or;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield m$(n,t),yield g$(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===ge.FAILED_PRECONDITION||c.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;Om("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function R$(n){if(n._initialized||n._terminated)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(yr.fromBase64String(e))}catch(t){throw new Ne(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qm{constructor(e){this._methodName=e}}class gx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const zte=/^__.*__$/;class $te{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new $y(e,this.data,t,this.fieldTransforms)}}class O${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function P$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class _x{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new _x(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return bx(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(P$(this.na)&&zte.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class qte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||kC(e)}fa(e,t,i,r=!1){return new _x({na:e,methodName:t,la:i,path:Ri.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Xm(n){const e=n._freezeSettings(),t=kC(n._databaseId);return new qte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yx(n,e,t,i,r,s={}){const c=n.fa(s.merge||s.mergeFields?2:0,e,t,r);hF("Data must be an object, but it was:",c,i);const d=L$(i,c);let p,y;if(s.merge)p=new ba(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const D of s.mergeFields){const k=fF(e,D,t);if(!c.contains(k))throw new Ne(ge.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);V$(w,k)||w.push(k)}p=new ba(w),y=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,y=c.fieldTransforms;return new $te(new is(d),p,y)}class NC extends Qm{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof NC}}function N$(n,e,t){return new _x({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class cF extends Qm{_toFieldTransform(e){return new fC(e.path,new Gy)}isEqual(e){return e instanceof cF}}class Zte extends Qm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=N$(this,e,!0),i=this.da.map(s=>Jm(s,t)),r=new Hm(i);return new fC(e.path,r)}isEqual(e){return this===e}}class Wte extends Qm{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=N$(this,e,!0),i=this.da.map(s=>Jm(s,t)),r=new jm(i);return new fC(e.path,r)}isEqual(e){return this===e}}class Yte extends Qm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new zy(e.It,SG(e.It,this._a));return new fC(e.path,t)}isEqual(e){return this===e}}function uF(n,e,t,i){const r=n.fa(1,e,t);hF("Data must be an object, but it was:",r,i);const s=[],c=is.empty();Fm(i,(p,y)=>{const w=vx(e,p,t);y=(0,L.m9)(y);const D=r.ua(w);if(y instanceof NC)s.push(w);else{const k=Jm(y,D);null!=k&&(s.push(w),c.set(w,k))}});const d=new ba(s);return new O$(c,d,r.fieldTransforms)}function dF(n,e,t,i,r,s){const c=n.fa(1,e,t),d=[fF(e,i,t)],p=[r];if(s.length%2!=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)d.push(fF(e,s[k])),p.push(s[k+1]);const y=[],w=is.empty();for(let k=d.length-1;k>=0;--k)if(!V$(y,d[k])){const P=d[k];let F=p[k];F=(0,L.m9)(F);const G=c.ua(P);if(F instanceof NC)y.push(P);else{const ne=Jm(F,G);null!=ne&&(y.push(P),w.set(P,ne))}}const D=new ba(y);return new O$(w,D,c.fieldTransforms)}function F$(n,e,t,i=!1){return Jm(t,n.fa(i?4:3,e))}function Jm(n,e){if(B$(n=(0,L.m9)(n)))return hF("Unsupported field value:",e,n),L$(n,e);if(n instanceof Qm)return function(t,i){if(!P$(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=Jm(c,i.ca(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,L.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return SG(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=mi.fromDate(t);return{timestampValue:vC(i.It,r)}}if(t instanceof mi){const r=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vC(i.It,r)}}if(t instanceof gx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:ZG(i.It,t._byteString)};if(t instanceof ai){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:P1(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${px(t)}`)}(n,e)}function L$(n,e){const t={};return nG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fm(n,(i,r)=>{const s=Jm(r,e.ia(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function B$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof gx||n instanceof du||n instanceof ai||n instanceof Qm)}function hF(n,e,t){if(!B$(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=px(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function fF(n,e,t){if((e=(0,L.m9)(e))instanceof Vd)return e._internalPath;if("string"==typeof e)return vx(n,e);throw bx("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kte=new RegExp("[~\\*/\\[\\]]");function vx(n,e,t){if(e.search(Kte)>=0)throw bx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw bx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bx(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ne(ge.INVALID_ARGUMENT,d+n+p)}function V$(n,e){return n.some(t=>t.isEqual(e))}class FC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qte extends FC{data(){return super.data()}}function wx(n,e){return"string"==typeof e?vx(n,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}class eg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ud extends FC{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new LC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class LC extends Ud{data(e={}){return super.data(e)}}class xf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new eg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new LC(this._firestore,this._userDataWriter,i.key,i,new eg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new LC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new eg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new LC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new eg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:Xte(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Xte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function U$(n,e){return n instanceof Ud&&e instanceof Ud?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xf&&e instanceof xf&&n._firestore===e._firestore&&M$(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function H$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{}function Mf(n,...e){for(const t of e)n=t._apply(n);return n}class Jte extends BC{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Xm(e.firestore),i=function(r,s,c,d,p,y,w){let D;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){Z$(w,y);const P=[];for(const F of w)P.push(q$(d,r,F));D={arrayValue:{values:P}}}else D=q$(d,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||Z$(w,y),D=F$(c,"where",w,"in"===y||"not-in"===y);const k=rs.create(p,y,D);return function(P,F){if(F.dt()){const ne=M1(P);if(null!==ne&&!ne.isEqual(F.field))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ne.toString()}' and '${F.field.toString()}'`);const Te=x1(P);null!==Te&&W$(0,F.field,Te)}const G=function(ne,Te){for(const He of ne.filters)if(Te.indexOf(He.op)>=0)return He.op;return null}(P,function(ne){switch(ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(null!==G)throw new Ne(ge.INVALID_ARGUMENT,G===F.op?`Invalid query. You cannot use more than one '${F.op.toString()}' filter.`:`Invalid query. You cannot use '${F.op.toString()}' filters with '${G.toString()}' filters.`)}(r,k),k}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ws(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new Fd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class tne extends BC{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Uy(r,s);return function(d,p){if(null===x1(d)){const y=M1(d);null!==y&&W$(0,y,p.field)}}(i,c),c}(e._query,this.wa,this.ya);return new ws(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Fd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class j$ extends BC{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new ws(e.firestore,e.converter,GT(e._query,this.pa,this.Ia))}}class G$ extends BC{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=$$(e,this.type,this.Ta,this.Ea);return new ws(e.firestore,e.converter,(r=t,new Fd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class z$ extends BC{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=$$(e,this.type,this.Ta,this.Ea);return new ws(e.firestore,e.converter,(r=t,new Fd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $$(n,e,t,i){if(t[0]=(0,L.m9)(t[0]),t[0]instanceof FC)return function(r,s,c,d,p){if(!d)throw new Ne(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const w of jy(r))if(w.field.isKeyField())y.push(Vm(s,d.key));else{const D=d.data.field(w.field);if(I1(D))throw new Ne(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const k=w.field.canonicalString();throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}y.push(D)}return new wf(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Xm(n.firestore);return function(s,c,d,p,y,w){const D=s.explicitOrderBy;if(y.length>D.length)throw new Ne(ge.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let P=0;P<y.length;P++){const F=y[P];if(D[P].field.isKeyField()){if("string"!=typeof F)throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof F}`);if(!A1(s)&&-1!==F.indexOf("/"))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${F}' contains a slash.`);const G=s.path.child(mn.fromString(F));if(!et.isDocumentKey(G))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${G}' is not because it contains an odd number of segments.`);const ne=new et(G);k.push(Vm(c,ne))}else{const G=F$(d,p,F);k.push(G)}}return new wf(k,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function q$(n,e,t){if("string"==typeof(t=(0,L.m9)(t))){if(""===t)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A1(e)&&-1!==t.indexOf("/"))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mn.fromString(t));if(!et.isDocumentKey(i))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vm(n,new et(i))}if(t instanceof ai)return Vm(n,t._key);throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${px(t)}.`)}function Z$(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function W$(n,e,t){if(!t.isEqual(e))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const cne={maxAttempts:5};class pF{convertValue(e,t="none"){switch(Bm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return Fm(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new gx(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rG(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(sC(e));default:return null}}convertTimestamp(e){const t=_f(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mn.fromString(e);Pt(iz(i));const r=new yf(i.get(1),i.get(3)),s=new et(i.popFirst(5));return r.isEqual(t)||ji(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Cx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class une extends pF{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}class Y${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xm(e)}set(e,t,i){this._verifyNotCommitted();const r=Af(e,this._firestore),s=Cx(r.converter,t,i),c=yx(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,gi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Af(e,this._firestore);let c;return c="string"==typeof(t=(0,L.m9)(t))||t instanceof Vd?dF(this._dataReader,"WriteBatch.update",s._key,t,i,r):uF(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Af(e,this._firestore);return this._mutations=this._mutations.concat(new qy(t._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(n,e){if((n=(0,L.m9)(n)).firestore!==e)throw new Ne(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tg extends pF{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}function K$(n,e,t){n=un(n,ai);const i=un(n.firestore,_i),r=Cx(n.converter,e,t);return av(i,[yx(Xm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,gi.none())])}function Q$(n,e,t,...i){n=un(n,ai);const r=un(n.firestore,_i),s=Xm(r);let c;return c="string"==typeof(e=(0,L.m9)(e))||e instanceof Vd?dF(s,"updateDoc",n._key,e,t,i):uF(s,"updateDoc",n._key,e),av(r,[c.toMutation(n._key,gi.exists(!0))])}function X$(n,...e){var t,i,r;n=(0,L.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||lF(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(lF(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,y,w;if(n instanceof ai)y=un(n.firestore,_i),w=Hy(n._key.path),p={next:D=>{e[c]&&e[c](mF(y,n,D))},error:e[c+1],complete:e[c+2]};else{const D=un(n,ws);y=un(D.firestore,_i),w=D._query;const k=new tg(y);p={next:P=>{e[c]&&e[c](new xf(y,k,D,P))},error:e[c+1],complete:e[c+2]},H$(n._query)}return function(D,k,P,F){const G=new dx(F),ne=new TN(k,G,P);return D.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return CN(yield ov(D),ne)})),()=>{G.Rc(),D.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return DN(yield ov(D),ne)}))}}(ir(y),w,d,p)}function av(n,e){return function(t,i){const r=new Or;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function nte(n,e,t){return RN.apply(this,arguments)}(yield sF(t),i,r)})),r.promise}(ir(n),e)}function mF(n,e,t){const i=t.docs.get(e._key),r=new tg(n);return new Ud(n,r,e._key,i,new eg(t.hasPendingWrites,t.fromCache),e.converter)}class bne extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xm(e)}get(e){const t=Af(e,this._firestore),i=new une(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const s=r[0];if(s.isFoundDocument())return new FC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new FC(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=Af(e,this._firestore),s=Cx(r.converter,t,i),c=yx(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Af(e,this._firestore);let c;return c="string"==typeof(t=(0,L.m9)(t))||t instanceof Vd?dF(this._dataReader,"Transaction.update",s._key,t,i,r):uF(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Af(e,this._firestore),i=new tg(this._firestore);return super.get(e).then(r=>new Ud(this._firestore,i,t._key,r._document,new eg(!1,!1),t.converter))}}function gF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function e6(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function t6(){if(!function $X(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fy=Yr.SDK_VERSION,(0,Yr._registerComponent)(new la.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new _i(new OX(t.getProvider("auth-internal")),new FX(t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)($3,"3.4.15",n),(0,Yr.registerVersion)($3,"3.4.15","esm2017")}();class VC{constructor(e){this._delegate=e}static fromBase64String(e){return t6(),new VC(du.fromBase64String(e))}static fromUint8Array(e){return e6(),new VC(du.fromUint8Array(e))}toBase64(){return t6(),this._delegate.toBase64()}toUint8Array(){return e6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _F(n){return function Mne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Ane{enableIndexedDbPersistence(e,t){return function Fte(n,e){R$(n=un(n,_i));const t=ir(n),i=n._freezeSettings(),r=new JN;return k$(t,r,new f$(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Lte(n){R$(n=un(n,_i));const e=ir(n),t=n._freezeSettings(),i=new JN;return k$(e,i,new yte(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bte(n){if(n._initialized&&!n._terminated)throw new Ne(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!lc.C())return Promise.resolve();const r=i+"main";yield lc.delete(r)}),function(i){return t.apply(this,arguments)})(Z1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class n6{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof yf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Om("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function kte(n,e,t,i={}){var r;const s=(n=un(n,PC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Om("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Rr.MOCK_USER;else{c=(0,L.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ne(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Rr(p)}n._authCredentials=new RX(new q3(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function Ute(n){return function Ete(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield _$(n),t=yield y$(n);return e.setNetworkEnabled(!0),function(i){const r=nt(i);return r._u.delete(0),RC(r)}(t)}))}(ir(n=un(n,_i)))}(this._delegate)}disableNetwork(){return function Hte(n){return function Dte(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield _$(n),t=yield y$(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const s=nt(r);s._u.add(0),yield Jy(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ir(n=un(n,_i)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,C$("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Vte(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function ote(n,e){return LN.apply(this,arguments)}(yield sF(e),t)})),t.promise}(ir(n=un(n,_i)))}(this._delegate)}onSnapshotsInSync(e){return function vne(n,e){return function Tte(n,e){const t=new dx(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield ov(n),r=t,nt(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield ov(n),r=t,void nt(i).Ru.delete(r);var i,r}))}}(ir(n=un(n,_i)),lF(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lv(this,T$(this._delegate,e))}catch(t){throw Ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new hl(this,mx(this._delegate,e))}catch(t){throw Ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function Rte(n,e){if(n=un(n,PC),aF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ws(n,null,(t=e,new Fd(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wne(n,e,t){n=un(n,_i);const i=Object.assign(Object.assign({},cne),t);return function(r){if(r.maxAttempts<1)throw new Ne(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function xte(n,e,t){const i=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(s=n,hx(s).then(c=>c.datastore));var s;new wte(n.asyncQueue,r,t,e,i).run()})),i.promise}(ir(n),r=>e(new bne(n,r)),i)}(this._delegate,t=>e(new r6(this,t)))}batch(){return ir(this._delegate),new s6(new Y$(this._delegate,e=>av(this._delegate,e)))}loadBundle(e){return function jte(n,e){const t=ir(n=un(n,_i)),i=new Pte;return function Mte(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return p$(p,y);if(p instanceof ArrayBuffer)return p$(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new vte(p,c);var p}(t,kC(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function _te(n,e,t){const i=nt(n);var r;(r=(0,we.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(k,P){const F=nt(k),G=Pr(P.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",ne=>F.Ns.getBundleMetadata(ne,P.id)).then(ne=>!!ne&&ne.createTime.compareTo(G)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(k=p).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);d._updateProgress(i$(p));const y=new Kee(p,s.localStore,c.It);let w=yield c.wc();for(;w;){const k=yield y.Ou(w);k&&d._updateProgress(k),w=yield c.wc()}const D=yield y.complete();return yield Bd(s,D.Bu,void 0),yield function(k,P){const F=nt(k);return F.persistence.runTransaction("Save bundle","readwrite",G=>F.Ns.saveBundleMetadata(G,P))}(s.localStore,p),d._completeWith(D.progress),Promise.resolve(D.$u)}catch(p){return Om("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var k}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield sF(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Gte(n,e){return function Ate(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=nt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield fx(n),e)}))}(ir(n=un(n,_i)),e).then(t=>t?new ws(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ys(this,t):null)}}class Ex extends pF{constructor(e){super(),this.firestore=e}convertBytes(e){return new VC(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hl.forKey(t,this.firestore,null)}}class r6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ex(e)}get(e){const t=ig(e);return this._delegate.get(t).then(i=>new UC(this._firestore,new Ud(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ig(e);return i?(gF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ig(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class s6{constructor(e){this._delegate=e}set(e,t,i){const r=ig(e);return i?(gF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ig(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ng{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new LC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ng.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new ng(e,new Ex(e),t),r.set(t,s)),s}}ng.INSTANCES=new WeakMap;class hl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ex(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hl(t,new ai(t._delegate,i,new et(e)))}static forKey(e,t,i){return new hl(t,new ai(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new lv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lv(this.firestore,T$(this._delegate,e))}catch(t){throw Ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,L.m9)(e))instanceof ai&&x$(this._delegate,e)}set(e,t){t=gF("DocumentReference.set",t);try{return t?K$(this._delegate,e,t):K$(this._delegate,e)}catch(i){throw Ws(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Q$(this._delegate,e):Q$(this._delegate,e,t,...i)}catch(r){throw Ws(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _ne(n){return av(un(n.firestore,_i),[new qy(n._key,gi.none())])}(this._delegate)}onSnapshot(...e){const t=o6(e),i=a6(e,r=>new UC(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return X$(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function hne(n){n=un(n,ai);const e=un(n.firestore,_i),t=ir(e),i=new tg(e);return function Ite(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,c){try{const d=yield function(p,y){const w=nt(p);return w.persistence.runTransaction("read document","readonly",D=>w.localDocuments.getDocument(D,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ne(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=nv(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield fx(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ud(e,i,n._key,r,new eg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fne(n){n=un(n,ai);const e=un(n.firestore,_i);return v$(ir(e),n._key,{source:"server"}).then(t=>mF(e,n,t))}(this._delegate):function dne(n){n=un(n,ai);const e=un(n.firestore,_i);return v$(ir(e),n._key).then(t=>mF(e,n,t))}(this._delegate),t.then(i=>new UC(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new hl(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function Ws(n,e,t){return n.message=n.message.replace(e,t),n}function o6(n){for(const e of n)if("object"==typeof e&&!_F(e))return e;return{}}function a6(n,e){var t,i;let r;return r=_F(n[0])?n[0]:_F(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class UC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return U$(this._delegate,e._delegate)}}class HC extends UC{data(e){const t=this._delegate.data(e);return function AX(n,e){n||dt()}(void 0!==t),t}}class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ex(e)}where(e,t,i){try{return new Ys(this.firestore,Mf(this._delegate,function ene(n,e,t){const i=e,r=wx("where",n);return new Jte(r,i,t)}(e,t,i)))}catch(r){throw Ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ys(this.firestore,Mf(this._delegate,function nne(n,e="asc"){const t=e,i=wx("orderBy",n);return new tne(i,t)}(e,t)))}catch(i){throw Ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,Mf(this._delegate,function ine(n){return I$("limit",n),new j$("limit",n,"F")}(e)))}catch(t){throw Ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,Mf(this._delegate,function rne(n){return I$("limitToLast",n),new j$("limitToLast",n,"L")}(e)))}catch(t){throw Ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,Mf(this._delegate,function sne(...n){return new G$("startAt",n,!0)}(...e)))}catch(t){throw Ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,Mf(this._delegate,function one(...n){return new G$("startAfter",n,!1)}(...e)))}catch(t){throw Ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,Mf(this._delegate,function ane(...n){return new z$("endBefore",n,!1)}(...e)))}catch(t){throw Ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,Mf(this._delegate,function lne(...n){return new z$("endAt",n,!0)}(...e)))}catch(t){throw Ws(t,"endAt()","Query.endAt()")}}isEqual(e){return M$(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function mne(n){n=un(n,ws);const e=un(n.firestore,_i),t=ir(e),i=new tg(e);return function Ste(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,c){try{const d=yield sx(r,s,!0),p=new o$(s,d.Hi),y=p.ju(d.documents),w=p.applyChanges(y,!1);c.resolve(w.snapshot)}catch(d){const p=nv(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield fx(n),e,t);var i})),t.promise}(t,n._query).then(r=>new xf(e,i,n,r))}(this._delegate):"server"===e?.source?function gne(n){n=un(n,ws);const e=un(n.firestore,_i),t=ir(e),i=new tg(e);return b$(t,n._query,{source:"server"}).then(r=>new xf(e,i,n,r))}(this._delegate):function pne(n){n=un(n,ws);const e=un(n.firestore,_i),t=ir(e),i=new tg(e);return H$(n._query),b$(t,n._query).then(r=>new xf(e,i,n,r))}(this._delegate),t.then(i=>new yF(this.firestore,new xf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=o6(e),i=a6(e,r=>new yF(this.firestore,new xf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return X$(this._delegate,t,i)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}class Rne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new HC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new HC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Rne(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new HC(this._firestore,i))})}isEqual(e){return U$(this._delegate,e._delegate)}}class lv extends Ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hl(this.firestore,e):null}doc(e){try{return new hl(this.firestore,void 0===e?mx(this._delegate):mx(this._delegate,e))}catch(t){throw Ws(t,"doc()","CollectionReference.doc()")}}add(e){return function yne(n,e){const t=un(n.firestore,_i),i=mx(n),r=Cx(n.converter,e);return av(t,[yx(Xm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,gi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new hl(this.firestore,t))}isEqual(e){return x$(this._delegate,e._delegate)}withConverter(e){return new lv(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function ig(n){return un(n,ai)}class vF{constructor(...e){this._delegate=new Vd(...e)}static documentId(){return new vF(Ri.keyField().canonicalString())}isEqual(e){return(e=(0,L.m9)(e))instanceof Vd&&this._delegate._internalPath.isEqual(e._internalPath)}}class rg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ene(){return new cF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rg(e)}static delete(){const e=function Cne(){return new NC("deleteField")}();return e._methodName="FieldValue.delete",new rg(e)}static arrayUnion(...e){const t=function Dne(...n){return new Zte("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new rg(t)}static arrayRemove(...e){const t=function Ine(...n){return new Wte("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new rg(t)}static increment(e){const t=function Sne(n){return new Yte("increment",n)}(e);return t._methodName="FieldValue.increment",new rg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const One={Firestore:n6,GeoPoint:gx,Timestamp:mi,Blob:VC,Transaction:r6,WriteBatch:s6,DocumentReference:hl,DocumentSnapshot:UC,Query:Ys,QueryDocumentSnapshot:HC,QuerySnapshot:yF,CollectionReference:lv,FieldPath:vF,FieldValue:rg,setLogLevel:function kne(n){!function MX(n){pf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function l6(n,e){return function Fne(n,e=hd.z){return new On.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function bF(n,e){return l6(n,e).pipe((0,qe.U)(t=>({payload:t,type:"query"})))}function Dx(n,e){return bF(n,e).pipe(Bi(void 0),SP(),(0,qe.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(w=>w.doc.ref.isEqual(c.ref)),y=t?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function c6(n,e,t){return Dx(n,t).pipe(Tt((i,r)=>function Bne(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Vne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return wF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return wF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),g_(),(0,qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function wF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function u6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Nne(n){(function Pne(n,e){n.INTERNAL.registerComponent(new la.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},One)))})(n,(e,t)=>new n6(e,t,new Ane)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(bI.Z);class d6{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Dx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qe.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Bi(void 0),SP(),S(([i,r])=>r.length>0||!i),(0,qe.U)(([i,r])=>r),cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=u6(e);return c6(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return bF(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),cn.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(cn.iC)}add(e){return this.ref.add(e)}doc(e){return new h6(this.ref.doc(e),this.afs)}}class h6{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=m6(i,t);return new d6(r,s,this.afs)}snapshotChanges(){return function Lne(n,e){return l6(n,e).pipe(Bi(void 0),SP(),(0,qe.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe(cn.iC)}}class Une{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Dx(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),S(t=>t.length>0),cn.iC):Dx(this.query,this.afs.schedulers.outsideAngular).pipe(cn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=u6(e);return c6(this.query,t,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(e={}){return bF(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),cn.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(cn.iC)}}const f6=new a.OlP("angularfire2.enableFirestorePersistence"),p6=new a.OlP("angularfire2.firestore.persistenceSettings"),Hne=new a.OlP("angularfire2.firestore.settings"),jne=new a.OlP("angularfire2.firestore.use-emulator");function m6(n,e=(t=>t)){return{query:e(n),ref:n}}let Gne=(()=>{class n{constructor(t,i,r,s,c,d,p,y,w,D,k,P,F,G,ne,Te,He){this.schedulers=p;const Ye=(0,Ui.on)(t,d,i),We=w;D&&S0(Ye,d,k,F,G,ne,P,Te),[this.firestore,this.persistenceEnabled$]=(0,Ui.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const bt=d.runOutsideAngular(()=>Ye.firestore());if(s&&bt.settings(s),We&&bt.useEmulator(...We),r&&!Mi(c)){const Et=()=>{try{return(0,tn.D)(bt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(en){return typeof console<"u"&&console.warn(en),Xe(!1)}};return[bt,d.runOutsideAngular(Et)]}return[bt,Xe(!1)]},[s,We,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=m6(r,i),d=this.schedulers.ngZone.run(()=>s);return new d6(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new Une(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new h6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ui.Dh),a.LFG(Ui.xv,8),a.LFG(f6,8),a.LFG(Hne,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(cn.HU),a.LFG(p6,8),a.LFG(jne,8),a.LFG(K_,8),a.LFG(D0,8),a.LFG(q_,8),a.LFG(Z_,8),a.LFG(W_,8),a.LFG(Y_,8),a.LFG(I0,8),a.LFG(rl,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zne=(()=>{class n{constructor(){$_.Z.registerVersion("angularfire",cn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:f6,useValue:!0},{provide:p6,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Gne]}),n})();const g6_firebaseConfig={apiKey:"AIzaSyDb3BtYY5ap-3YR3BiaVqwmwt_SkNbDt0c",authDomain:"staybnb3.firebaseapp.com",projectId:"staybnb3",storageBucket:"staybnb3.appspot.com",messagingSenderId:"155331336782",appId:"1:155331336782:web:d1a7c7dc168744587f011f",measurementId:"G-SBHS037J88"};let sie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[yp]}),n})(),M6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[sie,Ue,Ue]}),n})(),A6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,Ue]}),n})(),N6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,wd,Ue]}),n})(),F6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),L6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[F6,wd,Ue,__,F6,Ue]}),n})();const $ie={provide:new a.OlP("mat-select-scroll-strategy"),deps:[_o],useFactory:function zie(n){return()=>n.scrollStrategies.reposition()}};let PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$ie],imports:[xi,Yc,xD,Ue,Zc,bw,xD,Ue]}),n})();const Yie={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[_o],useFactory:function Wie(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let Qie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Yie],imports:[w_,xi,Yc,Ue,Ue,Zc]}),n})(),NF=(()=>{class n{constructor(){this.changes=new wt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=t*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nre={provide:NF,deps:[[new a.FiY,new a.tp0,NF]],useFactory:function tre(n){return n||new NF}};let V6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[nre],imports:[xi,x_,PF,Qie,Ue]}),n})(),U6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xi,Ue,Zc,Zc,Ue]}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,Ue]}),n})(),j6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zb,wd,Ue,S_,xi,Zb,Ue,S_,FF]}),n})(),_re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),z6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xi,Ue,_re,gd]}),n})();function yre(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}function vre(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}const wre=Hp(class{constructor(n){this._elementRef=n}},"primary"),Cre=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ere(){return{diameter:100}}});class kf extends wre{constructor(e,t,i,r,s,c,d,p){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Qn.w0.EMPTY,this.mode="determinate";const y=kf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(i.head)||y.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&d&&c&&p&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=fp(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=fp(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,fp(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=gp(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=kf._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}kf._diameters=new WeakMap,kf.\u0275fac=function(e){return new(e||kf)(a.Y36(a.SBq),a.Y36(Qi),a.Y36(re,8),a.Y36(a.QbO,8),a.Y36(Cre),a.Y36(a.sBO),a.Y36(fb),a.Y36(a.R0b))},kf.\u0275cmp=a.Xpm({type:kf,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(a.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,yre,1,11,"circle",2),a.YNc(3,vre,1,9,"circle",3),a.qZA()),2&e&&(a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===t.mode),a.uIk("viewBox",t._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},dependencies:[Ia,Po],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let $6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ue,xi,Ue]}),n})(),Ire=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[M6,A6,bw,xU,qU,x_,LH,N6,L6,V6,e0,U6,PF,zH,FF,j6,z6,$6,M6,A6,bw,xU,qU,x_,LH,N6,L6,V6,e0,U6,PF,zH,FF,j6,z6,$6]}),n})(),Sre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[C7]}),n.\u0275inj=a.cJS({imports:[Oc,w7,wQ,m8,Ire,ZW,Ui.hO.initializeApp(g6_firebaseConfig),vI,zne,yK,SZ,WW]}),n})();(0,a.G48)(),Rc().bootstrapModule(Sre).catch(n=>console.error(n))},5867:(ht,xe,V)=>{V.d(xe,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=V(9681);(0,a.registerVersion)("firebase","9.9.4","app")},127:(ht,xe,V)=>{V.d(xe,{Z:()=>a.Z});var a=V(3942);a.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(ht,xe,V)=>{V.r(xe);var a=V(5861),ie=V(3942),B=V(2090),de=V(9681),ce=V(655),pe=V(1877),re=V(4859);const Ee=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new pe.Yd("@firebase/auth");function ut(v,...m){rt.logLevel<=pe.in.ERROR&&rt.error(`Auth (${de.SDK_VERSION}): ${v}`,...m)}function ke(v,...m){throw Ze(v,...m)}function Ce(v,...m){return Ze(v,...m)}function Se(v,m,_){const C=Object.assign(Object.assign({},ot()),{[m]:_});return new B.LL("auth","Firebase",C).create(m,{appName:v.name})}function ze(v,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&ke(v,"argument-error"),Se(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(v,...m){if("string"!=typeof v){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return be.create(v,...m)}function z(v,m,..._){if(!v)throw Ze(m,..._)}function ve(v){const m="INTERNAL ASSERTION FAILED: "+v;throw ut(m),new Error(m)}function J(v,m){v||ve(m)}const se=new Map;function ue(v){J(v instanceof Function,"Expected a class definition");let m=se.get(v);return m?(J(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,se.set(v,m),m)}function Fe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function yt(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class _n{constructor(m,_){this.shortDelay=m,this.longDelay=_,J(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zn(v,m){J(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class nn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zi=new _n(3e4,6e4);function Ft(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function dn(v,m,_,C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(v,m,_,C,M={}){return rr(v,M,(0,a.Z)(function*(){let N={},Q={};C&&("GET"===m?Q=C:N={body:JSON.stringify(C)});const fe=(0,B.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),je=yield v._getAdditionalHeaders();return je["Content-Type"]="application/json",v.languageCode&&(je["X-Firebase-Locale"]=v.languageCode),nn.fetch()(ss(v,v.config.apiHost,_,fe),Object.assign({method:m,headers:je,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function rr(v,m,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(v,m,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},rn),m);try{const M=new or(v),N=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Q=yield N.json();if("needConfirmation"in Q)throw vr(v,"account-exists-with-different-credential",Q);if(N.ok&&!("errorMessage"in Q))return Q;{const fe=N.ok?Q.errorMessage:Q.error.message,[je,st]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw vr(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===je)throw vr(v,"email-already-in-use",Q);if("USER_DISABLED"===je)throw vr(v,"user-disabled",Q);const St=C[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Se(v,St,st);ke(v,St)}}catch(M){if(M instanceof B.ZR)throw M;ke(v,"network-request-failed")}})).apply(this,arguments)}function sr(v,m,_,C){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(v,m,_,C,M={}){const N=yield dn(v,m,_,C,M);return"mfaPendingCredential"in N&&ke(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ss(v,m,_,C){const M=`${m}${_}?${C}`;return v.config.emulator?Zn(v.config,M):`${v.config.apiScheme}://${M}`}class or{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Ce(this.auth,"network-request-failed")),zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vr(v,m,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Ce(v,m,C);return M.customData._tokenResponse=_,M}function it(){return(it=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ar(v,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wn(v,m){return br.apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function lr(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function En(){return(En=(0,a.Z)(function*(v,m=!1){const _=(0,B.m9)(v),C=yield _.getIdToken(m),M=ft(C);z(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,Q=N?.sign_in_provider;return{claims:M,token:C,authTime:lr(vt(M.auth_time)),issuedAtTime:lr(vt(M.iat)),expirationTime:lr(vt(M.exp)),signInProvider:Q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function vt(v){return 1e3*Number(v)}function ft(v){var m;const[_,C,M]=v.split(".");if(void 0===_||void 0===C||void 0===M)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(C);return N?JSON.parse(N):(ut("Failed to decode base64 JWT payload"),null)}catch(N){return ut("Caught error parsing JWT payload as JSON",null===(m=N)||void 0===m?void 0:m.toString()),null}}function yi(v,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(v,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof B.ZR&&$i(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function $i({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Mt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,a.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Ds{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(v){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(v){var m;const _=v.auth,C=yield v.getIdToken(),M=yield yi(v,Wn(_,{idToken:C}));z(M?.users.length,_,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const Q=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?j(N.providerUserInfo):[],fe=q(v.providerData,Q),St=!!v.isAnonymous&&!(v.email&&N.passwordHash||fe?.length),_t={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:fe,metadata:new Ds(N.createdAt,N.lastLoginAt),isAnonymous:St};Object.assign(v,_t)})).apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(v){const m=(0,B.m9)(v);yield on(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function q(v,m){return[...v.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function j(v){return v.map(m=>{var{providerId:_}=m,C=(0,ce._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function K(){return(K=(0,a.Z)(function*(v,m){const _=yield rr(v,{},(0,a.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,Q=ss(v,M,"/v1/token",`key=${N}`),fe=yield v._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(Q,{method:"POST",headers:fe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){z(m.idToken,"internal-error"),z(typeof m.idToken<"u","internal-error"),z(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function yn(v){const m=ft(v);return z(m,"internal-error"),z(typeof m.exp<"u","internal-error"),z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,a.Z)(function*(){return z(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,a.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:Q}=yield function W(v,m){return K.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,N,Number(Q))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:N}=_,Q=new Me;return C&&(z("string"==typeof C,"internal-error",{appName:m}),Q.refreshToken=C),M&&(z("string"==typeof M,"internal-error",{appName:m}),Q.accessToken=M),N&&(z("number"==typeof N,"internal-error",{appName:m}),Q.expirationTime=N),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return ve("not implemented")}}function $e(v,m){z("string"==typeof v||typeof v>"u","internal-error",{appName:m})}class pt{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,N=(0,ce._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Ds(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,a.Z)(function*(){const C=yield yi(_,_.stsTokenManager.getToken(_.auth,m));return z(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function ni(v){return En.apply(this,arguments)}(this,m)}reload(){return function sn(v){return X.apply(this,arguments)}(this)}_assign(m){this!==m&&(z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new pt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,a.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield on(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,a.Z)(function*(){const _=yield m.getIdToken();return yield yi(m,function Da(v,m){return it.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,N,Q,fe,je,st,St;const _t=null!==(C=_.displayName)&&void 0!==C?C:void 0,Ei=null!==(M=_.email)&&void 0!==M?M:void 0,Ls=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,id=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,rd=null!==(fe=_.tenantId)&&void 0!==fe?fe:void 0,Ki=null!==(je=_._redirectEventId)&&void 0!==je?je:void 0,sp=null!==(st=_.createdAt)&&void 0!==st?st:void 0,Gc=null!==(St=_.lastLoginAt)&&void 0!==St?St:void 0,{uid:sd,emailVerified:Ov,isAnonymous:Lg,providerData:Za,stsTokenManager:Pv}=_;z(sd&&Pv,m,"internal-error");const QC=Me.fromJSON(this.name,Pv);z("string"==typeof sd,m,"internal-error"),$e(_t,m.name),$e(Ei,m.name),z("boolean"==typeof Ov,m,"internal-error"),z("boolean"==typeof Lg,m,"internal-error"),$e(Ls,m.name),$e(id,m.name),$e(rd,m.name),$e(Ki,m.name),$e(sp,m.name),$e(Gc,m.name);const Zl=new pt({uid:sd,auth:m,email:Ei,emailVerified:Ov,displayName:_t,isAnonymous:Lg,photoURL:id,phoneNumber:Ls,tenantId:rd,stsTokenManager:QC,createdAt:sp,lastLoginAt:Gc});return Za&&Array.isArray(Za)&&(Zl.providerData=Za.map(bh=>Object.assign({},bh))),Ki&&(Zl._redirectEventId=Ki),Zl}static _fromIdTokenResponse(m,_,C=!1){return(0,a.Z)(function*(){const M=new Me;M.updateFromServerResponse(_);const N=new pt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield on(N),N})()}}const an=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,a.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,a.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,a.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function li(v,m,_){return`firebase:${v}:${m}:${_}`}class $t{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=li(this.userKey,M.apiKey,N),this.fullPersistenceKey=li("persistence",M.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?pt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,a.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,a.Z)(function*(){if(!_.length)return new $t(ue(an),m,C);const M=(yield Promise.all(_.map(function(){var st=(0,a.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return st.apply(this,arguments)}}()))).filter(st=>st);let N=M[0]||ue(an);const Q=li(C,m.config.apiKey,m.name);let fe=null;for(const st of _)try{const St=yield st._get(Q);if(St){const _t=pt._fromJSON(m,St);st!==N&&(fe=_t),N=st;break}}catch{}const je=M.filter(st=>st._shouldAllowMigration);return N._shouldAllowMigration&&je.length?(N=je[0],fe&&(yield N._set(Q,fe.toJSON())),yield Promise.all(_.map(function(){var st=(0,a.Z)(function*(St){if(St!==N)try{yield St._remove(Q)}catch{}});return function(St){return st.apply(this,arguments)}}())),new $t(N,m,C)):new $t(N,m,C)})()}}function Lt(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(qi(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(An(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ke(m))return"Blackberry";if(Dt(m))return"Webos";if(ii(m))return"Safari";if((m.includes("chrome/")||os(m))&&!m.includes("edge/"))return"Chrome";if(ri(m))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function An(v=(0,B.z$)()){return/firefox\//i.test(v)}function ii(v=(0,B.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function os(v=(0,B.z$)()){return/crios\//i.test(v)}function qi(v=(0,B.z$)()){return/iemobile/i.test(v)}function ri(v=(0,B.z$)()){return/android/i.test(v)}function Ke(v=(0,B.z$)()){return/blackberry/i.test(v)}function Dt(v=(0,B.z$)()){return/webos/i.test(v)}function ln(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Mo(v=(0,B.z$)()){return ln(v)||ri(v)||Dt(v)||Ke(v)||/windows phone/i.test(v)||qi(v)}function Qs(v,m=[]){let _;switch(v){case"Browser":_=Lt((0,B.z$)());break;case"Worker":_=`${Lt((0,B.z$)())}-${v}`;break;default:_=v}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${C}`}class Ao{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=N=>new Promise((Q,fe)=>{try{Q(m(N))}catch(je){fe(je)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,a.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const N of _.queue)yield N(m),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const Q of M)try{Q()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=N)||void 0===C?void 0:C.message})}})()}}class Bt{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ko(this),this.idTokenSubscription=new ko(this),this.beforeStateQueue=new Ao(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield $t.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,a.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let N=M,Q=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const fe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,je=N?._redirectEventId,st=yield _.tryRedirectSignIn(m);(!fe||fe===je)&&st?.user&&(N=st.user,Q=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(N)}catch(fe){N=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(fe))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return z(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var _=this;return(0,a.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,a.Z)(function*(){var C;try{yield on(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Qe(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,a.Z)(function*(){const C=m?(0,B.m9)(m):null;return C&&z(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,a.Z)(function*(){if(!C._deleted)return m&&z(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,a.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,a.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&ue(m)||_._popupRedirectResolver;z(C,_,"argument-error"),_.redirectPersistenceManager=yield $t.create(_,[ue(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,a.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,a.Z)(function*(){if(m===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return z(Q,this,"internal-error"),Q.then(()=>N(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Qs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Rn(v){return(0,B.m9)(v)}class ko{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function Xs(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class Ti{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ve("not implemented")}_getIdTokenResponse(m){return ve("not implemented")}_linkToIdToken(m,_){return ve("not implemented")}_getReauthenticationResolver(m){return ve("not implemented")}}function oi(v,m){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:resetPassword",Ft(v,m))})).apply(this,arguments)}function hn(v,m){return pu.apply(this,arguments)}function pu(){return(pu=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mu(v,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:update",Ft(v,m))})).apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithPassword",Ft(v,m))})).apply(this,arguments)}function eo(v,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:sendOobCode",Ft(v,m))})).apply(this,arguments)}function bn(v,m){return gu.apply(this,arguments)}function gu(){return(gu=(0,a.Z)(function*(v,m){return eo(v,m)})).apply(this,arguments)}function bi(v,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,a.Z)(function*(v,m){return eo(v,m)})).apply(this,arguments)}function Ia(v,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(v,m){return eo(v,m)})).apply(this,arguments)}function _u(v,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(v,m){return eo(v,m)})).apply(this,arguments)}function zd(){return(zd=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,m))})).apply(this,arguments)}function yu(){return(yu=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,m))})).apply(this,arguments)}class vu extends Ti{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new vu(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new vu(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function ml(v,m){return Oo.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Of(v,m){return zd.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:ke(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return hn(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function $d(v,m){return yu.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:ke(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ui(v,m){return qd.apply(this,arguments)}function qd(){return(qd=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithIdp",Ft(v,m))})).apply(this,arguments)}class Is extends Ti{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Is(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):ke("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,N=(0,ce._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const Q=new Is(C,M);return Q.idToken=N.idToken||void 0,Q.accessToken=N.accessToken||void 0,Q.secret=N.secret,Q.nonce=N.nonce,Q.pendingToken=N.pendingToken||null,Q}_getIdTokenResponse(m){return ui(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,ui(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,ui(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,B.xO)(_)}return m}}function lg(v,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:sendVerificationCode",Ft(v,m))})).apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,m))})).apply(this,arguments)}function Zd(){return(Zd=(0,a.Z)(function*(v,m){const _=yield sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,m));if(_.temporaryProof)throw vr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ug={USER_NOT_FOUND:"user-not-found"};function Wd(){return(Wd=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ug)})).apply(this,arguments)}class no extends Ti{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new no({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new no({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function wu(v,m){return to.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function cg(v,m){return Zd.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function dg(v,m){return Wd.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}=m;return C||_||M||N?new no({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class cc{constructor(m){var _,C,M,N,Q,fe;const je=(0,B.zd)((0,B.pd)(m)),st=null!==(_=je.apiKey)&&void 0!==_?_:null,St=null!==(C=je.oobCode)&&void 0!==C?C:null,_t=function Yd(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=je.mode)&&void 0!==M?M:null);z(st&&St&&_t,"argument-error"),this.apiKey=st,this.operation=_t,this.code=St,this.continueUrl=null!==(N=je.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Q=je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(fe=je.tenantId)&&void 0!==fe?fe:null}static parseLink(m){const _=function Kd(v){const m=(0,B.zd)((0,B.pd)(v)).link,_=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||m||v}(m);try{return new cc(_)}catch{return null}}}let ls=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return vu._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=cc.parseLink(C);return z(M,"argument-error"),vu._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ss{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ts extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class No extends Ts{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return z("providerId"in _&&"signInMethod"in _,"argument-error"),Is._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return z(m.idToken||m.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return No.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return No.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:Q,providerId:fe}=m;if(!C&&!M&&!_&&!N||!fe)return null;try{return new No(fe)._credential({idToken:_,accessToken:C,nonce:Q,pendingToken:N})}catch{return null}}}let gl=(()=>{class v extends Ts{constructor(){super("facebook.com")}static credential(_){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),uc=(()=>{class v extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return v.credential(C,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Cu=(()=>{class v extends Ts{constructor(){super("github.com")}static credential(_){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class xi extends Ti{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return ui(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,ui(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,ui(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:N}=_;return C&&M&&N&&C===M?new xi(C,N):null}static _create(m,_){return new xi(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cr extends Ss{constructor(m){z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Cr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Cr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=xi.fromJSON(m);return z(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return xi._create(C,_)}catch{return null}}}let cr=(()=>{class v extends Ts{constructor(){super("twitter.com")}static credential(_,C){return Is._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return v.credential(C,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Sa(v,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signUp",Ft(v,m))})).apply(this,arguments)}class Mi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,a.Z)(function*(){const N=yield pt._fromIdTokenResponse(m,C,M),Q=Ff(C);return new Mi({user:N,providerId:Q,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Ff(C);return new Mi({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Ff(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Un(){return(Un=(0,a.Z)(function*(v){var m;const _=Rn(v);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Mi({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Sa(_,{returnSecureToken:!0}),M=yield Mi._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class dc extends B.ZR{constructor(m,_,C,M){var N;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new dc(m,_,C,M)}}function Bf(v,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?dc._fromErrorAndOperation(v,N,m,C):N})}function Er(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function hc(){return(hc=(0,a.Z)(function*(v,m){const _=(0,B.m9)(v);yield Xt(!0,_,m);const{providerUserInfo:C}=yield ar(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Er(C||[]);return _.providerData=_.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Fo(v,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(v,m,_=!1){const C=yield yi(v,m._linkToIdToken(v.auth,yield v.getIdToken()),_);return Mi._forOperation(v,"link",C)})).apply(this,arguments)}function Xt(v,m,_){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(v,m,_){yield on(m);const M=!1===v?"provider-already-linked":"no-such-provider";z(Er(m.providerData).has(_)===v,m.auth,M)})).apply(this,arguments)}function Lo(v,m){return fc.apply(this,arguments)}function fc(){return(fc=(0,a.Z)(function*(v,m,_=!1){var C;const{auth:M}=v,N="reauthenticate";try{const Q=yield yi(v,Bf(M,N,m,v),_);z(Q.idToken,M,"internal-error");const fe=ft(Q.idToken);z(fe,M,"internal-error");const{sub:je}=fe;return z(v.uid===je,M,"user-mismatch"),Mi._forOperation(v,N,Q)}catch(Q){throw"auth/user-not-found"===(null===(C=Q)||void 0===C?void 0:C.code)&&ke(M,"user-mismatch"),Q}})).apply(this,arguments)}function Hr(v,m){return pc.apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(v,m,_=!1){const C="signIn",M=yield Bf(v,C,m),N=yield Mi._fromIdTokenResponse(v,C,M);return _||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Fn(v,m){return At.apply(this,arguments)}function At(){return(At=(0,a.Z)(function*(v,m){return Hr(Rn(v),m)})).apply(this,arguments)}function mc(v,m){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,a.Z)(function*(v,m){const _=(0,B.m9)(v);return yield Xt(!1,_,m.providerId),Fo(_,m)})).apply(this,arguments)}function gc(v,m){return _c.apply(this,arguments)}function _c(){return(_c=(0,a.Z)(function*(v,m){return Lo((0,B.m9)(v),m)})).apply(this,arguments)}function Du(v,m){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(v,m){return sr(v,"POST","/v1/accounts:signInWithCustomToken",Ft(v,m))})).apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(v,m){const _=Rn(v),C=yield Du(_,{token:m,returnSecureToken:!0}),M=yield Mi._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ae{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?qt._fromServerResponse(m,_):ke(m,"internal-error")}}class qt extends Ae{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new qt(_)}}function yc(v,m,_){var C;z((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),z(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(z(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(z(_.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Hn(){return(Hn=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v),M={requestType:"PASSWORD_RESET",email:m};_&&yc(C,M,_),yield bi(C,M)})).apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(v,m,_){yield oi((0,B.m9)(v),{oobCode:m,newPassword:_})})).apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(v,m){yield mu((0,B.m9)(v),{oobCode:m})})).apply(this,arguments)}function bl(v,m){return Su.apply(this,arguments)}function Su(){return(Su=(0,a.Z)(function*(v,m){const _=(0,B.m9)(v),C=yield oi(_,{oobCode:m}),M=C.requestType;switch(z(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(C.mfaInfo,_,"internal-error");default:z(C.email,_,"internal-error")}let N=null;return C.mfaInfo&&(N=Ae._fromServerResponse(Rn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Qd(){return(Qd=(0,a.Z)(function*(v,m){const{data:_}=yield bl((0,B.m9)(v),m);return _.email})).apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(v,m,_){const C=Rn(v),M=yield Sa(C,{returnSecureToken:!0,email:m,password:_}),N=yield Mi._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v),M={requestType:"EMAIL_SIGNIN",email:m};z(_.handleCodeInApp,C,"argument-error"),_&&yc(C,M,_),yield Ia(C,M)})).apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v),M=ls.credentialWithLink(m,_||Fe());return z(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Fn(C,M)})).apply(this,arguments)}function fg(v,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:createAuthUri",Ft(v,m))})).apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(v,m){const C={identifier:m,continueUri:yt()?Fe():"http://localhost"},{signinMethods:M}=yield fg((0,B.m9)(v),C);return M||[]})).apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(v,m){const _=(0,B.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&yc(_.auth,M,m);const{email:N}=yield bn(_.auth,M);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Cc(){return(Cc=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};_&&yc(C.auth,N,_);const{email:Q}=yield _u(C.auth,N);Q!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ec(v,m){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,a.Z)(function*(v,m){return dn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Pu(){return(Pu=(0,a.Z)(function*(v,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,B.m9)(v),N={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Q=yield yi(C,Ec(C.auth,N));C.displayName=Q.displayName||null,C.photoURL=Q.photoUrl||null;const fe=C.providerData.find(({providerId:je})=>"password"===je);fe&&(fe.displayName=C.displayName,fe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Q)})).apply(this,arguments)}function Ho(v,m,_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(v,m,_){const{auth:C}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(N.email=m),_&&(N.password=_);const Q=yield yi(v,hn(C,N));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class ur{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Tn extends ur{constructor(m,_,C,M){super(m,_,C),this.username=M}}class Nu extends ur{constructor(m,_){super(m,"facebook.com",_)}}class Fu extends Tn{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Uf extends ur{constructor(m,_){super(m,"google.com",_)}}class Lu extends Tn{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Ic(v){const{user:m,_tokenResponse:_}=v;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function di(v){var m,_;if(!v)return null;const{providerId:C}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const Q=null===(_=null===(m=ft(v.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new ur(N,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!C)return null;switch(C){case"facebook.com":return new Nu(N,M);case"github.com":return new Fu(N,M);case"google.com":return new Uf(N,M);case"twitter.com":return new Lu(N,M,v.screenName||null);case"custom":case"anonymous":return new ur(N,null);default:return new ur(N,C,M)}}(_)}class jo{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new jo("enroll",m)}static _fromMfaPendingCredential(m){return new jo("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return jo._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return jo._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Sc{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Rn(m),M=_.customData._serverResponse,N=(M.mfaInfo||[]).map(fe=>Ae._fromServerResponse(C,fe));z(M.mfaPendingCredential,C,"internal-error");const Q=jo._fromMfaPendingCredential(M.mfaPendingCredential);return new Sc(Q,N,function(){var fe=(0,a.Z)(function*(je){const st=yield je._process(C,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const St=Object.assign(Object.assign({},M),{idToken:st.idToken,refreshToken:st.refreshToken});switch(_.operationType){case"signIn":const _t=yield Mi._fromIdTokenResponse(C,_.operationType,St);return yield C._updateCurrentUser(_t.user),_t;case"reauthenticate":return z(_.user,C,"internal-error"),Mi._forOperation(_.user,_.operationType,St);default:ke(C,"internal-error")}});return function(je){return fe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,a.Z)(function*(){return _.signInResolver(m)})()}}function Tc(v,m){return dn(v,"POST","/v2/accounts/mfaEnrollment:start",Ft(v,m))}class Hf{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Ae._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Hf(m)}getSession(){var m=this;return(0,a.Z)(function*(){return jo._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,a.Z)(function*(){const M=m,N=yield C.getSession(),Q=yield yi(C.user,M._process(C.user.auth,N,_));return yield C.user._updateTokensIfNecessary(Q),C.user.reload()})()}unenroll(m){var _=this;return(0,a.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,N=yield _.user.getIdToken(),Q=yield yi(_.user,function nh(v,m){return dn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(v,m))}(_.user.auth,{idToken:N,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:fe})=>fe!==M),yield _.user._updateTokensIfNecessary(Q);try{yield _.user.reload()}catch(fe){if("auth/user-token-expired"!==(null===(C=fe)||void 0===C?void 0:C.code))throw fe}})()}}const Go=new WeakMap,zo="__sak";class Mc{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(zo,"1"),this.storage.removeItem(zo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Il=(()=>{class v extends Mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dl(){const v=(0,B.z$)();return ii(v)||ln(v)}()&&function kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&_(C,N,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((fe,je,st)=>{this.notifyListeners(fe,st)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(M);if(_.newValue!==fe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const N=()=>{const fe=this.storage.getItem(M);!C&&this.localCache[M]===fe||this.notifyListeners(M,fe)},Q=this.storage.getItem(M);!function ci(){return(0,B.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,N=this;return(0,a.Z)(function*(){yield M().call(N,_,C),N.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,a.Z)(function*(){const N=yield C().call(M,_);return M.localCache[_]=JSON.stringify(N),N})()}_remove(_){var C=()=>super._remove,M=this;return(0,a.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),us=(()=>{class v extends Mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let sh=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(N=>N.isListeningto(_));if(C)return C;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,a.Z)(function*(){const M=_,{eventId:N,eventType:Q,data:fe}=M.data,je=C.handlersMap[Q];if(!je?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:Q});const st=Array.from(je).map(function(){var _t=(0,a.Z)(function*(Ei){return Ei(M.origin,fe)});return function(Ei){return _t.apply(this,arguments)}}()),St=yield function Tl(v){return Promise.all(v.map(function(){var m=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(st);M.ports[0].postMessage({status:"done",eventId:N,eventType:Q,response:St})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function xl(v="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return v+_}class Vu{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,a.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Q,fe;return new Promise((je,st)=>{const St=xl("",20);N.port1.start();const _t=setTimeout(()=>{st(new Error("unsupported_event"))},C);fe={messageChannel:N,onMessage(Ei){const Ls=Ei;if(Ls.data.eventId===St)switch(Ls.data.status){case"ack":clearTimeout(_t),Q=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),je(Ls.data.response);break;default:clearTimeout(_t),clearTimeout(Q),st(new Error("invalid_response"))}}},M.handlers.add(fe),N.port1.addEventListener("message",fe.onMessage),M.target.postMessage({eventType:m,eventId:St,data:_},[N.port2])}).finally(()=>{fe&&M.removeMessageHandler(fe)})})()}}function Kn(){return window}function Ac(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function Ml(){return(Ml=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const so="firebaseLocalStorageDb",oo="firebaseLocalStorage",Oc="fbase_key";class qo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Al(v,m){return v.transaction([oo],m?"readwrite":"readonly").objectStore(oo)}function Ra(){const v=indexedDB.open(so,1);return new Promise((m,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(oo,{keyPath:Oc})}catch(M){_(M)}}),v.addEventListener("success",(0,a.Z)(function*(){const C=v.result;C.objectStoreNames.contains(oo)?m(C):(C.close(),yield function ah(){const v=indexedDB.deleteDatabase(so);return new qo(v).toPromise()}(),m(yield Ra()))}))})}function Rs(v,m,_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,a.Z)(function*(v,m,_){const C=Al(v,!0).put({[Oc]:m,value:_});return new qo(C).toPromise()})).apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(v,m){const _=Al(v,!1).get(m),C=yield new qo(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Zo(v,m){const _=Al(v,!0).delete(m);return new qo(_).toPromise()}const Oa=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield Ra()),_.db})()}_withRetries(_){var C=this;return(0,a.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield _(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return Ac()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=sh._getInstance(function Rc(){return Ac()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,a.Z)(function*(M,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,a.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function $o(){return Ml.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Vu(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,a.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function kc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Ra();return yield Rs(_,zo,"1"),yield Zo(_,zo),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,a.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(N=>Rs(N,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,a.Z)(function*(){const M=yield C._withRetries(N=>function Pc(v,m){return kl.apply(this,arguments)}(N,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,a.Z)(function*(){return C._withPendingWrite((0,a.Z)(function*(){return yield C._withRetries(M=>Zo(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const C=yield _._withRetries(Q=>{const fe=Al(Q,!1).getAll();return new qo(fe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:Q,value:fe}of C)N.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(fe)&&(_.notifyListeners(Q,fe),M.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!N.has(Q)&&(_.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Pa(v,m){return dn(v,"POST","/v2/accounts/mfaSignIn:start",Ft(v,m))}function ao(){return(ao=(0,a.Z)(function*(v){return(yield dn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fa(v){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=m,C.onerror=M=>{const N=Ce("internal-error");N.customData=M,_(N)},C.type="text/javascript",C.charset="UTF-8",function Na(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(C)})}function Lc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Rl=1e12;class In{constructor(m){this.auth=m,this.counter=Rl,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new pg(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||Rl;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Rl))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,a.Z)(function*(){var C;return null===(C=_._widgets.get(m||Rl))||void 0===C||C.execute(),""})()}}class pg{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;z(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hv(v){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mg=Lc("rcb"),fv=new _n(3e4,6e4);class jf{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Kn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return z(function qC(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Kn().grecaptcha):new Promise((C,M)=>{const N=Kn().setTimeout(()=>{M(Ce(m,"network-request-failed"))},fv.get());Kn()[mg]=()=>{Kn().clearTimeout(N),delete Kn()[mg];const fe=Kn().grecaptcha;if(!fe)return void M(Ce(m,"internal-error"));const je=fe.render;fe.render=(st,St)=>{const _t=je(st,St);return this.counter++,_t},this.hostLanguage=_,C(fe)},Fa(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:mg,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),M(Ce(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Kn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ba{load(m){return(0,a.Z)(function*(){return new In(m)})()}clearedOneInstance(){}}const gg="recaptcha",_g={theme:"light",type:"image"};class Ci{constructor(m,_=Object.assign({},_g),C){this.parameters=_,this.type=gg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(C),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;z(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ba:new jf,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(N=>{const Q=fe=>{!fe||(m.tokenChangeListeners.delete(Q),N(fe))};m.tokenChangeListeners.add(Q),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Kn()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){z(yt()&&!Ac(),m.auth,"internal-error"),yield function tn(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function dr(v){return ao.apply(this,arguments)}(m.auth);z(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ir{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=no._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function wt(){return(wt=(0,a.Z)(function*(v,m,_){const C=Rn(v),M=yield lo(C,m,(0,B.m9)(_));return new Ir(M,N=>Fn(C,N))})).apply(this,arguments)}function Gr(){return(Gr=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v);yield Xt(!1,C,"phone");const M=yield lo(C.auth,m,(0,B.m9)(_));return new Ir(M,N=>mc(C,N))})).apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v),M=yield lo(C.auth,m,(0,B.m9)(_));return new Ir(M,N=>gc(C,N))})).apply(this,arguments)}function lo(v,m,_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,a.Z)(function*(v,m,_){var C;const M=yield _.verify();try{let N;if(z("string"==typeof M,v,"argument-error"),z(_.type===gg,v,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const Q=N.session;if("phoneNumber"in N)return z("enroll"===Q.type,v,"internal-error"),(yield Tc(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{z("signin"===Q.type,v,"internal-error");const fe=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return z(fe,v,"missing-multi-factor-info"),(yield Pa(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield lg(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return Q}}finally{_._reset()}})).apply(this,arguments)}function ju(){return(ju=(0,a.Z)(function*(v,m){yield Fo((0,B.m9)(v),m)})).apply(this,arguments)}let Pl=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Rn(_)}verifyPhoneNumber(_,C){return lo(this.auth,_,(0,B.m9)(C))}static credential(_,C){return no._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?no._fromTokenResponse(C,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Yo(v,m){return m?ue(m):(z(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ps extends Ti{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ui(m,this._buildIdpRequest())}_linkToIdToken(m,_){return ui(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return ui(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function qe(v){return Hr(v.auth,new Ps(v),v.bypassAuthState)}function Nl(v){const{auth:m,user:_}=v;return z(_,m,"internal-error"),Lo(_,new Ps(v),v.bypassAuthState)}function co(v){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(v){const{auth:m,user:_}=v;return z(_,m,"internal-error"),Fo(_,new Ps(v),v.bypassAuthState)})).apply(this,arguments)}class Ua{constructor(m,_,C,M,N=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,a.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,a.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:Q,error:fe,type:je}=m;if(fe)return void _.reject(fe);const st={auth:_.auth,requestUri:C,sessionId:M,tenantId:Q||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(je)(st))}catch(St){_.reject(St)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return qe;case"linkViaPopup":case"linkViaRedirect":return co;case"reauthViaPopup":case"reauthViaRedirect":return Nl;default:ke(this.auth,"internal-error")}}resolve(m){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wn=new _n(2e3,1e4);function uo(){return(uo=(0,a.Z)(function*(v,m,_){const C=Rn(v);ze(v,m,Ss);const M=Yo(C,_);return new ds(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function zu(){return(zu=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v);ze(C.auth,m,Ss);const M=Yo(C.auth,_);return new ds(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v);ze(C.auth,m,Ss);const M=Yo(C.auth,_);return new ds(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let ds=(()=>{class v extends Ua{constructor(_,C,M,N,Q){super(_,C,N,Q),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const C=yield _.execute();return z(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,a.Z)(function*(){J(1===_.filter.length,"Popup operations only handle one event");const C=xl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,wn.get())};_()}}return v.currentPopupAction=null,v})();const hr=new Map;class $u extends Ua{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,a.Z)(function*(){let C=hr.get(_.auth._key());if(!C){try{const N=(yield function Li(v,m){return Yi.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}hr.set(_.auth._key(),C)}return _.bypassAuthState||hr.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Yi(){return(Yi=(0,a.Z)(function*(v,m){const _=xn(m),C=Ns(v);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function hs(v,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(v,m){return Ns(v)._set(xn(m),"true")})).apply(this,arguments)}function ho(v,m){hr.set(v._key(),m)}function Ns(v){return ue(v._redirectPersistence)}function xn(v){return li("pendingRedirect",v.config.apiKey,v.name)}function S(){return(S=(0,a.Z)(function*(v,m,_){const C=Rn(v);ze(v,m,Ss);const M=Yo(C,_);return yield hs(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v);ze(C.auth,m,Ss);const M=Yo(C.auth,_);yield hs(M,C.auth);const N=yield gt(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(v,m,_){const C=(0,B.m9)(v);ze(C.auth,m,Ss);const M=Yo(C.auth,_);yield Xt(!1,C,m.providerId),yield hs(M,C.auth);const N=yield gt(C);return M._openRedirect(C.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(v,m){return yield Rn(v)._initializationPromise,It(v,m,!1)})).apply(this,arguments)}function It(v,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(v,m,_=!1){const C=Rn(v),M=Yo(C,m),Q=yield new $u(C,M,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield C._persistUserIfCurrent(Q.user),yield C._setRedirectUser(null,m)),Q})).apply(this,arguments)}function gt(v){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(v){const m=xl(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class Ko{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ps(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kt(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!kt(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Ce(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fs(m))}saveEventToCache(m){this.cachedEventUids.add(fs(m)),this.lastProcessedEventTime=Date.now()}}function fs(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function kt({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===m?.code}function fo(v){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(v,m={}){return dn(v,"GET","/v1/projects",m)})).apply(this,arguments)}const Ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qo=/^https?/;function Gf(){return(Gf=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield fo(v);for(const _ of m)try{if(bg(_))return}catch{}ke(v,"unauthorized-domain")})).apply(this,arguments)}function bg(v){const m=Fe(),{protocol:_,hostname:C}=new URL(m);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===C}if(!Qo.test(_))return!1;if(Ha.test(v))return C===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const wg=new _n(3e4,6e4);function mv(){const v=Kn().___jsl;if(v?.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let ms=null;function zf(v){return ms=ms||function hi(v){return new Promise((m,_)=>{var C,M,N;function Q(){mv(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{mv(),_(Ce(v,"network-request-failed"))},timeout:wg.get()})}if(null!==(M=null===(C=Kn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(N=Kn().gapi)||void 0===N||!N.load){const fe=Lc("iframefcb");return Kn()[fe]=()=>{gapi.load?Q():_(Ce(v,"network-request-failed"))},Fa(`https://apis.google.com/js/api.js?onload=${fe}`).catch(je=>_(je))}Q()}}).catch(m=>{throw ms=null,m})}(v),ms}const Cg=new _n(5e3,15e3),gv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eg(v){const m=v.config;z(m.authDomain,v,"auth-domain-config-required");const _=m.emulator?Zn(m,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:v.name,v:de.SDK_VERSION},M=qf.get(v.config.apiHost);M&&(C.eid=M);const N=v._getFrameworks();return N.length&&(C.fw=N.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function Ll(){return Ll=(0,a.Z)(function*(v){const m=yield zf(v),_=Kn().gapi;return z(_,v,"internal-error"),m.open({where:document.body,url:Eg(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gv,dontclear:!0},C=>new Promise(function(){var M=(0,a.Z)(function*(N,Q){yield C.restyle({setHideOnLeave:!1});const fe=Ce(v,"network-request-failed"),je=Kn().setTimeout(()=>{Q(fe)},Cg.get());function st(){Kn().clearTimeout(je),N(C)}C.ping(st).then(st,()=>{Q(fe)})});return function(N,Q){return M.apply(this,arguments)}}()))}),Ll.apply(this,arguments)}const lh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ea(v,m,_,C,M,N){z(v.config.authDomain,v,"auth-domain-config-required"),z(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:de.SDK_VERSION,eventId:M};if(m instanceof Ss){m.setDefaultLanguage(v.languageCode),Q.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(Q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[je,st]of Object.entries(N||{}))Q[je]=st}if(m instanceof Ts){const je=m.getScopes().filter(st=>""!==st);je.length>0&&(Q.scopes=je.join(","))}v.tenantId&&(Q.tid=v.tenantId);const fe=Q;for(const je of Object.keys(fe))void 0===fe[je]&&delete fe[je];return`${function dh({config:v}){return v.emulator?Zn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(fe).slice(1)}`}const Vl="webStorageSupport";class $r extends class _v{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new $r(m)}_finalizeEnroll(m,_,C){return function xc(v,m){return dn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(v,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Fc(v,m){return dn(v,"POST","/v2/accounts/mfaSignIn:finalize",Ft(v,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ta=(()=>{class v{constructor(){}static assertion(_){return $r._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Wf="@firebase/auth";class yv{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ja(){return window}function Qf(){return(Qf=(0,a.Z)(function*(v,m,_){var C;const{BuildInfo:M}=ja();J(m.sessionId,"AuthEvent did not contain a session ID");const N=yield Dv(m.sessionId),Q={};return ln()?Q.ibi=M.packageName:ri()?Q.apn=M.packageName:ke(v,"operation-not-supported-in-this-environment"),M.displayName&&(Q.appDisplayName=M.displayName),Q.sessionId=N,ea(v,_,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,Q)})).apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(v){const{BuildInfo:m}=ja(),_={};ln()?_.iosBundleId=m.packageName:ri()?_.androidPackageName=m.packageName:ke(v,"operation-not-supported-in-this-environment"),yield fo(v,_)})).apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(v,m,_){const{cordova:C}=ja();let M=()=>{};try{yield new Promise((N,Q)=>{let fe=null;function je(){var _t;N();const Ei=null===(_t=C.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof Ei&&Ei(),"function"==typeof _?.close&&_.close()}function st(){fe||(fe=window.setTimeout(()=>{Q(Ce(v,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===document?.visibilityState&&st()}m.addPassiveListener(je),document.addEventListener("resume",st,!1),ri()&&document.addEventListener("visibilitychange",St,!1),M=()=>{m.removePassiveListener(je),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",St,!1),fe&&window.clearTimeout(fe)}})}finally{M()}})).apply(this,arguments)}function Dv(v){return fh.apply(this,arguments)}function fh(){return(fh=(0,a.Z)(function*(v){const m=WC(v),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function WC(v){if(J(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const m=new ArrayBuffer(v.length),_=new Uint8Array(m);for(let C=0;C<v.length;C++)_[C]=v.charCodeAt(C);return _}!function bv(v){(0,de._registerComponent)(new re.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:N,authDomain:Q}=C.options;return((fe,je)=>{z(N&&!N.includes(":"),"invalid-api-key",{appName:fe.name}),z(!Q?.includes(":"),"argument-error",{appName:fe.name});const st={apiKey:N,authDomain:Q,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qs(v)},St=new Bt(fe,je,st);return function Be(v,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(ue);m?.errorMap&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(C,m?.popupRedirectResolver)}(St,_),St})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new re.wA("auth-internal",m=>{const _=Rn(m.getProvider("auth").getImmediate());return new yv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Wf,"0.20.6",function vv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,de.registerVersion)(Wf,"0.20.6","esm2017")}("Browser");class ph extends Ko{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,a.Z)(function*(){yield m.initPromise})()}}function Yu(v){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,a.Z)(function*(v){const m=yield Jf()._get(ep(v));return m&&(yield Jf()._remove(ep(v))),m})).apply(this,arguments)}function Hl(){const v=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*m.length);v.push(m.charAt(C))}return v.join("")}function Jf(){return ue(Il)}function ep(v){return li("authEvent",v.config.apiKey,v.name)}function jl(v){if(!v?.includes("?"))return{};const[m,..._]=v.split("?");return(0,B.zd)(_.join("?"))}function Mg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function gs(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function tp(v=(0,B.z$)()){return!("file:"!==gs()&&"ionic:"!==gs()&&"capacitor:"!==gs()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Av(){try{const v=self.localStorage,m=xl();if(v)return v.setItem(m,"1"),v.removeItem(m),!function KC(v=(0,B.z$)()){return function xv(){return(0,B.w1)()&&11===document?.documentMode}()||function Mv(v=(0,B.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,B.hl)()}catch{return Gl()&&(0,B.hl)()}return!1}function Gl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xu(){return(function mh(){return"http:"===gs()||"https:"===gs()}()||(0,B.ru)()||tp())&&!function Tv(){return(0,B.b$)()||(0,B.UG)()}()&&Av()&&!Gl()}function np(){return tp()&&typeof document<"u"}function gh(){return(gh=(0,a.Z)(function*(){return!!np()&&new Promise(v=>{const m=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),v(!0)})})})).apply(this,arguments)}const fr={LOCAL:"local",NONE:"none",SESSION:"session"},Uc=z,Ju="persistence";function ed(v){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,a.Z)(function*(v){yield v._initializationPromise;const m=_h(),_=li(Ju,v.config.apiKey,v.name);m&&m.setItem(_,v._getPersistence())})).apply(this,arguments)}function _h(){var v;try{return(null===(v=function kv(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const $a=z;class qa{constructor(){this.browserResolver=ue(class Sg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=It,this._overrideRedirectResult=ho}_openPopup(m,_,C,M){var N=this;return(0,a.Z)(function*(){var Q;J(null===(Q=N.eventManagers[m._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const fe=ea(m,_,C,Fe(),M);return function Jo(v,m,_,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-C)/2,0).toString();let fe="";const je=Object.assign(Object.assign({},lh),{width:C.toString(),height:M.toString(),top:N,left:Q}),st=(0,B.z$)().toLowerCase();_&&(fe=os(st)?"_blank":_),An(st)&&(m=m||"http://localhost",je.scrollbars="yes");const St=Object.entries(je).reduce((Ei,[Ls,id])=>`${Ei}${Ls}=${id},`,"");if(function Vr(v=(0,B.z$)()){var m;return ln(v)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(st)&&"_self"!==fe)return function Ig(v,m){const _=document.createElement("a");_.href=v,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",fe),new qu(null);const _t=window.open(m||"",fe,St);z(_t,v,"popup-blocked");try{_t.focus()}catch{}return new qu(_t)}(m,fe,xl())})()}_openRedirect(m,_,C,M){var N=this;return(0,a.Z)(function*(){return yield N._originValidation(m),function jr(v){Kn().location.href=v}(ea(m,_,C,Fe(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:N}=this.eventManagers[_];return M?Promise.resolve(M):(J(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,a.Z)(function*(){const C=yield function Dg(v){return Ll.apply(this,arguments)}(m),M=new Ko(m);return C.register("authEvent",N=>(z(N?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Vl,{type:Vl},M=>{var N;const Q=null===(N=M?.[0])||void 0===N?void 0:N[Vl];void 0!==Q&&_(!!Q),ke(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function zr(v){return Gf.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Mo()||ii()||ln()}}),this.cordovaResolver=ue(class xg{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=It,this._overrideRedirectResult=ho}_initialize(m){var _=this;return(0,a.Z)(function*(){const C=m._key();let M=_.eventManagers.get(C);return M||(M=new ph(m),_.eventManagers.set(C,M),_.attachCallbackListeners(m,M)),M})()}_openPopup(m){ke(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,C,M){var N=this;return(0,a.Z)(function*(){!function hh(v){var m,_,C,M,N,Q,fe,je,st,St;const _t=ja();z("function"==typeof(null===(m=_t?.universalLinks)||void 0===m?void 0:m.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(_=_t?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(N=null===(M=null===(C=_t?.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(je=null===(fe=null===(Q=_t?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===je?void 0:je.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(St=null===(st=_t?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===St?void 0:St.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Q=yield N._initialize(m);yield Q.initialized(),Q.resetRedirect(),function Ln(){hr.clear()}(),yield N._originValidation(m);const fe=function Ul(v,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Hl(),postBody:null,tenantId:v.tenantId,error:Ce(v,"no-auth-event")}}(m,C,M);yield function Ga(v,m){return Jf()._set(ep(v),m)}(m,fe);const je=yield function Cv(v,m,_){return Qf.apply(this,arguments)}(m,fe,_),st=yield function Wu(v){const{cordova:m}=ja();return new Promise(_=>{m.plugins.browsertab.isAvailable(C=>{let M=null;C?m.plugins.browsertab.openUrl(v):M=m.InAppBrowser.open(v,function wr(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(M)})})}(je);return function po(v,m,_){return qr.apply(this,arguments)}(m,Q,st)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ev(v){return na.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:C,handleOpenURL:M,BuildInfo:N}=ja(),Q=setTimeout((0,a.Z)(function*(){yield Yu(m),_.onEvent(Mg())}),500),fe=function(){var St=(0,a.Z)(function*(_t){clearTimeout(Q);const Ei=yield Yu(m);let Ls=null;Ei&&_t?.url&&(Ls=function Iv(v,m){var _,C;const M=function Sv(v){const m=jl(v),_=m.link?decodeURIComponent(m.link):void 0,C=jl(_).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return jl(M).link||M||C||_||v}(m);if(M.includes("/__/auth/callback")){const N=jl(M),Q=N.firebaseError?function Tg(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,fe=null===(C=null===(_=Q?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],je=fe?Ce(fe):null;return je?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:M,postBody:null}}return null}(Ei,_t.url)),_.onEvent(Ls||Mg())});return function(Ei){return St.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,fe);const je=M,st=`${N.packageName.toLowerCase()}://`;ja().handleOpenURL=function(){var St=(0,a.Z)(function*(_t){if(_t.toLowerCase().startsWith(st)&&fe({url:_t}),"function"==typeof je)try{je(_t)}catch(Ei){console.error(Ei)}});return function(_t){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=It,this._overrideRedirectResult=ho}_initialize(m){var _=this;return(0,a.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,C,M){var N=this;return(0,a.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(m,_,C,M)})()}_openRedirect(m,_,C,M){var N=this;return(0,a.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(m,_,C,M)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return np()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $a(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,a.Z)(function*(){if(m.underlyingResolver)return;const _=yield function kg(){return gh.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function Fs(v){return v.unwrap()}function Rv(v){return jc(v)}function jc(v){const{_tokenResponse:m}=v instanceof B.ZR?v.customData:v;if(!m)return null;if(!(v instanceof B.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Pl.credentialFromResult(v);const _=m.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=uc;break;case"facebook.com":C=gl;break;case"github.com":C=Cu;break;case"twitter.com":C=cr;break;default:const{oauthIdToken:M,oauthAccessToken:N,oauthTokenSecret:Q,pendingToken:fe,nonce:je}=m;return N||Q||M||fe?fe?_.startsWith("saml.")?xi._create(_,fe):Is._fromParams({providerId:_,signInMethod:_,pendingToken:fe,idToken:M,accessToken:N}):new No(_).credential({idToken:M,accessToken:N,rawNonce:je}):null}return v instanceof B.ZR?C.credentialFromError(v):C.credentialFromResult(v)}function Jn(v,m){return m.catch(_=>{throw _ instanceof B.ZR&&function Hc(v,m){var _,C;const M=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=m)||void 0===C?void 0:C.code))m.resolver=new ip(v,function Gn(v,m){var _;const C=(0,B.m9)(v),M=m;return z(m.customData.operationType,C,"argument-error"),z(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Sc._fromError(C,M)}(v,m));else if(M){const N=jc(m),Q=m;N&&(Q.credential=N,Q.tenantId=M.tenantId||void 0,Q.email=M.email||void 0,Q.phoneNumber=M.phoneNumber||void 0)}}(v,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:Rv(_),additionalUserInfo:Ic(_),user:ra.getOrCreate(M)}})}function nd(v,m){return $l.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(v,m){const _=yield m;return{verificationId:_.verificationId,confirm:C=>Jn(v,_.confirm(C))}})).apply(this,arguments)}class ip{constructor(m,_){this.resolver=_,this.auth=function td(v){return v.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Jn(Fs(this.auth),this.resolver.resolveSignIn(m))}}class ra{constructor(m){this._delegate=m,this.multiFactor=function ka(v){const m=(0,B.m9)(v);return Go.has(m)||Go.set(m,Hf._fromUser(m)),Go.get(m)}(m)}static getOrCreate(m){return ra.USER_MAP.has(m)||ra.USER_MAP.set(m,new ra(m)),ra.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,a.Z)(function*(){return Jn(_.auth,mc(_._delegate,m))})()}linkWithPhoneNumber(m,_){var C=this;return(0,a.Z)(function*(){return nd(C.auth,function Sn(v,m,_){return Gr.apply(this,arguments)}(C._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,a.Z)(function*(){return Jn(_.auth,function Vc(v,m,_){return Fl.apply(this,arguments)}(_._delegate,m,qa))})()}linkWithRedirect(m){var _=this;return(0,a.Z)(function*(){return yield ed(Rn(_.auth)),function te(v,m,_){return function le(v,m,_){return Ie.apply(this,arguments)}(v,m,_)}(_._delegate,m,qa)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,a.Z)(function*(){return Jn(_.auth,gc(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return nd(this.auth,function Ol(v,m,_){return On.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Jn(this.auth,function vg(v,m,_){return zu.apply(this,arguments)}(this._delegate,m,qa))}reauthenticateWithRedirect(m){var _=this;return(0,a.Z)(function*(){return yield ed(Rn(_.auth)),function T(v,m,_){return function R(v,m,_){return H.apply(this,arguments)}(v,m,_)}(_._delegate,m,qa)})()}sendEmailVerification(m){return function Au(v,m){return El.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,a.Z)(function*(){return yield function Wi(v,m){return hc.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function Xd(v,m){return Ho((0,B.m9)(v),m,null)}(this._delegate,m)}updatePassword(m){return function Uo(v,m){return Ho((0,B.m9)(v),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function yg(v,m){return ju.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Ou(v,m){return Pu.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function ku(v,m,_){return Cc.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ra.USER_MAP=new WeakMap;const mo=z;let ql=(()=>{class v{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;mo(M,"invalid-api-key",{appName:_.name}),mo(M,"invalid-api-key",{appName:_.name});const N=typeof window<"u"?qa:void 0;this._delegate=C.initialize({options:{persistence:rp(M,_.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ra.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function fu(v,m,_){const C=Rn(v);z(C._canInitEmulator,C,"emulator-config-failed"),z(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,N=as(m),{host:Q,port:fe}=function si(v){const m=as(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:Xs(C.substr(N.length+1))}}{const[N,Q]=C.split(":");return{host:N,port:Xs(Q)}}}(m);C.config.emulator={url:`${N}//${Q}${null===fe?"":`:${fe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Q,port:fe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Js(){function v(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,C)}applyActionCode(_){return function Dr(v,m){return vl.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return bl(this._delegate,_)}confirmPasswordReset(_,C){return function bc(v,m,_){return Ta.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var M=this;return(0,a.Z)(function*(){return Jn(M._delegate,function Bo(v,m,_){return jn.apply(this,arguments)}(M._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function wc(v,m){return Cl.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function ks(v,m){return"EMAIL_SIGNIN"===cc.parseLink(m)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,a.Z)(function*(){mo(Xu(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function Pe(v,m){return lt.apply(this,arguments)}(_._delegate,qa);return C?Jn(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Xn(v,m){Rn(v)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,C,M){const{next:N,error:Q,complete:fe}=Og(_,C,M);return this._delegate.onAuthStateChanged(N,Q,fe)}onIdTokenChanged(_,C,M){const{next:N,error:Q,complete:fe}=Og(_,C,M);return this._delegate.onIdTokenChanged(N,Q,fe)}sendSignInLinkToEmail(_,C){return function xu(v,m,_){return Vo.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function vc(v,m,_){return Hn.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,a.Z)(function*(){let M;switch(function Rg(v,m){Uc(Object.values(fr).includes(m),v,"invalid-persistence-type"),(0,B.b$)()?Uc(m!==fr.SESSION,v,"unsupported-persistence-type"):(0,B.UG)()?Uc(m===fr.NONE,v,"unsupported-persistence-type"):Gl()?Uc(m===fr.NONE||m===fr.LOCAL&&(0,B.hl)(),v,"unsupported-persistence-type"):Uc(m===fr.NONE||Av(),v,"unsupported-persistence-type")}(C._delegate,_),_){case fr.SESSION:M=us;break;case fr.LOCAL:M=(yield ue(Oa)._isAvailable())?Oa:Il;break;case fr.NONE:M=an;break;default:return ke("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Jn(this._delegate,function Lf(v){return Un.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Jn(this._delegate,Fn(this._delegate,_))}signInWithCustomToken(_){return Jn(this._delegate,function Iu(v,m){return yl.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return Jn(this._delegate,function cs(v,m,_){return Fn((0,B.m9)(v),ls.credential(m,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return Jn(this._delegate,function hg(v,m,_){return wl.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return nd(this._delegate,function Xe(v,m,_){return wt.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,a.Z)(function*(){return mo(Xu(),C._delegate,"operation-not-supported-in-this-environment"),Jn(C._delegate,function Gu(v,m,_){return uo.apply(this,arguments)}(C._delegate,_,qa))})()}signInWithRedirect(_){var C=this;return(0,a.Z)(function*(){return mo(Xu(),C._delegate,"operation-not-supported-in-this-environment"),yield ed(C._delegate),function Vt(v,m,_){return function Bi(v,m,_){return S.apply(this,arguments)}(v,m,_)}(C._delegate,_,qa)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Tu(v,m){return Qd.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=fr,v})();function Og(v,m,_){let C=v;"function"!=typeof v&&({next:C,error:m,complete:_}=v);const M=C;return{next:Q=>M(Q&&ra.getOrCreate(Q)),error:m,complete:_}}function rp(v,m){const _=function zl(v,m){const _=_h();if(!_)return[];const C=li(Ju,v,m);switch(_.getItem(C)){case fr.NONE:return[an];case fr.LOCAL:return[Oa,us];case fr.SESSION:return[us];default:return[]}}(v,m);if(typeof self<"u"&&!_.includes(Oa)&&_.push(Oa),typeof window<"u")for(const C of[Il,us])_.includes(C)||_.push(C);return _.includes(an)||_.push(an),_}class yh{constructor(){this.providerId="phone",this._delegate=new Pl(Fs(ie.Z.auth()))}static credential(m,_){return Pl.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}yh.PHONE_SIGN_IN_METHOD=Pl.PHONE_SIGN_IN_METHOD,yh.PROVIDER_ID=Pl.PROVIDER_ID;const Pg=z;class vh{constructor(m,_,C=ie.Z.app()){var M;Pg(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ci(m,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fg(v){v.INTERNAL.registerComponent(new re.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new ql(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ls,FacebookAuthProvider:gl,GithubAuthProvider:Cu,GoogleAuthProvider:uc,OAuthProvider:No,SAMLAuthProvider:Cr,PhoneAuthProvider:yh,PhoneMultiFactorGenerator:ta,RecaptchaVerifier:vh,TwitterAuthProvider:cr,Auth:ql,AuthCredential:Ti,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.19")}(ie.Z)},9751:(ht,xe,V)=>{V.d(xe,{y:()=>me});var a=V(930),ie=V(727),B=V(8822),de=V(9635),ce=V(2416),pe=V(576),re=V(2806);let me=(()=>{class ee{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ee=new ee;return Ee.source=this,Ee.operator=Re,Ee}subscribe(Re,Ee,ot){const be=function Z(ee){return ee&&ee instanceof a.Lv||function $(ee){return ee&&(0,pe.m)(ee.next)&&(0,pe.m)(ee.error)&&(0,pe.m)(ee.complete)}(ee)&&(0,ie.Nn)(ee)}(Re)?Re:new a.Hp(Re,Ee,ot);return(0,re.x)(()=>{const{operator:_e,source:rt}=this;be.add(_e?_e.call(be,rt):rt?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ee){Re.error(Ee)}}forEach(Re,Ee){return new(Ee=ye(Ee))((ot,be)=>{const _e=new a.Hp({next:rt=>{try{Re(rt)}catch(ut){be(ut),_e.unsubscribe()}},error:be,complete:ot});this.subscribe(_e)})}_subscribe(Re){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(Re)}[B.L](){return this}pipe(...Re){return(0,de.U)(Re)(this)}toPromise(Re){return new(Re=ye(Re))((Ee,ot)=>{let be;this.subscribe(_e=>be=_e,_e=>ot(_e),()=>Ee(be))})}}return ee.create=Ge=>new ee(Ge),ee})();function ye(ee){var Ge;return null!==(Ge=ee??ce.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(ht,xe,V)=>{V.d(xe,{x:()=>re});var a=V(9751),ie=V(727);const de=(0,V(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=V(8737),pe=V(2806);let re=(()=>{class ye extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ee=new me(this,this);return ee.operator=Z,ee}_throwIfClosed(){if(this.closed)throw new de}next(Z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(Z)}})}error(Z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(Z)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ee,isStopped:Ge,observers:Re}=this;return ee||Ge?ie.Lc:(this.currentObservers=null,Re.push(Z),new ie.w0(()=>{this.currentObservers=null,(0,ce.P)(Re,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ee,thrownError:Ge,isStopped:Re}=this;ee?Z.error(Ge):Re&&Z.complete()}asObservable(){const Z=new a.y;return Z.source=this,Z}}return ye.create=($,Z)=>new me($,Z),ye})();class me extends re{constructor($,Z){super(),this.destination=$,this.source=Z}next($){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ee||ee.call(Z,$)}error($){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ee||ee.call(Z,$)}complete(){var $,Z;null===(Z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===Z||Z.call($)}_subscribe($){var Z,ee;return null!==(ee=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe($))&&void 0!==ee?ee:ie.Lc}}},930:(ht,xe,V)=>{V.d(xe,{Hp:()=>ot,Lv:()=>ee});var a=V(576),ie=V(727),B=V(2416),de=V(7849),ce=V(5032);const pe=ye("C",void 0,void 0);function ye(ke,Ce,Se){return{kind:ke,value:Ce,error:Se}}var $=V(3410),Z=V(2806);class ee extends ie.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ie.Nn)(Ce)&&Ce.add(this)):this.destination=ut}static create(Ce,Se,ze){return new ot(Ce,Se,ze)}next(Ce){this.isStopped?rt(function me(ke){return ye("N",ke,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?rt(function re(ke){return ye("E",void 0,ke)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?rt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Re(ke,Ce){return Ge.call(ke,Ce)}class Ee{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ce)}catch(ze){be(ze)}}error(Ce){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ce)}catch(ze){be(ze)}else be(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Se){be(Se)}}}class ot extends ee{constructor(Ce,Se,ze){let Ze;if(super(),(0,a.m)(Ce)||!Ce)Ze={next:Ce??void 0,error:Se??void 0,complete:ze??void 0};else{let z;this&&B.v.useDeprecatedNextContext?(z=Object.create(Ce),z.unsubscribe=()=>this.unsubscribe(),Ze={next:Ce.next&&Re(Ce.next,z),error:Ce.error&&Re(Ce.error,z),complete:Ce.complete&&Re(Ce.complete,z)}):Ze=Ce}this.destination=new Ee(Ze)}}function be(ke){B.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(ke):(0,de.h)(ke)}function rt(ke,Ce){const{onStoppedNotification:Se}=B.v;Se&&$.z.setTimeout(()=>Se(ke,Ce))}const ut={closed:!0,next:ce.Z,error:function _e(ke){throw ke},complete:ce.Z}},727:(ht,xe,V)=>{V.d(xe,{Lc:()=>pe,w0:()=>ce,Nn:()=>re});var a=V(576);const B=(0,V(3888).d)(ye=>function(Z){ye(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var de=V(8737);class ce{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Re of Z)Re.remove(this);else Z.remove(this);const{initialTeardown:ee}=this;if((0,a.m)(ee))try{ee()}catch(Re){$=Re instanceof B?Re.errors:[Re]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Re of Ge)try{me(Re)}catch(Ee){$=$??[],Ee instanceof B?$=[...$,...Ee.errors]:$.push(Ee)}}if($)throw new B($)}}add($){var Z;if($&&$!==this)if(this.closed)me($);else{if($ instanceof ce){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push($)}}_hasParent($){const{_parentage:Z}=this;return Z===$||Array.isArray(Z)&&Z.includes($)}_addParent($){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push($),Z):Z?[Z,$]:$}_removeParent($){const{_parentage:Z}=this;Z===$?this._parentage=null:Array.isArray(Z)&&(0,de.P)(Z,$)}remove($){const{_finalizers:Z}=this;Z&&(0,de.P)(Z,$),$ instanceof ce&&$._removeParent(this)}}ce.EMPTY=(()=>{const ye=new ce;return ye.closed=!0,ye})();const pe=ce.EMPTY;function re(ye){return ye instanceof ce||ye&&"closed"in ye&&(0,a.m)(ye.remove)&&(0,a.m)(ye.add)&&(0,a.m)(ye.unsubscribe)}function me(ye){(0,a.m)(ye)?ye():ye.unsubscribe()}},2416:(ht,xe,V)=>{V.d(xe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,V)=>{V.d(xe,{E:()=>ie});const ie=new(V(9751).y)(ce=>ce.complete())},8996:(ht,xe,V)=>{V.d(xe,{D:()=>Ce});var a=V(8421),ie=V(5363),B=V(9468),pe=V(9751),me=V(2202),ye=V(576),$=V(9672);function ee(Se,ze){if(!Se)throw new Error("Iterable cannot be null");return new pe.y(Ze=>{(0,$.f)(Ze,ze,()=>{const z=Se[Symbol.asyncIterator]();(0,$.f)(Ze,ze,()=>{z.next().then(ve=>{ve.done?Ze.complete():Ze.next(ve.value)})},0,!0)})})}var Ge=V(3670),Re=V(8239),Ee=V(1144),ot=V(6495),be=V(2206),_e=V(4532),rt=V(3260);function Ce(Se,ze){return ze?function ke(Se,ze){if(null!=Se){if((0,Ge.c)(Se))return function de(Se,ze){return(0,a.Xf)(Se).pipe((0,B.R)(ze),(0,ie.Q)(ze))}(Se,ze);if((0,Ee.z)(Se))return function re(Se,ze){return new pe.y(Ze=>{let z=0;return ze.schedule(function(){z===Se.length?Ze.complete():(Ze.next(Se[z++]),Ze.closed||this.schedule())})})}(Se,ze);if((0,Re.t)(Se))return function ce(Se,ze){return(0,a.Xf)(Se).pipe((0,B.R)(ze),(0,ie.Q)(ze))}(Se,ze);if((0,be.D)(Se))return ee(Se,ze);if((0,ot.T)(Se))return function Z(Se,ze){return new pe.y(Ze=>{let z;return(0,$.f)(Ze,ze,()=>{z=Se[me.h](),(0,$.f)(Ze,ze,()=>{let ve,J;try{({value:ve,done:J}=z.next())}catch(se){return void Ze.error(se)}J?Ze.complete():Ze.next(ve)},0,!0)}),()=>(0,ye.m)(z?.return)&&z.return()})}(Se,ze);if((0,rt.L)(Se))return function ut(Se,ze){return ee((0,rt.Q)(Se),ze)}(Se,ze)}throw(0,_e.z)(Se)}(Se,ze):(0,a.Xf)(Se)}},8421:(ht,xe,V)=>{V.d(xe,{Xf:()=>Ge});var a=V(655),ie=V(1144),B=V(8239),de=V(9751),ce=V(3670),pe=V(2206),re=V(4532),me=V(6495),ye=V(3260),$=V(576),Z=V(7849),ee=V(8822);function Ge(ke){if(ke instanceof de.y)return ke;if(null!=ke){if((0,ce.c)(ke))return function Re(ke){return new de.y(Ce=>{const Se=ke[ee.L]();if((0,$.m)(Se.subscribe))return Se.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,ie.z)(ke))return function Ee(ke){return new de.y(Ce=>{for(let Se=0;Se<ke.length&&!Ce.closed;Se++)Ce.next(ke[Se]);Ce.complete()})}(ke);if((0,B.t)(ke))return function ot(ke){return new de.y(Ce=>{ke.then(Se=>{Ce.closed||(Ce.next(Se),Ce.complete())},Se=>Ce.error(Se)).then(null,Z.h)})}(ke);if((0,pe.D)(ke))return _e(ke);if((0,me.T)(ke))return function be(ke){return new de.y(Ce=>{for(const Se of ke)if(Ce.next(Se),Ce.closed)return;Ce.complete()})}(ke);if((0,ye.L)(ke))return function rt(ke){return _e((0,ye.Q)(ke))}(ke)}throw(0,re.z)(ke)}function _e(ke){return new de.y(Ce=>{(function ut(ke,Ce){var Se,ze,Ze,z;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Se=(0,a.KL)(ke);!(ze=yield Se.next()).done;)if(Ce.next(ze.value),Ce.closed)return}catch(ve){Ze={error:ve}}finally{try{ze&&!ze.done&&(z=Se.return)&&(yield z.call(Se))}finally{if(Ze)throw Ze.error}}Ce.complete()})})(ke,Ce).catch(Se=>Ce.error(Se))})}},6451:(ht,xe,V)=>{V.d(xe,{T:()=>pe});var a=V(8189),ie=V(8421),B=V(515),de=V(3269),ce=V(8996);function pe(...re){const me=(0,de.yG)(re),ye=(0,de._6)(re,1/0),$=re;return $.length?1===$.length?(0,ie.Xf)($[0]):(0,a.J)(ye)((0,ce.D)($,me)):B.E}},5403:(ht,xe,V)=>{V.d(xe,{x:()=>ie});var a=V(930);function ie(de,ce,pe,re,me){return new B(de,ce,pe,re,me)}class B extends a.Lv{constructor(ce,pe,re,me,ye,$){super(ce),this.onFinalize=ye,this.shouldUnsubscribe=$,this._next=pe?function(Z){try{pe(Z)}catch(ee){ce.error(ee)}}:super._next,this._error=me?function(Z){try{me(Z)}catch(ee){ce.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(Z){ce.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(ht,xe,V)=>{V.d(xe,{U:()=>B});var a=V(4482),ie=V(5403);function B(de,ce){return(0,a.e)((pe,re)=>{let me=0;pe.subscribe((0,ie.x)(re,ye=>{re.next(de.call(ce,ye,me++))}))})}},8189:(ht,xe,V)=>{V.d(xe,{J:()=>B});var a=V(5577),ie=V(4671);function B(de=1/0){return(0,a.z)(ie.y,de)}},5577:(ht,xe,V)=>{V.d(xe,{z:()=>me});var a=V(4004),ie=V(8421),B=V(4482),de=V(9672),ce=V(5403),re=V(576);function me(ye,$,Z=1/0){return(0,re.m)($)?me((ee,Ge)=>(0,a.U)((Re,Ee)=>$(ee,Re,Ge,Ee))((0,ie.Xf)(ye(ee,Ge))),Z):("number"==typeof $&&(Z=$),(0,B.e)((ee,Ge)=>function pe(ye,$,Z,ee,Ge,Re,Ee,ot){const be=[];let _e=0,rt=0,ut=!1;const ke=()=>{ut&&!be.length&&!_e&&$.complete()},Ce=ze=>_e<ee?Se(ze):be.push(ze),Se=ze=>{Re&&$.next(ze),_e++;let Ze=!1;(0,ie.Xf)(Z(ze,rt++)).subscribe((0,ce.x)($,z=>{Ge?.(z),Re?Ce(z):$.next(z)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(_e--;be.length&&_e<ee;){const z=be.shift();Ee?(0,de.f)($,Ee,()=>Se(z)):Se(z)}ke()}catch(z){$.error(z)}}))};return ye.subscribe((0,ce.x)($,Ce,()=>{ut=!0,ke()})),()=>{ot?.()}}(ee,Ge,ye,Z)))}},5363:(ht,xe,V)=>{V.d(xe,{Q:()=>de});var a=V(9672),ie=V(4482),B=V(5403);function de(ce,pe=0){return(0,ie.e)((re,me)=>{re.subscribe((0,B.x)(me,ye=>(0,a.f)(me,ce,()=>me.next(ye),pe),()=>(0,a.f)(me,ce,()=>me.complete(),pe),ye=>(0,a.f)(me,ce,()=>me.error(ye),pe)))})}},3099:(ht,xe,V)=>{V.d(xe,{B:()=>ce});var a=V(8421),ie=V(7579),B=V(930),de=V(4482);function ce(re={}){const{connector:me=(()=>new ie.x),resetOnError:ye=!0,resetOnComplete:$=!0,resetOnRefCountZero:Z=!0}=re;return ee=>{let Ge,Re,Ee,ot=0,be=!1,_e=!1;const rt=()=>{Re?.unsubscribe(),Re=void 0},ut=()=>{rt(),Ge=Ee=void 0,be=_e=!1},ke=()=>{const Ce=Ge;ut(),Ce?.unsubscribe()};return(0,de.e)((Ce,Se)=>{ot++,!_e&&!be&&rt();const ze=Ee=Ee??me();Se.add(()=>{ot--,0===ot&&!_e&&!be&&(Re=pe(ke,Z))}),ze.subscribe(Se),!Ge&&ot>0&&(Ge=new B.Hp({next:Ze=>ze.next(Ze),error:Ze=>{_e=!0,rt(),Re=pe(ut,ye,Ze),ze.error(Ze)},complete:()=>{be=!0,rt(),Re=pe(ut,$),ze.complete()}}),(0,a.Xf)(Ce).subscribe(Ge))})(ee)}}function pe(re,me,...ye){if(!0===me)return void re();if(!1===me)return;const $=new B.Hp({next:()=>{$.unsubscribe(),re()}});return me(...ye).subscribe($)}},9468:(ht,xe,V)=>{V.d(xe,{R:()=>ie});var a=V(4482);function ie(B,de=0){return(0,a.e)((ce,pe)=>{pe.add(B.schedule(()=>ce.subscribe(pe),de))})}},8505:(ht,xe,V)=>{V.d(xe,{b:()=>ce});var a=V(576),ie=V(4482),B=V(5403),de=V(4671);function ce(pe,re,me){const ye=(0,a.m)(pe)||re||me?{next:pe,error:re,complete:me}:pe;return ye?(0,ie.e)(($,Z)=>{var ee;null===(ee=ye.subscribe)||void 0===ee||ee.call(ye);let Ge=!0;$.subscribe((0,B.x)(Z,Re=>{var Ee;null===(Ee=ye.next)||void 0===Ee||Ee.call(ye,Re),Z.next(Re)},()=>{var Re;Ge=!1,null===(Re=ye.complete)||void 0===Re||Re.call(ye),Z.complete()},Re=>{var Ee;Ge=!1,null===(Ee=ye.error)||void 0===Ee||Ee.call(ye,Re),Z.error(Re)},()=>{var Re,Ee;Ge&&(null===(Re=ye.unsubscribe)||void 0===Re||Re.call(ye)),null===(Ee=ye.finalize)||void 0===Ee||Ee.call(ye)}))}):de.y}},4408:(ht,xe,V)=>{V.d(xe,{o:()=>ce});var a=V(727);class ie extends a.w0{constructor(re,me){super()}schedule(re,me=0){return this}}const B={setInterval(pe,re,...me){const{delegate:ye}=B;return ye?.setInterval?ye.setInterval(pe,re,...me):setInterval(pe,re,...me)},clearInterval(pe){const{delegate:re}=B;return(re?.clearInterval||clearInterval)(pe)},delegate:void 0};var de=V(8737);class ce extends ie{constructor(re,me){super(re,me),this.scheduler=re,this.work=me,this.pending=!1}schedule(re,me=0){if(this.closed)return this;this.state=re;const ye=this.id,$=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId($,ye,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId($,this.id,me),this}requestAsyncId(re,me,ye=0){return B.setInterval(re.flush.bind(re,this),ye)}recycleAsyncId(re,me,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return me;B.clearInterval(me)}execute(re,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(re,me);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,me){let $,ye=!1;try{this.work(re)}catch(Z){ye=!0,$=Z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:me}=this,{actions:ye}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ye,this),null!=re&&(this.id=this.recycleAsyncId(me,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,V)=>{V.d(xe,{v:()=>B});var a=V(6063);class ie{constructor(ce,pe=ie.now){this.schedulerActionCtor=ce,this.now=pe}schedule(ce,pe=0,re){return new this.schedulerActionCtor(this,ce).schedule(re,pe)}}ie.now=a.l.now;class B extends ie{constructor(ce,pe=ie.now){super(ce,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:pe}=this;if(this._active)return void pe.push(ce);let re;this._active=!0;do{if(re=ce.execute(ce.state,ce.delay))break}while(ce=pe.shift());if(this._active=!1,re){for(;ce=pe.shift();)ce.unsubscribe();throw re}}}},4986:(ht,xe,V)=>{V.d(xe,{P:()=>de,z:()=>B});var a=V(4408);const B=new(V(7565).v)(a.o),de=B},6063:(ht,xe,V)=>{V.d(xe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,V)=>{V.d(xe,{z:()=>a});const a={setTimeout(ie,B,...de){const{delegate:ce}=a;return ce?.setTimeout?ce.setTimeout(ie,B,...de):setTimeout(ie,B,...de)},clearTimeout(ie){const{delegate:B}=a;return(B?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},2202:(ht,xe,V)=>{V.d(xe,{h:()=>ie});const ie=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,xe,V)=>{V.d(xe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,xe,V)=>{V.d(xe,{_6:()=>pe,jO:()=>de,yG:()=>ce});var a=V(576),ie=V(3532);function B(re){return re[re.length-1]}function de(re){return(0,a.m)(B(re))?re.pop():void 0}function ce(re){return(0,ie.K)(B(re))?re.pop():void 0}function pe(re,me){return"number"==typeof B(re)?re.pop():me}},8737:(ht,xe,V)=>{function a(ie,B){if(ie){const de=ie.indexOf(B);0<=de&&ie.splice(de,1)}}V.d(xe,{P:()=>a})},3888:(ht,xe,V)=>{function a(ie){const de=ie(ce=>{Error.call(ce),ce.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}V.d(xe,{d:()=>a})},2806:(ht,xe,V)=>{V.d(xe,{O:()=>de,x:()=>B});var a=V(2416);let ie=null;function B(ce){if(a.v.useDeprecatedSynchronousErrorHandling){const pe=!ie;if(pe&&(ie={errorThrown:!1,error:null}),ce(),pe){const{errorThrown:re,error:me}=ie;if(ie=null,re)throw me}}else ce()}function de(ce){a.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=ce)}},9672:(ht,xe,V)=>{function a(ie,B,de,ce=0,pe=!1){const re=B.schedule(function(){de(),pe?ie.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(ie.add(re),!pe)return re}V.d(xe,{f:()=>a})},4671:(ht,xe,V)=>{function a(ie){return ie}V.d(xe,{y:()=>a})},1144:(ht,xe,V)=>{V.d(xe,{z:()=>a});const a=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(ht,xe,V)=>{V.d(xe,{D:()=>ie});var a=V(576);function ie(B){return Symbol.asyncIterator&&(0,a.m)(B?.[Symbol.asyncIterator])}},576:(ht,xe,V)=>{function a(ie){return"function"==typeof ie}V.d(xe,{m:()=>a})},3670:(ht,xe,V)=>{V.d(xe,{c:()=>B});var a=V(8822),ie=V(576);function B(de){return(0,ie.m)(de[a.L])}},6495:(ht,xe,V)=>{V.d(xe,{T:()=>B});var a=V(2202),ie=V(576);function B(de){return(0,ie.m)(de?.[a.h])}},8239:(ht,xe,V)=>{V.d(xe,{t:()=>ie});var a=V(576);function ie(B){return(0,a.m)(B?.then)}},3260:(ht,xe,V)=>{V.d(xe,{L:()=>de,Q:()=>B});var a=V(655),ie=V(576);function B(ce){return(0,a.FC)(this,arguments,function*(){const re=ce.getReader();try{for(;;){const{value:me,done:ye}=yield(0,a.qq)(re.read());if(ye)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(me)}}finally{re.releaseLock()}})}function de(ce){return(0,ie.m)(ce?.getReader)}},3532:(ht,xe,V)=>{V.d(xe,{K:()=>ie});var a=V(576);function ie(B){return B&&(0,a.m)(B.schedule)}},4482:(ht,xe,V)=>{V.d(xe,{A:()=>ie,e:()=>B});var a=V(576);function ie(de){return(0,a.m)(de?.lift)}function B(de){return ce=>{if(ie(ce))return ce.lift(function(pe){try{return de(pe,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,xe,V)=>{function a(){}V.d(xe,{Z:()=>a})},9635:(ht,xe,V)=>{V.d(xe,{U:()=>B,z:()=>ie});var a=V(4671);function ie(...de){return B(de)}function B(de){return 0===de.length?a.y:1===de.length?de[0]:function(pe){return de.reduce((re,me)=>me(re),pe)}}},7849:(ht,xe,V)=>{V.d(xe,{h:()=>B});var a=V(2416),ie=V(3410);function B(de){ie.z.setTimeout(()=>{const{onUnhandledError:ce}=a.v;if(!ce)throw de;ce(de)})}},4532:(ht,xe,V)=>{function a(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(xe,{z:()=>a})},655:(ht,xe,V)=>{function de(J,se){var ue={};for(var ae in J)Object.prototype.hasOwnProperty.call(J,ae)&&se.indexOf(ae)<0&&(ue[ae]=J[ae]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(ae=Object.getOwnPropertySymbols(J);Be<ae.length;Be++)se.indexOf(ae[Be])<0&&Object.prototype.propertyIsEnumerable.call(J,ae[Be])&&(ue[ae[Be]]=J[ae[Be]])}return ue}function me(J,se,ue,ae){return new(ue||(ue=Promise))(function(Fe,yt){function Qt(_n){try{Qe(ae.next(_n))}catch(Zn){yt(Zn)}}function zt(_n){try{Qe(ae.throw(_n))}catch(Zn){yt(Zn)}}function Qe(_n){_n.done?Fe(_n.value):function Be(Fe){return Fe instanceof ue?Fe:new ue(function(yt){yt(Fe)})}(_n.value).then(Qt,zt)}Qe((ae=ae.apply(J,se||[])).next())})}function be(J){return this instanceof be?(this.v=J,this):new be(J)}function _e(J,se,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,ae=ue.apply(J,se||[]),Fe=[];return Be={},yt("next"),yt("throw"),yt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function yt(nn){ae[nn]&&(Be[nn]=function(rn){return new Promise(function(zi,Ft){Fe.push([nn,rn,zi,Ft])>1||Qt(nn,rn)})})}function Qt(nn,rn){try{!function zt(nn){nn.value instanceof be?Promise.resolve(nn.value.v).then(Qe,_n):Zn(Fe[0][2],nn)}(ae[nn](rn))}catch(zi){Zn(Fe[0][3],zi)}}function Qe(nn){Qt("next",nn)}function _n(nn){Qt("throw",nn)}function Zn(nn,rn){nn(rn),Fe.shift(),Fe.length&&Qt(Fe[0][0],Fe[0][1])}}function ut(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,se=J[Symbol.asyncIterator];return se?se.call(J):(J=function ee(J){var se="function"==typeof Symbol&&Symbol.iterator,ue=se&&J[se],ae=0;if(ue)return ue.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ae>=J.length&&(J=void 0),{value:J&&J[ae++],done:!J}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ue={},ae("next"),ae("throw"),ae("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ae(Fe){ue[Fe]=J[Fe]&&function(yt){return new Promise(function(Qt,zt){!function Be(Fe,yt,Qt,zt){Promise.resolve(zt).then(function(Qe){Fe({value:Qe,done:Qt})},yt)}(Qt,zt,(yt=J[Fe](yt)).done,yt.value)})}}}V.d(xe,{FC:()=>_e,KL:()=>ut,_T:()=>de,mG:()=>me,qq:()=>be})},4650:(ht,xe,V)=>{V.d(xe,{$8M:()=>Fc,$Z:()=>Qi,AFp:()=>X_,ALo:()=>O_,AaK:()=>me,AsE:()=>Bb,BQk:()=>Mb,CHM:()=>yc,CRH:()=>nI,CZH:()=>sl,CqO:()=>uA,D6c:()=>W0,DdM:()=>$D,EJc:()=>Ar,EiD:()=>xg,EpF:()=>lA,F$t:()=>mA,F4k:()=>cA,FYo:()=>St,FiY:()=>Pe,G48:()=>sR,Gf:()=>em,GfV:()=>id,GkF:()=>nD,Gpc:()=>Z,Hsn:()=>gA,Ikx:()=>w_,JOm:()=>Wa,JVY:()=>Yf,KtG:()=>vc,L6k:()=>yv,LAX:()=>bv,LFG:()=>Vt,LSH:()=>Qu,Lbi:()=>Dd,Lck:()=>Ui,MAs:()=>aA,MGl:()=>Ab,MMx:()=>o0,NdJ:()=>rD,O4$:()=>Nu,OlP:()=>In,Oqu:()=>Lb,PXZ:()=>eR,Q6J:()=>JE,QGY:()=>iD,QP$:()=>os,QbO:()=>Ji,Qsj:()=>_t,R0b:()=>bo,RDi:()=>Eg,Rgc:()=>Kp,SBq:()=>fe,Sil:()=>ol,Suo:()=>tI,TTD:()=>Ts,TgZ:()=>Sb,Udp:()=>Rb,VKq:()=>Hi,WFA:()=>sD,X6Q:()=>PI,XFs:()=>it,Xpm:()=>W,Xts:()=>Xu,Y36:()=>$c,YKP:()=>cn,YNc:()=>oA,Yjl:()=>$t,Yz7:()=>rn,Z0I:()=>Ea,ZZ4:()=>Gt,_Bn:()=>r0,_UZ:()=>tD,_Vd:()=>M,_c5:()=>jI,_uU:()=>fD,aQg:()=>cm,c2e:()=>nm,cJS:()=>Ft,cg1:()=>E_,d8E:()=>C_,dDg:()=>DI,dqk:()=>yn,eBb:()=>vv,eFA:()=>sy,ekj:()=>Ob,eoX:()=>P0,f3M:()=>S,g9A:()=>jh,h0i:()=>Xc,hGG:()=>Sd,hij:()=>v_,iGM:()=>b0,ifc:()=>ft,ip1:()=>T0,jDz:()=>_k,kL8:()=>GA,lG2:()=>li,lcZ:()=>N_,lqb:()=>Jn,lri:()=>$h,mCW:()=>na,n5z:()=>Os,n_E:()=>L_,oAB:()=>pt,oxw:()=>pA,pB0:()=>Kf,q3G:()=>Xn,q4F:()=>rd,qLn:()=>Bg,qOj:()=>qE,qZA:()=>Tb,qzn:()=>ta,rWj:()=>sm,sBO:()=>j0,sIi:()=>p_,s_b:()=>Qp,soG:()=>Us,tb:()=>x0,tp0:()=>It,uIk:()=>KE,vHH:()=>Ee,vpe:()=>Vs,wAp:()=>Ue,xp6:()=>nb,ynx:()=>xb,z2F:()=>oy,z3N:()=>$r,zSh:()=>Fs,zs3:()=>ud});var a=V(7579),ie=V(727),B=V(9751),de=V(6451),ce=V(3099);function pe(o){for(let l in o)if(o[l]===pe)return l;throw Error("Could not find renamed property on target object.")}function re(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function me(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(me).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ye(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const $=pe({__forward_ref__:pe});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return me(this())},o}function ee(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===Z}class Ee extends Error{constructor(l,u){super(function ot(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function be(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o,l){throw new Ee(-201,!1)}function zt(o,l){null==o&&function Qe(o,l,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,o,null,"!=")}function rn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ft(o){return{providers:o.providers||[],imports:o.imports||[]}}function dn(o){return rr(o,ss)||rr(o,vr)}function Ea(o){return null!==dn(o)}function rr(o,l){return o.hasOwnProperty(l)?o[l]:null}function Ks(o){return o&&(o.hasOwnProperty(or)||o.hasOwnProperty(Da))?o[or]:null}const ss=pe({\u0275prov:pe}),or=pe({\u0275inj:pe}),vr=pe({ngInjectableDef:pe}),Da=pe({ngInjectorDef:pe});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let ar;function Wn(o){const l=ar;return ar=o,l}function br(o,l,u){const h=dn(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&it.Optional?null:void 0!==l?l:void Ce(me(o))}function Yn(o){return{toString:o}.toString()}var ni=(()=>((ni=ni||{})[ni.OnPush=0]="OnPush",ni[ni.Default=1]="Default",ni))(),ft=(()=>{return(o=ft||(ft={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ft;var o})();const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$i={},Mt=[],Ds=pe({\u0275cmp:pe}),on=pe({\u0275dir:pe}),Br=pe({\u0275pipe:pe}),sn=pe({\u0275mod:pe}),X=pe({\u0275fac:pe}),q=pe({__NG_ELEMENT_ID__:pe});let j=0;function W(o){return Yn(()=>{const u=!0===o.standalone,h={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ni.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Mt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ft.Emulated,id:"c"+j++,styles:o.styles||Mt,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,b=o.features;return f.inputs=an(o.inputs,h),f.outputs=an(o.outputs),b&&b.forEach(E=>E(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(Me).filter($e):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(ii).filter($e):null,f})}function Me(o){return Lt(o)||An(o)}function $e(o){return null!==o}function pt(o){return Yn(()=>({type:o.type,bootstrap:o.bootstrap||Mt,declarations:o.declarations||Mt,imports:o.imports||Mt,exports:o.exports||Mt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function an(o,l){if(null==o)return $i;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}const li=W;function $t(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Lt(o){return o[Ds]||null}function An(o){return o[on]||null}function ii(o){return o[Br]||null}function os(o){const l=Lt(o)||An(o)||ii(o);return null!==l&&l.standalone}function qi(o,l){const u=o[sn]||null;if(!u&&!0===l)throw new Error(`Type ${me(o)} does not have '\u0275mod' property.`);return u}function bi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Zi(o){return Array.isArray(o)&&!0===o[1]}function Ia(o){return 0!=(8&o.flags)}function Po(o){return 2==(2&o.flags)}function _u(o){return 1==(1&o.flags)}function Fi(o){return null!==o.template}function Of(o){return 0!=(256&o[2])}function ls(o,l){return o.hasOwnProperty(X)?o[X]:null}class Ss{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ts(){return No}function No(o){return o.type.prototype.ngOnChanges&&(o.setInput=uc),gl}function gl(){const o=Nf(this),l=o?.current;if(l){const u=o.previous;if(u===$i)o.previous=l;else for(let h in l)u[h]=l[h];o.current=null,this.ngOnChanges(l)}}function uc(o,l,u,h){const f=Nf(o)||function xi(o,l){return o[Cu]=l}(o,{previous:$i,current:null}),g=f.current||(f.current={}),b=f.previous,E=this.declaredInputs[u],I=b[E];g[E]=new Ss(I&&I.currentValue,l,b===$i),o[h]=l}Ts.ngInherit=!0;const Cu="__ngSimpleChanges__";function Nf(o){return o[Cu]||null}function Un(o){for(;Array.isArray(o);)o=o[0];return o}function Er(o,l){return Un(l[o])}function Wi(o,l){return Un(l[o.index])}function Fo(o,l){return o.data[l]}function Ms(o,l){return o[l]}function Xt(o,l){const u=l[o];return bi(u)?u:u[0]}function _l(o){return 4==(4&o[2])}function Lo(o){return 64==(64&o[2])}function Hr(o,l){return null==l?null:o[l]}function pc(o){o[18]=0}function Fn(o,l){o[5]+=l;let u=o,h=o[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const At={lFrame:Ou(null),bindingsEnabled:!0};function As(){return At.bindingsEnabled}function Ae(){return At.lFrame.lView}function qt(){return At.lFrame.tView}function yc(o){return At.lFrame.contextLView=o,o[8]}function vc(o){return At.lFrame.contextLView=null,o}function Hn(){let o=bc();for(;null!==o&&64===o.type;)o=o.parent;return o}function bc(){return At.lFrame.currentTNode}function Dr(o,l){const u=At.lFrame;u.currentTNode=o,u.isParent=l}function vl(){return At.lFrame.isParent}function bl(){At.lFrame.isParent=!1}function jn(){const o=At.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Vo(){return At.lFrame.bindingIndex++}function ks(o){const l=At.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function fg(o,l){const u=At.lFrame;u.bindingIndex=u.bindingRootIndex=o,wc(l)}function wc(o){At.lFrame.currentDirectiveIndex=o}function Cl(o){const l=At.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function Au(){return At.lFrame.currentQueryIndex}function El(o){At.lFrame.currentQueryIndex=o}function ku(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Cc(o,l,u){if(u&it.SkipSelf){let f=l,g=o;for(;!(f=f.parent,null!==f||u&it.Host||(f=ku(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,o=g}const h=At.lFrame=Ru();return h.currentTNode=l,h.lView=o,!0}function Ec(o){const l=Ru(),u=o[1];At.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Ru(){const o=At.lFrame,l=null===o?null:o.child;return null===l?Ou(o):l}function Ou(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Pu(){const o=At.lFrame;return At.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Xd=Pu;function Uo(){const o=Pu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function di(){return At.lFrame.selectedIndex}function ur(o){At.lFrame.selectedIndex=o}function Tn(){const o=At.lFrame;return Fo(o.tView,o.selectedIndex)}function Nu(){At.lFrame.currentNamespace="svg"}function Bu(o,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=g;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),x&&((o.viewHooks||(o.viewHooks=[])).push(u,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,x)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(u,O)}}function xa(o,l,u){Aa(o,l,3,u)}function Ma(o,l,u,h){(3&o[2])===u&&Aa(o,l,u,h)}function eh(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function Aa(o,l,u,h){const g=h??-1,b=l.length-1;let E=0;for(let I=void 0!==h?65535&o[18]:0;I<b;I++)if("number"==typeof l[I+1]){if(E=l[I],null!=h&&E>=h)break}else l[I]<0&&(o[18]+=65536),(E<g||-1==g)&&(th(o,u,l,I),o[18]=(4294901760&o[18])+I+2),I++}function th(o,l,u,h){const f=u[h]<0,g=u[h+1],E=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class ro{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function ka(o,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const g=u[h++],b=u[h++],E=u[h++];o.setAttribute(l,b,E,g)}else{const g=f,b=u[++h];Mc(g)?o.setProperty(l,g,b):o.setAttribute(l,g,b),h++}}return h}function zo(o){return 3===o||4===o||6===o}function Mc(o){return 64===o.charCodeAt(0)}function Dl(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||ih(o,u,f,null,-1===u||2===u?l[++h]:null)}}return o}function ih(o,l,u,h,f){let g=0,b=o.length;if(-1===l)b=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===l){b=-1;break}if(E>l){b=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==f&&(o[g+1]=f));if(h===o[g+1])return void(o[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==b&&(o.splice(b,0,l),g=b+1),o.splice(g++,0,u),null!==h&&o.splice(g++,0,h),null!==f&&o.splice(g++,0,f)}function rh(o){return-1!==o}function wi(o){return 32767&o}function Sl(o,l){let u=function Il(o){return o>>16}(o),h=l;for(;u>0;)h=h[15],u--;return h}let us=!0;function Tl(o){const l=us;return us=o,l}let Kn=0;const jr={};function $o(o,l){const u=kc(o,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(o.injectorIndex=l.length,Ml(h.data,o),Ml(l,null),Ml(h.blueprint,null));const f=Rc(o,l),g=o.injectorIndex;if(rh(f)){const b=wi(f),E=Sl(f,l),I=E[1].data;for(let x=0;x<8;x++)l[g+x]=E[b+x]|I[b+x]}return l[g+8]=f,g}function Ml(o,l){o.push(0,0,0,0,0,0,0,0,l)}function kc(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Rc(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=Pa(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function so(o,l,u){!function Ac(o,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(q)&&(h=u[q]),null==h&&(h=u[q]=Kn++);const f=255&h;l.data[o+(f>>5)]|=1<<f}(o,l,u)}function oo(o,l,u){if(u&it.Optional)return o;Ce()}function Oc(o,l,u,h){if(u&it.Optional&&void 0===h&&(h=null),0==(u&(it.Self|it.Host))){const f=o[9],g=Wn(void 0);try{return f?f.get(l,h,u&it.Optional):br(l,h,u&it.Optional)}finally{Wn(g)}}return oo(h,0,u)}function qo(o,l,u,h=it.Default,f){if(null!==o){if(1024&l[2]){const b=function Oa(o,l,u,h,f){let g=o,b=l;for(;null!==g&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=Al(g,b,u,h|it.Self,jr);if(E!==jr)return E;let I=g.parent;if(!I){const x=b[21];if(x){const O=x.get(u,jr,h);if(O!==jr)return O}I=Pa(b),b=b[15]}g=I}return f}(o,l,u,h,jr);if(b!==jr)return b}const g=Al(o,l,u,h,jr);if(g!==jr)return g}return Oc(l,u,h,f)}function Al(o,l,u,h,f){const g=function Uu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(q)?o[q]:void 0;return"number"==typeof l?l>=0?255&l:Hu:l}(u);if("function"==typeof g){if(!Cc(l,o,h))return h&it.Host?oo(f,0,h):Oc(l,u,h,f);try{const b=g(h);if(null!=b||h&it.Optional)return b;Ce()}finally{Xd()}}else if("number"==typeof g){let b=null,E=kc(o,l),I=-1,x=h&it.Host?l[16][6]:null;for((-1===E||h&it.SkipSelf)&&(I=-1===E?Rc(o,l):l[E+8],-1!==I&&kl(h,!1)?(b=l[1],E=wi(I),l=Sl(I,l)):E=-1);-1!==E;){const O=l[1];if(Pc(g,E,O.data)){const U=ah(E,l,u,b,h,x);if(U!==jr)return U}I=l[E+8],-1!==I&&kl(h,l[1].data[E+8]===x)&&Pc(g,E,l)?(b=O,E=wi(I),l=Sl(I,l)):E=-1}}return f}function ah(o,l,u,h,f,g){const b=l[1],E=b.data[o+8],O=Ra(E,b,u,null==h?Po(E)&&us:h!=b&&0!=(3&E.type),f&it.Host&&g===E);return null!==O?Rs(l,b,O,E):jr}function Ra(o,l,u,h,f){const g=o.providerIndexes,b=l.data,E=1048575&g,I=o.directiveStart,O=g>>20,Y=f?E+O:o.directiveEnd;for(let oe=h?E:E+O;oe<Y;oe++){const De=b[oe];if(oe<I&&u===De||oe>=I&&De.type===u)return oe}if(f){const oe=b[I];if(oe&&Fi(oe)&&oe.type===u)return I}return null}function Rs(o,l,u,h){let f=o[u];const g=l.data;if(function jo(o){return o instanceof ro}(f)){const b=f;b.resolving&&function rt(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${o}${u}`)}(function _e(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():be(o)}(g[u]));const E=Tl(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?Wn(b.injectImpl):null;Cc(o,h,it.Default);try{f=o[u]=b.factory(void 0,g,o,h),l.firstCreatePass&&u>=h.directiveStart&&function Jd(o,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const b=No(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],l)}finally{null!==I&&Wn(I),Tl(E),b.resolving=!1,Xd()}}return f}function Pc(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function kl(o,l){return!(o&it.Self||o&it.Host&&l)}class Zo{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return qo(this._tNode,this._lView,l,h,u)}}function Hu(){return new Zo(Hn(),Ae())}function Os(o){return Yn(()=>{const l=o.prototype.constructor,u=l[X]||Nc(l),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const g=f[X]||Nc(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Nc(o){return Ge(o)?()=>{const l=Nc(ee(o));return l&&l()}:ls(o)}function Pa(o){const l=o[1],u=l.type;return 2===u?l.declTNode:1===u?o[6]:null}function Fc(o){return function oh(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(zo(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(Hn(),o)}const ao="__parameters__";function La(o,l,u){return Yn(()=>{const h=function Lc(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const b=new f(...g);return E.annotation=b,E;function E(I,x,O){const U=I.hasOwnProperty(ao)?I[ao]:Object.defineProperty(I,ao,{value:[]})[ao];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(b),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class In{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Sn(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(l===o&&(l=o.slice(0,u)),Sn(h,l)):l!==o&&l.push(h)}return l}function Gr(o,l){o.forEach(u=>Array.isArray(u)?Gr(u,l):l(u))}function Ol(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function On(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function lo(o,l){const u=[];for(let h=0;h<o;h++)u.push(l);return u}function qe(o,l,u){let h=co(o,l);return h>=0?o[1|h]=u:(h=~h,function ju(o,l,u,h){let f=o.length;if(f==l)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=h}}(o,h,l,u)),h}function Nl(o,l){const u=co(o,l);if(u>=0)return o[1|u]}function co(o,l){return function Ua(o,l,u){let h=0,f=o.length>>u;for(;f!==h;){const g=h+(f-h>>1),b=o[g<<u];if(l===b)return g<<u;b>l?f=g:h=g+1}return~(f<<u)}(o,l,1)}const hr={},$u="__NG_DI_FLAG__",Li="ngTempTokenPath",hs=/\n/gm,Ln="__source";let ho;function Ns(o){const l=ho;return ho=o,l}function xn(o,l=it.Default){if(void 0===ho)throw new Ee(-203,!1);return null===ho?br(o,void 0,l):ho.get(o,l&it.Optional?null:void 0,l)}function Vt(o,l=it.Default){return(function Es(){return ar}()||xn)(ee(o),l)}function S(o,l=it.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Vt(o,l)}function T(o){const l=[];for(let u=0;u<o.length;u++){const h=ee(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Ee(900,!1);let f,g=it.Default;for(let b=0;b<h.length;b++){const E=h[b],I=H(E);"number"==typeof I?-1===I?f=E.token:g|=I:f=E}l.push(Vt(f,g))}else l.push(Vt(h))}return l}function R(o,l){return o[$u]=l,o.prototype[$u]=l,o}function H(o){return o[$u]}const Pe=R(La("Optional"),8),It=R(La("SkipSelf"),4);let qf,Ll;function Eg(o){qf=o}function Xo(o){return function lh(){if(void 0===Ll&&(Ll=null,yn.trustedTypes))try{Ll=yn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ll}()?.createHTML(o)||o}class ea{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dh extends ea{getTypeName(){return"HTML"}}class Vl extends ea{getTypeName(){return"Style"}}class Sg extends ea{getTypeName(){return"Script"}}class Zu extends ea{getTypeName(){return"URL"}}class _v extends ea{getTypeName(){return"ResourceURL"}}function $r(o){return o instanceof ea?o.changingThisBreaksApplicationSecurity:o}function ta(o,l){const u=function Wf(o){return o instanceof ea&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Yf(o){return new dh(o)}function yv(o){return new Vl(o)}function vv(o){return new Sg(o)}function bv(o){return new Zu(o)}function Kf(o){return new _v(o)}class wv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Xo(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Cv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Xo(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Xo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ev=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function na(o){return(o=String(o)).match(Ev)?o:"unsafe:"+o}function po(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function qr(...o){const l={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const hh=po("area,br,col,hr,img,wbr"),Dv=po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fh=po("rp,rt"),Ul=qr(hh,qr(Dv,po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qr(fh,po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qr(fh,Dv)),Ga=po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yu=po("srcset"),Hl=qr(Ga,Yu,po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jf=po("script,style,template");class ep{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Ul.hasOwnProperty(u))return this.sanitizedSomething=!0,!Jf.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),b=g.name,E=b.toLowerCase();if(!Hl.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=g.value;Ga[E]&&(I=na(I)),Yu[E]&&(o=I,I=(o=String(o)).split(",").map(l=>na(l.trim())).join(", ")),this.buf.push(" ",b,'="',jl(I),'"')}var o;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Ul.hasOwnProperty(u)&&!hh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(jl(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Tg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sv=/([^\#-~ |!])/g;function jl(o){return o.replace(/&/g,"&amp;").replace(Tg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Sv,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let za;function xg(o,l){let u=null;try{za=za||function ja(o){const l=new Cv(o);return function Qf(){try{return!!(new window.DOMParser).parseFromString(Xo(""),"text/html")}catch{return!1}}()?new wv(l):l}(o);let h=l?String(l):"";u=za.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=za.getInertBodyElement(h)}while(h!==g);return Xo((new ep).sanitizeChildren(Ku(u)||u))}finally{if(u){const h=Ku(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ku(o){return"content"in o&&function Mg(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function Qu(o){const l=function Gl(){const o=Ae();return o&&o[12]}();return l?l.sanitize(Xn.URL,o)||"":ta(o,"URL")?$r(o):na(be(o))}const Xu=new In("ENVIRONMENT_INITIALIZER"),np=new In("INJECTOR",-1),kg=new In("INJECTOR_DEF_TYPES");class gh{get(l,u=hr){if(u===hr){const h=new Error(`NullInjectorError: No provider for ${me(l)}!`);throw h.name="NullInjectorError",h}return u}}function kv(...o){return{\u0275providers:fr(0,o)}}function fr(o,...l){const u=[],h=new Set;let f;return Gr(l,g=>{const b=g;Ju(b,u,[],h)&&(f||(f=[]),f.push(b))}),void 0!==f&&Uc(f,u),u}function Uc(o,l){for(let u=0;u<o.length;u++){const{providers:f}=o[u];Gr(f,g=>{l.push(g)})}}function Ju(o,l,u,h){if(!(o=ee(o)))return!1;let f=null,g=Ks(o);const b=!g&&Lt(o);if(g||b){if(b&&!b.standalone)return!1;f=o}else{const I=o.ngModule;if(g=Ks(I),!g)return!1;f=I}const E=h.has(f);if(b){if(E)return!1;if(h.add(f),b.dependencies){const I="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const x of I)Ju(x,l,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let x;h.add(f);try{Gr(g.imports,O=>{Ju(O,l,u,h)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&Uc(x,l)}if(!E){const x=ls(f)||(()=>new f);l.push({provide:f,useFactory:x,deps:Mt},{provide:kg,useValue:f,multi:!0},{provide:Xu,useValue:()=>Vt(f),multi:!0})}const I=g.providers;null==I||E||Gr(I,O=>{l.push(O)})}}return f!==o&&void 0!==o.providers}const ed=pe({provide:String,useValue:pe});function Zr(o){return null!==o&&"object"==typeof o&&ed in o}function $a(o){return"function"==typeof o}const Fs=new In("Set Injector scope."),td={},Rv={};let Hc;function jc(){return void 0===Hc&&(Hc=new gh),Hc}class Jn{}class nd extends Jn{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vh(l,b=>this.processProvider(b)),this.records.set(np,ql(void 0,this)),f.has("environment")&&this.records.set(Jn,ql(void 0,this));const g=this.records.get(Fs);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(kg.multi,Mt,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Ns(this),h=Wn(void 0);try{return l()}finally{Ns(u),Wn(h)}}get(l,u=hr,h=it.Default){this.assertNotDestroyed();const f=Ns(this),g=Wn(void 0);try{if(!(h&it.SkipSelf)){let E=this.records.get(l);if(void 0===E){const I=function yh(o){return"function"==typeof o||"object"==typeof o&&o instanceof In}(l)&&dn(l);E=I&&this.injectableDefInScope(I)?ql($l(l),td):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(h&it.Self?jc():this.parent).get(l,u=h&it.Optional&&u===hr?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Li]=b[Li]||[]).unshift(me(l)),f)throw b;return function te(o,l,u,h){const f=o[Li];throw l[Ln]&&f.unshift(l[Ln]),o.message=function le(o,l,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=me(l);if(Array.isArray(l))f=l.map(me).join(" -> ");else if("object"==typeof l){let g=[];for(let b in l)if(l.hasOwnProperty(b)){let E=l[b];g.push(b+":"+("string"==typeof E?JSON.stringify(E):me(E)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(hs,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[Li]=null,o}(b,l,"R3InjectorError",this.source)}throw b}finally{Wn(g),Ns(f)}}resolveInjectorInitializers(){const l=Ns(this),u=Wn(void 0);try{const h=this.get(Xu.multi,Mt,it.Self);for(const f of h)f()}finally{Ns(l),Wn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(me(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(l){let u=$a(l=ee(l))?l:ee(l&&l.provide);const h=function ra(o){return Zr(o)?ql(void 0,o.useValue):ql(mo(o),td)}(l);if($a(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=ql(void 0,td,!0),f.factory=()=>T(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===td&&(u.value=Rv,u.value=u.factory()),"object"==typeof u.value&&u.value&&function rp(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ee(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function $l(o){const l=dn(o),u=null!==l?l.factory:ls(o);if(null!==u)return u;if(o instanceof In)throw new Ee(204,!1);if(o instanceof Function)return function ip(o){const l=o.length;if(l>0)throw lo(l,"?"),new Ee(204,!1);const u=function Ni(o){const l=o&&(o[ss]||o[vr]);if(l){const u=function sr(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ee(204,!1)}function mo(o,l,u){let h;if($a(o)){const f=ee(o);return ls(f)||$l(f)}if(Zr(o))h=()=>ee(o.useValue);else if(function _h(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...T(o.deps||[]));else if(function zl(o){return!(!o||!o.useExisting)}(o))h=()=>Vt(ee(o.useExisting));else{const f=ee(o&&(o.useClass||o.provide));if(!function Og(o){return!!o.deps}(o))return ls(f)||$l(f);h=()=>new f(...T(o.deps))}return h}function ql(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function Pg(o){return!!o.\u0275providers}function vh(o,l){for(const u of o)Array.isArray(u)?vh(u,l):Pg(u)?vh(u.\u0275providers,l):l(u)}class Fg{}class C{resolveComponentFactory(l){throw function v(o){const l=Error(`No component factory found for ${me(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let M=(()=>{class o{}return o.NULL=new C,o})();function N(){return Q(Hn(),Ae())}function Q(o,l){return new fe(Wi(o,l))}let fe=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=N,o})();function je(o){return o instanceof fe?o.nativeElement:o}class St{}let _t=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Ei(){const o=Ae(),u=Xt(Hn().index,o);return(bi(u)?u:o)[11]}(),o})(),Ls=(()=>{class o{}return o.\u0275prov=rn({token:o,providedIn:"root",factory:()=>null}),o})();class id{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const rd=new id("14.2.0"),Ki={};function Fv(o){return o.ngOriginalError}class Bg{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Fv(l);for(;u&&Fv(u);)u=Fv(u);return u||null}}const Bv=new Map;let jx=0;const Ch="__ngContext__";function xr(o,l){bi(l)?(o[Ch]=l[20],function zx(o){Bv.set(o[20],o)}(l)):o[Ch]=l}function op(o){const l=o[Ch];return"number"==typeof l?function tE(o){return Bv.get(o)||null}(l):l||null}function Vv(o){const l=op(o);return l?bi(l)?l:l.lView:null}function Wl(o){return o instanceof Function?o():o}var Wa=(()=>((Wa=Wa||{})[Wa.Important=1]="Important",Wa[Wa.DashCase=2]="DashCase",Wa))();function $g(o,l){return undefined(o,l)}function Dh(o){const l=o[3];return Zi(l)?l[3]:l}function zv(o){return cE(o[13])}function $v(o){return cE(o[4])}function cE(o){for(;null!==o&&!Zi(o);)o=o[4];return o}function Ih(o,l,u,h,f){if(null!=h){let g,b=!1;Zi(h)?g=h:bi(h)&&(b=!0,h=h[0]);const E=Un(h);0===o&&null!==u?null==f?hE(l,u,E):ld(l,u,E,f||null,!0):1===o&&null!==u?ld(l,u,E,f||null,!0):2===o?function Yg(o,l,u){const h=Bn(o,l);h&&function rM(o,l,u,h){o.removeChild(l,u,h)}(o,h,l,u)}(l,E,b):3===o&&l.destroyNode(E),null!=g&&function Sh(o,l,u,h,f){const g=u[7];g!==Un(u)&&Ih(l,o,h,g,f);for(let E=10;E<u.length;E++){const I=u[E];zc(I[1],I,o,l,h,g)}}(l,o,g,u,f)}}function qg(o,l,u){return o.createElement(l,u)}function cp(o,l){const u=o[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Fn(f,-1)),u.splice(h,1)}function Zg(o,l){if(o.length<=10)return;const u=10+l,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&cp(f,h),l>0&&(o[u-1][4]=h[4]);const g=On(o,10+l);!function uE(o,l){zc(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Wg(o,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&zc(o,l,u,3,null,null),function Jx(o){let l=o[13];if(!l)return up(o[1],o);for(;l;){let u=null;if(bi(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==o;)bi(l)&&up(l[1],l),l=l[3];null===l&&(l=o),bi(l)&&up(l[1],l),u=l&&l[4]}l=u}}(l)}}function up(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function iM(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof ro)){const g=u[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const E=f[g[b]],I=g[b+1];try{I.call(E)}finally{}}else try{g.call(f)}finally{}}}}(o,l),function nM(o,l){const u=o.cleanup,h=l[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const b=u[g+1],E="function"==typeof b?b(l):Un(l[b]),I=h[f=u[g+2]],x=u[g+3];"boolean"==typeof x?E.removeEventListener(u[g],I,x):x>=0?h[f=x]():h[f=-x].unsubscribe(),g+=2}else{const b=h[f=u[g+1]];u[g].call(b)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Zi(l[3])){u!==l[3]&&cp(u,l);const h=l[19];null!==h&&h.detachView(o)}!function nE(o){Bv.delete(o[20])}(l)}}function dp(o,l,u){return function dE(o,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===ft.None||f===ft.Emulated)return null}return Wi(h,u)}(o,l.parent,u)}function ld(o,l,u,h,f){o.insertBefore(l,u,h,f)}function hE(o,l,u){o.appendChild(l,u)}function fE(o,l,u,h,f){null!==h?ld(o,l,u,h,f):hE(o,l,u)}function Bn(o,l){return o.parentNode(l)}function Yv(o,l,u){return Ya(o,l,u)}let Ya=function cd(o,l,u){return 40&o.type?Wi(o,u):null};function hp(o,l,u,h){const f=dp(o,h,l),g=l[11],E=Yv(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)fE(g,f,u[I],E,!1);else fE(g,f,u,E,!1)}function Qv(o,l){if(null!==l){const u=l.type;if(3&u)return Wi(l,o);if(4&u)return Xv(-1,o[l.index]);if(8&u){const h=l.child;if(null!==h)return Qv(o,h);{const f=o[l.index];return Zi(f)?Xv(-1,f):Un(f)}}if(32&u)return $g(l,o)()||Un(o[l.index]);{const h=aM(o,l);return null!==h?Array.isArray(h)?h[0]:Qv(Dh(o[16]),h):Qv(o,l.next)}}return null}function aM(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Xv(o,l){const u=10+o+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return Qv(h,f)}return l[7]}function Kg(o,l,u,h,f,g,b){for(;null!=u;){const E=h[u.index],I=u.type;if(b&&0===l&&(E&&xr(Un(E),h),u.flags|=4),64!=(64&u.flags))if(8&I)Kg(o,l,u.child,h,f,g,!1),Ih(l,o,f,E,g);else if(32&I){const x=$g(u,h);let O;for(;O=x();)Ih(l,o,f,O,g);Ih(l,o,f,E,g)}else 16&I?Jv(o,l,h,u,f,g):Ih(l,o,f,E,g);u=b?u.projectionNext:u.next}}function zc(o,l,u,h,f,g){Kg(u,h,o.firstChild,l,f,g,!1)}function Jv(o,l,u,h,f,g){const b=u[16],I=b[6].projection[h.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)Ih(l,o,f,I[x],g);else Kg(o,l,I,b[3],f,g,!0)}function lM(o,l,u){o.setAttribute(l,"style",u)}function Qg(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function tb(o,l,u){let h=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||o.charCodeAt(f+g)<=32)return f}u=f+1}}const gE="ng-template";function cM(o,l,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==tb(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function _E(o){return 4===o.type&&o.value!==gE}function yE(o,l,u){return l===(4!==o.type||u?o.value:gE)}function uM(o,l,u){let h=4;const f=o.attrs||[],g=function hM(o){for(let l=0;l<o.length;l++)if(zo(o[l]))return l;return o.length}(f);let b=!1;for(let E=0;E<l.length;E++){const I=l[E];if("number"!=typeof I){if(!b)if(4&h){if(h=2|1&h,""!==I&&!yE(o,I,u)||""===I&&1===l.length){if(Ka(h))return!1;b=!0}}else{const x=8&h?I:l[++E];if(8&h&&null!==o.attrs){if(!cM(o.attrs,x,u)){if(Ka(h))return!1;b=!0}continue}const U=Xg(8&h?"class":I,f,_E(o),u);if(-1===U){if(Ka(h))return!1;b=!0;continue}if(""!==x){let Y;Y=U>g?"":f[U+1].toLowerCase();const oe=8&h?Y:null;if(oe&&-1!==tb(oe,x,0)||2&h&&x!==Y){if(Ka(h))return!1;b=!0}}}}else{if(!b&&!Ka(h)&&!Ka(I))return!1;if(b&&Ka(I))continue;b=!1,h=I|1&h}}return Ka(h)||b}function Ka(o){return 0==(1&o)}function Xg(o,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const b=l[f];if(b===o)return f;if(3===b||6===b)g=!0;else{if(1===b||2===b){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=g?1:2}return-1}return function fM(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,o)}function dM(o,l,u=!1){for(let h=0;h<l.length;h++)if(uM(o,l[h],u))return!0;return!1}function bE(o,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function wE(o,l){return o?":not("+l.trim()+")":l}function pM(o){let l=o[0],u=1,h=2,f="",g=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&h){const E=o[++u];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!Ka(b)&&(l+=wE(g,f),f=""),h=b,g=g||!Ka(h);u++}return""!==f&&(l+=wE(g,f)),l}const Ut={};function nb(o){CE(qt(),Ae(),di()+o,!1)}function CE(o,l,u,h){if(!h)if(3==(3&l[2])){const g=o.preOrderCheckHooks;null!==g&&xa(l,g,u)}else{const g=o.preOrderHooks;null!==g&&Ma(l,g,0,u)}ur(u)}function DE(o,l=null,u=null,h){const f=IE(o,l,u,h);return f.resolveInjectorInitializers(),f}function IE(o,l=null,u=null,h,f=new Set){const g=[u||Mt,kv(o)];return h=h||("object"==typeof o?void 0:me(o)),new nd(g,l||jc(),h||null,f)}let ud=(()=>{class o{static create(u,h){if(Array.isArray(u))return DE({name:""},h,u,"");{const f=u.name??"";return DE({name:f},u.parent,u.providers,f)}}}return o.THROW_IF_NOT_FOUND=hr,o.NULL=new gh,o.\u0275prov=rn({token:o,providedIn:"any",factory:()=>Vt(np)}),o.__NG_ELEMENT_ID__=-1,o})();function $c(o,l=it.Default){const u=Ae();return null===u?Vt(o,l):qo(Hn(),u,ee(o),l)}function Qi(){throw new Error("invalid")}function Kl(o,l){return o<<17|l<<2}function go(o){return o>>17&32767}function cb(o){return 2|o}function _s(o){return(131068&o)>>2}function Th(o,l){return-131069&o|l<<2}function ub(o){return 1|o}function kh(o,l){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],g=u[h+1];if(-1!==g){const b=o.data[g];El(f),b.contentQueries(2,l[g],g)}}}function md(o,l,u,h,f,g,b,E,I,x,O){const U=l.blueprint.slice();return U[0]=f,U[2]=76|h,(null!==O||o&&1024&o[2])&&(U[2]|=1024),pc(U),U[3]=U[15]=o,U[8]=u,U[10]=b||o&&o[10],U[11]=E||o&&o[11],U[12]=I||o&&o[12]||null,U[9]=x||o&&o[9]||null,U[6]=g,U[20]=function Gx(){return jx++}(),U[21]=O,U[16]=2==l.type?o[16]:U,U}function vp(o,l,u,h,f){let g=o.data[l];if(null===g)g=function mb(o,l,u,h,f){const g=bc(),b=vl(),I=o.data[l]=function NE(o,l,u,h,f,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,u,l,h,f);return null===o.firstChild&&(o.firstChild=I),null!==g&&(b?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(o,l,u,h,f),function hg(){return At.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const b=function Ta(){const o=At.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Dr(g,!0),g}function bp(o,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),o.blueprint.push(h),o.data.push(null);return f}function gb(o,l,u){Ec(l);try{const h=o.viewQuery;null!==h&&d_(1,h,u);const f=o.template;null!==f&&FM(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&kh(o,l),o.staticViewQueries&&d_(2,o.viewQuery,u);const g=o.components;null!==g&&function NM(o,l){for(let u=0;u<l.length;u++)fL(o,l[u])}(l,g)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{l[2]&=-5,Uo()}}function a_(o,l,u,h){const f=l[2];if(128!=(128&f)){Ec(l);try{pc(l),function xu(o){return At.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&FM(o,l,u,2,h);const b=3==(3&f);if(b){const x=o.preOrderCheckHooks;null!==x&&xa(l,x,null)}else{const x=o.preOrderHooks;null!==x&&Ma(l,x,0,null),eh(l,0)}if(function hL(o){for(let l=zv(o);null!==l;l=$v(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],g=f[3];0==(512&f[2])&&Fn(g,1),f[2]|=512}}}(l),function _o(o){for(let l=zv(o);null!==l;l=$v(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];Lo(h)&&a_(f,h,f.template,h[8])}}(l),null!==o.contentQueries&&kh(o,l),b){const x=o.contentCheckHooks;null!==x&&xa(l,x)}else{const x=o.contentHooks;null!==x&&Ma(l,x,1),eh(l,1)}!function pb(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)ur(~f);else{const g=f,b=u[++h],E=u[++h];fg(b,g),E(2,l[g])}}}finally{ur(-1)}}(o,l);const E=o.components;null!==E&&function o_(o,l){for(let u=0;u<l.length;u++)$M(o,l[u])}(l,E);const I=o.viewQuery;if(null!==I&&d_(2,I,h),b){const x=o.viewCheckHooks;null!==x&&xa(l,x)}else{const x=o.viewHooks;null!==x&&Ma(l,x,2),eh(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Fn(l[3],-1))}finally{Uo()}}}function wp(o,l,u,h){const f=l[10],b=_l(l);try{!b&&f.begin&&f.begin(),b&&gb(o,l,h),a_(o,l,u,h)}finally{!b&&f.end&&f.end()}}function FM(o,l,u,h,f){const g=di(),b=2&h;try{ur(-1),b&&l.length>22&&CE(o,l,22,!1),u(h,f)}finally{ur(g)}}function gd(o,l,u){if(Ia(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const b=o.data[g];b.contentQueries&&b.contentQueries(1,u[g],g)}}}function RE(o,l,u){!As()||(function UM(o,l,u,h){const f=u.directiveStart,g=u.directiveEnd;o.firstCreatePass||$o(u,l),xr(h,l);const b=u.initialInputs;for(let E=f;E<g;E++){const I=o.data[E],x=Fi(I);x&&BE(l,u,I);const O=Rs(l,o,E,u);xr(O,l),null!==b&&UE(0,E-f,O,I,0,b),x&&(Xt(u.index,l)[8]=O)}}(o,l,u,Wi(u,l)),128==(128&u.flags)&&function HM(o,l,u){const h=u.directiveStart,f=u.directiveEnd,g=u.index,b=function Mu(){return At.lFrame.currentDirectiveIndex}();try{ur(g);for(let E=h;E<f;E++){const I=o.data[E],x=l[E];wc(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Ep(I,x)}}finally{ur(-1),wc(b)}}(o,l,u))}function sa(o,l,u=Wi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],E=-1===b?u(l,o):o[b];o[f++]=E}}}function l_(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Ii(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Ii(o,l,u,h,f,g,b,E,I,x){const O=22+h,U=O+f,Y=function OE(o,l){const u=[];for(let h=0;h<l;h++)u.push(h<o?null:Ut);return u}(O,U),oe="function"==typeof x?x():x;return Y[1]={type:o,blueprint:Y,template:u,queries:null,viewQuery:E,declTNode:l,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:oe,incompleteFirstPass:!1}}function PE(o,l,u,h){const f=zE(l);null===u?f.push(h):(f.push(u),o.firstCreatePass&&$E(o).push(h,f.length-1))}function c_(o,l,u){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function _b(o,l){const h=l.directiveEnd,f=o.data,g=l.attrs,b=[];let E=null,I=null;for(let x=l.directiveStart;x<h;x++){const O=f[x],U=O.inputs,Y=null===g||_E(l)?null:zM(U,g);b.push(Y),E=c_(U,x,E),I=c_(O.outputs,x,I)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=E,l.outputs=I}function Bs(o,l,u,h,f,g,b,E){const I=Wi(l,u);let O,x=l.inputs;!E&&null!=x&&(O=x[h])?(Ip(o,u,O,h,f),Po(l)&&Cp(u,l.index)):3&l.type&&(h=function LM(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=b?b(f,l.value||"",h):f,g.setProperty(I,h,f))}function Cp(o,l){const u=Xt(l,o);16&u[2]||(u[2]|=32)}function FE(o,l,u,h){let f=!1;if(As()){const g=function Dp(o,l,u){const h=o.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];dM(u,b.selectors,!1)&&(f||(f=[]),so($o(u,l),o,b.type),Fi(b)?(yb(o,u),f.unshift(b)):f.push(b))}return f}(o,l,u),b=null===h?null:{"":-1};if(null!==g){f=!0,Wc(u,o.data.length,g.length);for(let O=0;O<g.length;O++){const U=g[O];U.providersResolver&&U.providersResolver(U)}let E=!1,I=!1,x=bp(o,l,g.length,null);for(let O=0;O<g.length;O++){const U=g[O];u.mergedAttrs=Dl(u.mergedAttrs,U.hostAttrs),vb(o,u,l,x,U),GM(x,U,b),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const Y=U.type.prototype;!E&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!I&&(Y.ngOnChanges||Y.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),x++}_b(o,u)}b&&function jM(o,l,u){if(l){const h=o.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new Ee(-301,!1);h.push(l[f],g)}}}(u,h,b)}return u.mergedAttrs=Dl(u.mergedAttrs,u.attrs),f}function VM(o,l,u,h,f,g){const b=g.hostBindings;if(b){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const I=~l.index;(function LE(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(E)!=I&&E.push(I),E.push(h,f,b)}}function Ep(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function yb(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function GM(o,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=o;Fi(l)&&(u[""]=o)}}function Wc(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function vb(o,l,u,h,f){o.data[h]=f;const g=f.factory||(f.factory=ls(f.type)),b=new ro(g,Fi(f),$c);o.blueprint[h]=b,u[h]=b,VM(o,l,0,h,bp(o,u,f.hostVars,Ut),f)}function BE(o,l,u){const h=Wi(l,o),f=l_(u),g=o[10],b=u_(o,md(o,f,null,u.onPush?32:16,h,l,g,g.createRenderer(h,u),null,null,null));o[l.index]=b}function Xl(o,l,u,h,f,g){const b=Wi(o,l);!function VE(o,l,u,h,f,g,b){if(null==g)o.removeAttribute(l,f,u);else{const E=null==b?be(g):b(g,h||"",f);o.setAttribute(l,f,E,u)}}(l[11],b,g,o.value,u,h,f)}function UE(o,l,u,h,f,g){const b=g[l];if(null!==b){const E=h.setInput;for(let I=0;I<b.length;){const x=b[I++],O=b[I++],U=b[I++];null!==E?h.setInput(u,U,x,O):u[O]=U}}}function zM(o,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function HE(o,l,u,h){return new Array(o,!0,!1,l,null,0,h,u,null,null)}function $M(o,l){const u=Xt(l,o);if(Lo(u)){const h=u[1];48&u[2]?a_(h,u,h.template,u[8]):u[5]>0&&jE(u)}}function jE(o){for(let h=zv(o);null!==h;h=$v(h))for(let f=10;f<h.length;f++){const g=h[f];if(Lo(g))if(512&g[2]){const b=g[1];a_(b,g,b.template,g[8])}else g[5]>0&&jE(g)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Xt(u[h],o);Lo(f)&&f[5]>0&&jE(f)}}function fL(o,l){const u=Xt(l,o),h=u[1];(function qM(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(h,u),gb(h,u,u[8])}function u_(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Yc(o){for(;o;){o[2]|=32;const l=Dh(o);if(Of(o)&&!l)return o;o=l}return null}function d_(o,l,u){El(0),l(o,u)}function zE(o){return o[7]||(o[7]=[])}function $E(o){return o.cleanup||(o.cleanup=[])}function WM(o,l,u){return(null===o||Fi(o))&&(u=function dc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function YM(o,l){const u=o[9],h=u?u.get(Bg,null):null;h&&h.handleError(l)}function Ip(o,l,u,h,f){for(let g=0;g<u.length;){const b=u[g++],E=u[g++],I=l[b],x=o.data[b];null!==x.setInput?x.setInput(I,f,h,E):I[E]=f}}function Qa(o,l,u){const h=Er(l,o);!function Zv(o,l,u){o.setValue(l,u)}(o[11],h,u)}function bb(o,l,u){let h=u?o.styles:null,f=u?o.classes:null,g=0;if(null!==l)for(let b=0;b<l.length;b++){const E=l[b];"number"==typeof E?g=E:1==g?f=ye(f,E):2==g&&(h=ye(h,E+": "+l[++b]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}function wb(o,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Un(g)),Zi(g))for(let E=10;E<g.length;E++){const I=g[E],x=I[1].firstChild;null!==x&&wb(I[1],I,x,h)}const b=u.type;if(8&b)wb(o,l,u.child,h);else if(32&b){const E=$g(u,l);let I;for(;I=E();)h.push(I)}else if(16&b){const E=aM(l,u);if(Array.isArray(E))h.push(...E);else{const I=Dh(l[16]);wb(I[1],I,E,h,!0)}}u=f?u.projectionNext:u.next}return h}class Sp{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return wb(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Zi(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Zg(l,h),On(u,h))}this._attachedToViewContainer=!1}Wg(this._lView[1],this._lView)}onDestroy(l){PE(this._lView[1],this._lView,null,l)}markForCheck(){Yc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function GE(o,l,u){const h=l[10];h.begin&&h.begin();try{a_(o,l,o.template,u)}catch(f){throw YM(l,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xx(o,l){zc(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=l}}class KM extends Sp{constructor(l){super(l),this._view=l}detectChanges(){!function ZM(o){!function pL(o){for(let l=0;l<o.components.length;l++){const u=o.components[l],h=Vv(u);if(null!==h){const f=h[1];wp(f,h,f.template,u)}}}(o[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Tp extends M{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Lt(l);return new f_(u,this.ngModule)}}function h_(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class Eb{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,Ki,h);return f!==Ki||u===Ki?f:this.parentInjector.get(l,u,h)}}class f_ extends Fg{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function mM(o){return o.map(pM).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return h_(this.componentDef.inputs)}get outputs(){return h_(this.componentDef.outputs)}create(l,u,h,f){let g=(f=f||this.ngModule)instanceof Jn?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const b=g?new Eb(l,g):l,E=b.get(St,null);if(null===E)throw new Ee(407,!1);const I=b.get(Ls,null),x=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",U=h?function cL(o,l,u){return o.selectRootElement(l,u===ft.ShadowDom)}(x,h,this.componentDef.encapsulation):qg(E.createRenderer(null,this.componentDef),O,function Cb(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(O)),Y=this.componentDef.onPush?288:272,oe={components:[]},De=Ii(0,null,null,1,0,null,null,null,null,null),Le=md(null,De,oe,Y,null,null,E,x,I,b,null);let Je,at;Ec(Le);try{const tt=function bL(o,l,u,h,f,g){const b=u[1];u[22]=o;const I=vp(b,22,2,"#host",null),x=I.mergedAttrs=l.hostAttrs;null!==x&&(bb(I,x,!0),null!==o&&(ka(f,o,x),null!==I.classes&&Qg(f,o,I.classes),null!==I.styles&&lM(f,o,I.styles)));const O=h.createRenderer(o,l),U=md(u,l_(l),null,l.onPush?32:16,u[22],I,h,O,g||null,null,null);return b.firstCreatePass&&(so($o(I,u),b,l.type),yb(b,I),Wc(I,u.length,1)),u_(u,U),u[22]=U}(U,this.componentDef,Le,E,x);if(U)if(h)ka(x,U,["ng-version",rd.full]);else{const{attrs:Oe,classes:Ct}=function gM(o){const l=[],u=[];let h=1,f=2;for(;h<o.length;){let g=o[h];if("string"==typeof g)2===f?""!==g&&l.push(g,o[++h]):8===f&&u.push(g);else{if(!Ka(f))break;f=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Oe&&ka(x,U,Oe),Ct&&Ct.length>0&&Qg(x,U,Ct.join(" "))}if(at=Fo(De,22),void 0!==u){const Oe=at.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const Kt=u[Ct];Oe.push(null!=Kt?Array.from(Kt):null)}}Je=function wL(o,l,u,h,f){const g=u[1],b=function BM(o,l,u){const h=Hn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),vb(o,h,l,bp(o,l,1,null),u),_b(o,h));const f=Rs(l,o,h.directiveStart,h);xr(f,l);const g=Wi(h,l);return g&&xr(g,l),f}(g,u,l);if(h.components.push(b),o[8]=b,null!==f)for(const I of f)I(b,l);if(l.contentQueries){const I=Hn();l.contentQueries(1,b,I.directiveStart)}const E=Hn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ur(E.index),VM(u[1],E,0,E.directiveStart,E.directiveEnd,l),Ep(l,b)),b}(tt,this.componentDef,Le,oe,[EL]),gb(De,Le,null)}finally{Uo()}return new yL(this.componentType,Je,Q(at,Le),Le,at)}}class yL extends class Ng{}{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new KM(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const g=this._rootLView;Ip(g[1],g,f,l,u),Cp(g,this._tNode.index)}}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function EL(){const o=Hn();Bu(Ae()[1],o)}function qE(o){let l=function QM(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;l;){let f;if(Fi(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ee(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const b=o;b.inputs=ZE(o.inputs),b.declaredInputs=ZE(o.declaredInputs),b.outputs=ZE(o.outputs);const E=f.hostBindings;E&&SL(o,E);const I=f.viewQuery,x=f.contentQueries;if(I&&XM(o,I),x&&IL(o,x),re(o.inputs,f.inputs),re(o.declaredInputs,f.declaredInputs),re(o.outputs,f.outputs),Fi(f)&&f.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let b=0;b<g.length;b++){const E=g[b];E&&E.ngInherit&&E(o),E===qE&&(u=!1)}}l=Object.getPrototypeOf(l)}!function DL(o){let l=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Dl(f.hostAttrs,u=Dl(u,f.hostAttrs))}}(h)}function ZE(o){return o===$i?{}:o===Mt?[]:o}function XM(o,l){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function IL(o,l){const u=o.contentQueries;o.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function SL(o,l){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Db=null;function Rh(){if(!Db){const o=yn.Symbol;if(o&&o.iterator)Db=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Db=h)}}}return Db}function p_(o){return!!YE(o)&&(Array.isArray(o)||!(o instanceof Map)&&Rh()in o)}function YE(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Jl(o,l,u){return o[l]=u}function Wr(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function KE(o,l,u,h){const f=Ae();return Wr(f,Vo(),l)&&(qt(),Xl(Tn(),f,o,l,u,h)),KE}function Mp(o,l,u,h){return Wr(o,Vo(),u)?l+be(u)+h:Ut}function Ap(o,l,u,h,f,g){const E=function Oh(o,l,u,h){const f=Wr(o,l,u);return Wr(o,l+1,h)||f}(o,function cs(){return At.lFrame.bindingIndex}(),u,f);return ks(2),E?l+be(u)+h+be(f)+g:Ut}function oA(o,l,u,h,f,g,b,E){const I=Ae(),x=qt(),O=o+22,U=x.firstCreatePass?function OL(o,l,u,h,f,g,b,E,I){const x=l.consts,O=vp(l,o,4,b||null,Hr(x,E));FE(l,u,O,Hr(x,I)),Bu(l,O);const U=O.tViews=Ii(2,O,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,O),U.queries=l.queries.embeddedTView(O)),O}(O,x,I,l,u,h,f,g,b):x.data[O];Dr(U,!1);const Y=I[11].createComment("");hp(x,I,Y,U),xr(Y,I),u_(I,I[O]=HE(Y,I,Y,U)),_u(U)&&RE(x,I,U),null!=b&&sa(I,U,E)}function aA(o){return Ms(function Tu(){return At.lFrame.contextLView}(),22+o)}function JE(o,l,u){const h=Ae();return Wr(h,Vo(),l)&&Bs(qt(),Tn(),h,o,l,h[11],u,!1),JE}function eD(o,l,u,h,f){const b=f?"class":"style";Ip(o,u,l.inputs[b],b,h)}function Sb(o,l,u,h){const f=Ae(),g=qt(),b=22+o,E=f[11],I=f[b]=qg(E,l,function Ic(){return At.lFrame.currentNamespace}()),x=g.firstCreatePass?function NL(o,l,u,h,f,g,b){const E=l.consts,x=vp(l,o,2,f,Hr(E,g));return FE(l,u,x,Hr(E,b)),null!==x.attrs&&bb(x,x.attrs,!1),null!==x.mergedAttrs&&bb(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(b,g,f,0,l,u,h):g.data[b];Dr(x,!0);const O=x.mergedAttrs;null!==O&&ka(E,I,O);const U=x.classes;null!==U&&Qg(E,I,U);const Y=x.styles;return null!==Y&&lM(E,I,Y),64!=(64&x.flags)&&hp(g,f,I,x),0===function gc(){return At.lFrame.elementDepthCount}()&&xr(I,f),function _c(){At.lFrame.elementDepthCount++}(),_u(x)&&(RE(g,f,x),gd(g,x,f)),null!==h&&sa(f,x),Sb}function Tb(){let o=Hn();vl()?bl():(o=o.parent,Dr(o,!1));const l=o;!function Du(){At.lFrame.elementDepthCount--}();const u=qt();return u.firstCreatePass&&(Bu(u,o),Ia(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function xc(o){return 0!=(16&o.flags)}(l)&&eD(u,l,Ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function nh(o){return 0!=(32&o.flags)}(l)&&eD(u,l,Ae(),l.stylesWithoutHost,!1),Tb}function tD(o,l,u,h){return Sb(o,l,u,h),Tb(),tD}function xb(o,l,u){const h=Ae(),f=qt(),g=o+22,b=f.firstCreatePass?function FL(o,l,u,h,f){const g=l.consts,b=Hr(g,h),E=vp(l,o,8,"ng-container",b);return null!==b&&bb(E,b,!0),FE(l,u,E,Hr(g,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(g,f,h,l,u):f.data[g];Dr(b,!0);const E=h[g]=h[11].createComment("");return hp(f,h,E,b),xr(E,h),_u(b)&&(RE(f,h,b),gd(f,b,h)),null!=u&&sa(h,b),xb}function Mb(){let o=Hn();const l=qt();return vl()?bl():(o=o.parent,Dr(o,!1)),l.firstCreatePass&&(Bu(l,o),Ia(o)&&l.queries.elementEnd(o)),Mb}function nD(o,l,u){return xb(o,l,u),Mb(),nD}function lA(){return Ae()}function iD(o){return!!o&&"function"==typeof o.then}function cA(o){return!!o&&"function"==typeof o.subscribe}const uA=cA;function rD(o,l,u,h){const f=Ae(),g=qt(),b=Hn();return dA(g,f,f[11],b,o,l,0,h),rD}function sD(o,l){const u=Hn(),h=Ae(),f=qt();return dA(f,h,WM(Cl(f.data),u,h),u,o,l),sD}function dA(o,l,u,h,f,g,b,E){const I=_u(h),O=o.firstCreatePass&&$E(o),U=l[8],Y=zE(l);let oe=!0;if(3&h.type||E){const Je=Wi(h,l),at=E?E(Je):Je,tt=Y.length,Oe=E?Kt=>E(Un(Kt[h.index])):h.index;let Ct=null;if(!E&&I&&(Ct=function LL(o,l,u,h){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const b=f[g];if(b===u&&f[g+1]===h){const E=l[7],I=f[g+2];return E.length>I?E[I]:null}"string"==typeof b&&(g+=2)}return null}(o,l,f,h.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=g,Ct.__ngLastListenerFn__=g,oe=!1;else{g=fA(h,l,U,g,!1);const Kt=u.listen(at,f,g);Y.push(g,Kt),O&&O.push(f,Oe,tt,tt+1)}}else g=fA(h,l,U,g,!1);const De=h.outputs;let Le;if(oe&&null!==De&&(Le=De[f])){const Je=Le.length;if(Je)for(let at=0;at<Je;at+=2){const Nn=l[Le[at]][Le[at+1]].subscribe(g),Co=Y.length;Y.push(g,Nn),O&&O.push(f,h.index,Co,-(Co+1))}}}function hA(o,l,u,h){try{return!1!==u(h)}catch(f){return YM(o,f),!1}}function fA(o,l,u,h,f){return function g(b){if(b===Function)return h;Yc(2&o.flags?Xt(o.index,l):l);let I=hA(l,0,h,b),x=g.__ngNextListenerFn__;for(;x;)I=hA(l,0,x,b)&&I,x=x.__ngNextListenerFn__;return f&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function pA(o=1){return function Ho(o){return(At.lFrame.contextLView=function Dc(o,l){for(;o>0;)l=l[15],o--;return l}(o,At.lFrame.contextLView))[8]}(o)}function BL(o,l){let u=null;const h=function vE(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?dM(o,g,!0):bE(h,g))return f}else u=f}return u}function mA(o){const l=Ae()[16][6];if(!l.projection){const h=l.projection=lo(o?o.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const b=o?BL(g,o):0;null!==b&&(f[b]?f[b].projectionNext=g:h[b]=g,f[b]=g),g=g.next}}}function gA(o,l=0,u){const h=Ae(),f=qt(),g=vp(f,22+o,16,null,u||null);null===g.projection&&(g.projection=l),bl(),64!=(64&g.flags)&&function $F(o,l,u){Jv(l[11],0,l,u,dp(o,u,l),Yv(u.parent||l[6],u,l))}(f,h,g)}function Ab(o,l,u,h,f){const g=Ae(),b=Mp(g,l,u,h);return b!==Ut&&Bs(qt(),Tn(),g,o,b,g[11],f,!1),Ab}function SA(o,l,u,h,f){const g=o[u+1],b=null===l;let E=h?go(g):_s(g),I=!1;for(;0!==E&&(!1===I||b);){const O=o[E+1];HL(o[E],l)&&(I=!0,o[E+1]=h?ub(O):cb(O)),E=h?go(O):_s(O)}I&&(o[u+1]=h?cb(g):ub(g))}function HL(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&co(o,l)>=0}function Rb(o,l,u){return yo(o,l,u,!1),Rb}function Ob(o,l){return yo(o,l,null,!0),Ob}function yo(o,l,u,h){const f=Ae(),g=qt(),b=ks(2);g.firstUpdatePass&&function Nb(o,l,u,h){const f=o.data;if(null===f[u+1]){const g=f[di()],b=function AA(o,l){return l>=o.expandoStartIndex}(o,u);(function hD(o,l){return 0!=(o.flags&(l?16:32))})(g,h)&&null===l&&!b&&(l=!1),l=function GL(o,l,u,h){const f=Cl(o);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=y_(u=uD(null,o,l,u,h),l.attrs,h),g=null);else{const b=l.directiveStylingLast;if(-1===b||o[b]!==f)if(u=uD(f,o,l,u,h),null===g){let I=function kA(o,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==_s(h))return o[go(h)]}(o,l,h);void 0!==I&&Array.isArray(I)&&(I=uD(null,o,l,I[1],h),I=y_(I,l.attrs,h),function zL(o,l,u,h){o[go(u?l.classBindings:l.styleBindings)]=h}(o,l,h,I))}else g=function RA(o,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=y_(h,o[g].hostAttrs,u);return y_(h,l.attrs,u)}(o,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function VL(o,l,u,h,f,g){let b=g?l.classBindings:l.styleBindings,E=go(b),I=_s(b);o[h]=u;let O,x=!1;if(Array.isArray(u)){const U=u;O=U[1],(null===O||co(U,O)>0)&&(x=!0)}else O=u;if(f)if(0!==I){const Y=go(o[E+1]);o[h+1]=Kl(Y,E),0!==Y&&(o[Y+1]=Th(o[Y+1],h)),o[E+1]=function mp(o,l){return 131071&o|l<<17}(o[E+1],h)}else o[h+1]=Kl(E,0),0!==E&&(o[E+1]=Th(o[E+1],h)),E=h;else o[h+1]=Kl(I,0),0===E?E=h:o[I+1]=Th(o[I+1],h),I=h;x&&(o[h+1]=cb(o[h+1])),SA(o,O,h,!0),SA(o,O,h,!1),function UL(o,l,u,h,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof l&&co(g,l)>=0&&(u[h+1]=ub(u[h+1]))}(l,O,o,h,g),b=Kl(E,I),g?l.classBindings=b:l.styleBindings=b}(f,g,l,u,b,h)}}(g,o,b,h),l!==Ut&&Wr(f,b,l)&&function Fb(o,l,u,h,f,g,b,E){if(!(3&l.type))return;const I=o.data,x=I[E+1];yd(function qc(o){return 1==(1&o)}(x)?OA(I,l,u,f,_s(x),b):void 0)||(yd(g)||function lb(o){return 2==(2&o)}(x)&&(g=OA(I,null,u,f,E,b)),function eb(o,l,u,h,f){if(l)f?o.addClass(u,h):o.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:Wa.DashCase;null==f?o.removeStyle(u,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Wa.Important),o.setStyle(u,h,f,g))}}(h,b,Er(di(),u),f,g))}(g,g.data[di()],f,f[11],o,f[b+1]=function PA(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=me($r(o)))),o}(l,u),h,b)}function uD(o,l,u,h,f){let g=null;const b=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<b&&(g=l[E],h=y_(h,g.hostAttrs,f),g!==o);)E++;return null!==o&&(u.directiveStylingLast=E),h}function y_(o,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const b=l[g];"number"==typeof b?f=b:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),qe(o,b,!!u||l[++g]))}return void 0===o?null:o}function OA(o,l,u,h,f,g){const b=null===l;let E;for(;f>0;){const I=o[f],x=Array.isArray(I),O=x?I[1]:I,U=null===O;let Y=u[f+1];Y===Ut&&(Y=U?Mt:void 0);let oe=U?Nl(Y,h):O===h?Y:void 0;if(x&&!yd(oe)&&(oe=Nl(I,h)),yd(oe)&&(E=oe,b))return E;const De=o[f+1];f=b?go(De):_s(De)}if(null!==l){let I=g?l.residualClasses:l.residualStyles;null!=I&&(E=Nl(I,h))}return E}function yd(o){return void 0!==o}function fD(o,l=""){const u=Ae(),h=qt(),f=o+22,g=h.firstCreatePass?vp(h,f,1,l,null):h.data[f],b=u[f]=function qv(o,l){return o.createText(l)}(u[11],l);hp(h,u,b,g),Dr(g,!1)}function Lb(o){return v_("",o,""),Lb}function v_(o,l,u){const h=Ae(),f=Mp(h,o,l,u);return f!==Ut&&Qa(h,di(),f),v_}function Bb(o,l,u,h,f){const g=Ae(),b=Ap(g,o,l,u,h,f);return b!==Ut&&Qa(g,di(),b),Bb}function w_(o,l,u){const h=Ae();return Wr(h,Vo(),l)&&Bs(qt(),Tn(),h,o,l,h[11],u,!0),w_}function C_(o,l,u){const h=Ae();if(Wr(h,Vo(),l)){const g=qt(),b=Tn();Bs(g,b,h,o,l,WM(Cl(g.data),b,h),u,!0)}return C_}const Fh=void 0;var eB=["en",[["a","p"],["AM","PM"],Fh],[["AM","PM"],Fh,Fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fh,"{1} 'at' {0}",Fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JL(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Up={};function E_(o){const l=function nB(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=CD(l);if(u)return u;const h=l.split("-")[0];if(u=CD(h),u)return u;if("en"===h)return eB;throw new Ee(701,!1)}function GA(o){return E_(o)[Ue.PluralCase]}function CD(o){return o in Up||(Up[o]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[o]),Up[o]}var Ue=(()=>((Ue=Ue||{})[Ue.LocaleId=0]="LocaleId",Ue[Ue.DayPeriodsFormat=1]="DayPeriodsFormat",Ue[Ue.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ue[Ue.DaysFormat=3]="DaysFormat",Ue[Ue.DaysStandalone=4]="DaysStandalone",Ue[Ue.MonthsFormat=5]="MonthsFormat",Ue[Ue.MonthsStandalone=6]="MonthsStandalone",Ue[Ue.Eras=7]="Eras",Ue[Ue.FirstDayOfWeek=8]="FirstDayOfWeek",Ue[Ue.WeekendRange=9]="WeekendRange",Ue[Ue.DateFormat=10]="DateFormat",Ue[Ue.TimeFormat=11]="TimeFormat",Ue[Ue.DateTimeFormat=12]="DateTimeFormat",Ue[Ue.NumberSymbols=13]="NumberSymbols",Ue[Ue.NumberFormats=14]="NumberFormats",Ue[Ue.CurrencyCode=15]="CurrencyCode",Ue[Ue.CurrencySymbol=16]="CurrencySymbol",Ue[Ue.CurrencyName=17]="CurrencyName",Ue[Ue.Currencies=18]="Currencies",Ue[Ue.Directionality=19]="Directionality",Ue[Ue.PluralCase=20]="PluralCase",Ue[Ue.ExtraData=21]="ExtraData",Ue))();const Kc="en-US";let zA=Kc;function t0(o,l,u,h,f){if(o=ee(o),Array.isArray(o))for(let g=0;g<o.length;g++)t0(o[g],l,u,h,f);else{const g=qt(),b=Ae();let E=$a(o)?o:ee(o.provide),I=mo(o);const x=Hn(),O=1048575&x.providerIndexes,U=x.directiveStart,Y=x.providerIndexes>>20;if($a(o)||!o.multi){const oe=new ro(I,f,$c),De=Bh(E,l,f?O:O+Y,U);-1===De?(so($o(x,b),g,E),n0(g,o,l.length),l.push(E),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(oe),b.push(oe)):(u[De]=oe,b[De]=oe)}else{const oe=Bh(E,l,O+Y,U),De=Bh(E,l,O,O+Y),Le=oe>=0&&u[oe],Je=De>=0&&u[De];if(f&&!Je||!f&&!Le){so($o(x,b),g,E);const at=function UD(o,l,u,h,f){const g=new ro(o,u,$c);return g.multi=[],g.index=l,g.componentProviders=0,VD(g,f,h&&!u),g}(f?mk:pk,u.length,f,h,I);!f&&Je&&(u[De].providerFactory=at),n0(g,o,l.length,0),l.push(E),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(at),b.push(at)}else n0(g,o,oe>-1?oe:De,VD(u[f?De:oe],I,!f&&h));!f&&h&&Je&&u[De].componentProviders++}}}function n0(o,l,u,h){const f=$a(l),g=function qa(o){return!!o.useClass}(l);if(f||g){const I=(g?ee(l.useClass):l).prototype.ngOnDestroy;if(I){const x=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const O=x.indexOf(u);-1===O?x.push(u,[h,I]):x[O+1].push(h,I)}else x.push(u,I)}}}function VD(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function Bh(o,l,u,h){for(let f=u;f<h;f++)if(l[f]===o)return f;return-1}function pk(o,l,u,h){return zp(this.multi,[])}function mk(o,l,u,h){const f=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=Rs(u,u[1],this.providerFactory.index,h);g=E.slice(0,b),zp(f,g);for(let I=b;I<E.length;I++)g.push(E[I])}else g=[],zp(f,g);return g}function zp(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function r0(o,l=[]){return u=>{u.providersResolver=(h,f)=>function BD(o,l,u){const h=qt();if(h.firstCreatePass){const f=Fi(o);t0(u,h.data,h.blueprint,f,!0),t0(l,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,l)}}class Xc{}class cn{}function Ui(o,l){return new $p(o,l??null)}class $p extends Xc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tp(this);const h=qi(l);this._bootstrapComponents=Wl(h.bootstrap),this._r3Injector=IE(l,u,[{provide:Xc,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],me(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class s0 extends cn{constructor(l){super(),this.moduleType=l}create(l){return new $p(this.moduleType,l)}}class mB extends Xc{constructor(l,u,h){super(),this.componentFactoryResolver=new Tp(this),this.instance=null;const f=new nd([...l,{provide:Xc,useValue:this},{provide:M,useValue:this.componentFactoryResolver}],u||jc(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function o0(o,l,u=null){return new mB(o,l,u).injector}let a0=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=fr(0,u.type),f=h.length>0?o0([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=rn({token:o,providedIn:"environment",factory:()=>new o(Vt(Jn))}),o})();function _k(o){o.getStandaloneInjector=l=>l.get(a0).getOrCreateStandaloneInjector(o)}function $D(o,l,u){const h=jn()+o,f=Ae();return f[h]===Ut?Jl(f,h,u?l.call(u):l()):function m_(o,l){return o[l]}(f,h)}function Hi(o,l,u,h){return ZD(Ae(),jn(),o,l,u,h)}function ZD(o,l,u,h,f,g){const b=l+u;return Wr(o,b,f)?Jl(o,b+1,g?h.call(g,f):h(f)):function qp(o,l){const u=o[l];return u===Ut?void 0:u}(o,b+1)}function O_(o,l){const u=qt();let h;const f=o+22;u.firstCreatePass?(h=function P_(o,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(o===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=ls(h.type)),b=Wn($c);try{const E=Tl(!1),I=g();return Tl(E),function PL(o,l,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=h}(u,Ae(),f,I),I}finally{Wn(b)}}function N_(o,l,u){const h=o+22,f=Ae(),g=Ms(f,h);return function Wp(o,l){return o[1].data[l].pure}(f,h)?ZD(f,jn(),l,g.transform,u,g):g.transform(u)}function F_(o){return l=>{setTimeout(o,void 0,l)}}const Vs=class Yp extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,g=u||(()=>null),b=h;if(l&&"object"==typeof l){const I=l;f=I.next?.bind(I),g=I.error?.bind(I),b=I.complete?.bind(I)}this.__isAsync&&(g=F_(g),f&&(f=F_(f)),b&&(b=F_(b)));const E=super.subscribe({next:f,error:g,complete:b});return l instanceof ie.w0&&l.add(E),E}};function KD(){return this._results[Rh()]()}class L_{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Rh(),h=L_.prototype;h[u]||(h[u]=KD)}get changes(){return this._changes||(this._changes=new Vs)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=Sn(l);(this._changesDetected=!function wt(o,l,u){if(o.length!==l.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kp=(()=>{class o{}return o.__NG_ELEMENT_ID__=QD,o})();const Ak=Kp,kk=class extends Ak{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=md(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(h)),gb(h,f,l),new Sp(f)}};function QD(){return Vh(Hn(),Ae())}function Vh(o,l){return 4&o.type?new kk(l,o,Q(o,l)):null}let Qp=(()=>{class o{}return o.__NG_ELEMENT_ID__=u0,o})();function u0(){return d0(Hn(),Ae())}const XD=Qp,Uh=class extends XD{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Q(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const l=Rc(this._hostTNode,this._hostLView);if(rh(l)){const u=Sl(l,this._hostLView),h=wi(l);return new Zo(u[1].data[h+8],u)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=JD(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const b=l.createEmbeddedView(u||{},g);return this.insert(b,f),b}createComponent(l,u,h,f,g){const b=l&&!function Ir(o){return"function"==typeof o}(l);let E;if(b)E=u;else{const U=u||{};E=U.index,h=U.injector,f=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const I=b?l:new f_(Lt(l)),x=h||this.parentInjector;if(!g&&null==I.ngModule){const Y=(b?x:this.parentInjector).get(Jn,null);Y&&(g=Y)}const O=I.create(x,f,void 0,g);return this.insert(O.hostView,E),O}insert(l,u){const h=l._lView,f=h[1];if(function fc(o){return Zi(o[3])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const U=h[3],Y=new Uh(U,U[6],U[3]);Y.detach(Y.indexOf(l))}}const g=this._adjustIndex(u),b=this._lContainer;!function eM(o,l,u,h){const f=10+h,g=u.length;h>0&&(u[f-1][4]=l),h<g-10?(l[4]=u[f],Ol(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function tM(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(b,l);const E=l[19];null!==E&&E.insertView(o),l[2]|=64}(f,h,b,g);const E=Xv(g,b),I=h[11],x=Bn(I,b[7]);return null!==x&&function zF(o,l,u,h,f,g){h[0]=f,h[6]=l,zc(o,h,u,1,f,g)}(f,b[6],I,h,x,E),l.attachToViewContainerRef(),Ol(Xp(b),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=JD(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Zg(this._lContainer,u);h&&(On(Xp(this._lContainer),u),Wg(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Zg(this._lContainer,u);return h&&null!=On(Xp(this._lContainer),u)?new Sp(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function JD(o){return o[8]}function Xp(o){return o[8]||(o[8]=[])}function d0(o,l){let u;const h=l[o.index];if(Zi(h))u=h;else{let f;if(8&o.type)f=Un(h);else{const g=l[11];f=g.createComment("");const b=Wi(o,l);ld(g,Bn(g,b),f,function oM(o,l){return o.nextSibling(l)}(g,b),!1)}l[o.index]=u=HE(h,l,f,o),u_(l,u)}return new Uh(u,o,l)}class B_{constructor(l){this.queryList=l,this.matches=null}clone(){return new B_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jp{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const b=u.getByIndex(g);f.push(this.queries[b.indexInDeclarationView].clone())}return new Jp(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==sI(l,u).matches&&this.queries[u].setDirty()}}class eI{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class f0{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new f0(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class p0{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new p0(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,V_(u,g)),this.matchTNodeWithReadOption(l,u,Ra(u,l,g,!1,!1))}else h===Kp?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ra(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===fe||f===Qp||f===Kp&&4&u.type)this.addMatch(u.index,-2);else{const g=Ra(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function V_(o,l){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function g0(o,l,u,h){return-1===u?function m0(o,l){return 11&o.type?Q(o,l):4&o.type?Vh(o,l):null}(l,o):-2===u?function _0(o,l,u){return u===fe?Q(l,o):u===Kp?Vh(l,o):u===Qp?d0(l,o):void 0}(o,l,h):Rs(o,o[1],u,l)}function y0(o,l,u,h){const f=l[19].queries[h];if(null===f.matches){const g=o.data,b=u.matches,E=[];for(let I=0;I<b.length;I+=2){const x=b[I];E.push(x<0?null:g0(l,g[x],b[I+1],u.metadata.read))}f.matches=E}return f.matches}function v0(o,l,u,h){const f=o.queries.getByIndex(u),g=f.matches;if(null!==g){const b=y0(o,l,f,u);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)h.push(b[E/2]);else{const x=g[E+1],O=l[-I];for(let U=10;U<O.length;U++){const Y=O[U];Y[17]===Y[3]&&v0(Y[1],Y,x,h)}if(null!==O[9]){const U=O[9];for(let Y=0;Y<U.length;Y++){const oe=U[Y];v0(oe[1],oe,x,h)}}}}}return h}function b0(o){const l=Ae(),u=qt(),h=Au();El(h+1);const f=sI(u,h);if(o.dirty&&_l(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?v0(u,l,h,[]):y0(u,l,f,h);o.reset(g,je),o.notifyOnChanges()}return!0}return!1}function em(o,l,u){const h=qt();h.firstCreatePass&&(rI(h,new eI(o,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),iI(h,Ae(),l)}function tI(o,l,u,h){const f=qt();if(f.firstCreatePass){const g=Hn();rI(f,new eI(l,u,h),g.index),function Nk(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}iI(f,Ae(),u)}function nI(){return function Pk(o,l){return o[19].queries[l].queryList}(Ae(),Au())}function iI(o,l,u){const h=new L_(4==(4&u));PE(o,l,h,h.destroy),null===l[19]&&(l[19]=new Jp),l[19].queries.push(new B_(h))}function rI(o,l,u){null===o.queries&&(o.queries=new f0),o.queries.track(new p0(l,u))}function sI(o,l){return o.queries.getByIndex(l)}function Q_(...o){}const T0=new In("Application Initializer");let sl=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Q_,this.reject=Q_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(iD(g))u.push(g);else if(uA(g)){const b=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Vt(T0,8))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const X_=new In("AppId",{providedIn:"root",factory:function Ed(){return`${J_()}${J_()}${J_()}`}});function J_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jh=new In("Platform Initializer"),Dd=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),x0=new In("appBootstrapListener"),Ji=new In("AnimationModuleType");let nm=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Us=new In("LocaleId",{providedIn:"root",factory:()=>S(Us,it.Optional|it.SkipSelf)||function M0(){return typeof $localize<"u"&&$localize.locale||Kc}()}),Ar=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tc{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ol=(()=>{class o{compileModuleSync(u){return new s0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Wl(qi(u).declarations).reduce((b,E)=>{const I=Lt(E);return I&&b.push(new f_(I)),b},[]);return new tc(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Kk=(()=>Promise.resolve(0))();function R0(o){typeof Zone>"u"?Kk.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class bo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Qk(){let o=yn.requestAnimationFrame,l=yn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Gh(o){const l=()=>{!function ty(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(yn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,O0(o),o.isCheckStableRunning=!0,rm(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),O0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,b,E)=>{try{return zh(o),u.invokeTask(f,g,b,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&l(),EI(o)}},onInvoke:(u,h,f,g,b,E,I)=>{try{return zh(o),u.invoke(f,g,b,E,I)}finally{o.shouldCoalesceRunChangeDetection&&l(),EI(o)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,O0(o),rm(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Ee(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+f,l,CI,Q_,Q_);try{return g.runTask(b,u,h)}finally{g.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const CI={};function rm(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function O0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function zh(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function EI(o){o._nesting--,rm(o)}class Xk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const $h=new In(""),sm=new In("");let ny,DI=(()=>{class o{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ny||(function II(o){ny=o}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),R0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())R0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Vt(bo),Vt(P0),Vt(sm))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})(),P0=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return ny?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),nc=null;const N0=new In("AllowMultipleToken"),iy=new In("PlatformDestroyListeners");class eR{constructor(l,u){this.name=l,this.token=u}}function sy(o,l,u=[]){const h=`Platform: ${l}`,f=new In(h);return(g=[])=>{let b=L0();if(!b||b.injector.get(N0,!1)){const E=[...u,...g,{provide:f,useValue:!0}];o?o(E):function TI(o){if(nc&&!nc.get(N0,!1))throw new Ee(400,!1);nc=o;const l=o.get(AI);(function ry(o){const l=o.get(jh,null);l&&l.forEach(u=>u())})(o)}(function MI(o=[],l){return ud.create({name:l,providers:[{provide:Fs,useValue:"platform"},{provide:iy,useValue:new Set([()=>nc=null])},...o]})}(E,h))}return function nR(o){const l=L0();if(!l)throw new Ee(401,!1);return l}()}}function L0(){return nc?.get(AI)??null}let AI=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function B0(o,l){let u;return u="noop"===o?new Xk:("zone.js"===o?void 0:o)||new bo(l),u}(h?.ngZone,function kI(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:bo,useValue:f}];return f.run(()=>{const b=ud.create({providers:g,parent:this.injector,name:u.moduleType.name}),E=u.create(b),I=E.injector.get(Bg,null);if(!I)throw new Ee(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:O=>{I.handleError(O)}});E.onDestroy(()=>{ay(this._modules,E),x.unsubscribe()})}),function V0(o,l,u){try{const h=u();return iD(h)?h.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>o.handleError(h)),h}}(I,f,()=>{const x=E.injector.get(sl);return x.runInitializers(),x.donePromise.then(()=>(function ED(o){zt(o,"Expected localeId to be defined"),"string"==typeof o&&(zA=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Us,Kc)||Kc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,h=[]){const f=U0({},h);return function SI(o,l,u){const h=new s0(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(oy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ee(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(iy,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Vt(ud))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function U0(o,l){return Array.isArray(l)?l.reduce(U0,o):{...o,...l}}let oy=(()=>{class o{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new B.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new B.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),R0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,de.T)(g,b.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof Fg;if(!this._injector.get(sl).done)throw!f&&os(u),new Ee(405,false);let b;b=f?u:this._injector.get(M).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const E=function F0(o){return o.isBoundToModule}(b)?void 0:this._injector.get(Xc),x=b.create(ud.NULL,[],h||b.selector,E),O=x.location.nativeElement,U=x.injector.get($h,null);return U?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),ay(this.components,x),U?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;ay(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(x0,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ay(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Vt(bo),Vt(Jn),Vt(Bg))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ay(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let OI=!0,H0=!1;function PI(){return H0=!0,OI}function sR(){if(H0)throw new Error("Cannot enable prod mode after platform setup.");OI=!1}let j0=(()=>{class o{}return o.__NG_ELEMENT_ID__=oR,o})();function oR(o){return function aR(o,l,u){if(Po(o)&&!u){const h=Xt(o.index,l);return new Sp(h,h)}return 47&o.type?new Sp(l[16],l):null}(Hn(),Ae(),16==(16&o))}class Z0{constructor(){}supports(l){return p_(l)}create(l){return new pn(l)}}const Cn=(o,l)=>l;class pn{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Cn}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const b=!h||u&&u.currentIndex<hy(h,f,g)?u:h,E=hy(b,f,g),I=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{g||(g=[]);const x=E-f,O=I-f;if(x!=O){for(let Y=0;Y<x;Y++){const oe=Y<g.length?g[Y]:g[Y]=0,De=oe+Y;O<=De&&De<x&&(g[Y]=oe+1)}g[b.previousIndex]=O-x}}E!==I&&l(b,E,I)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!p_(l))throw new Ee(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)g=l[E],b=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,g,b,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,b,E),h=!0),u=u._next}else f=0,function AL(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Rh()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,E=>{b=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,E,b,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new Yt(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Mn),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mn),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Yt{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eu{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Mn{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new eu,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hy(o,l,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class VI{constructor(){}supports(l){return l instanceof Map||YE(l)}create(){return new lm}}class lm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||YE(l)))throw new Ee(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,b=f._next;return g&&(g._next=b),b&&(b._prev=g),f._next=null,f._prev=null,f}const h=new UI(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class UI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $n(){return new Gt([new Z0])}let Gt=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||$n()),deps:[[o,new It,new Pe]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ee(901,!1)}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:$n}),o})();function HI(){return new cm([new VI])}let cm=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||HI()),deps:[[o,new It,new Pe]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Ee(901,!1)}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:HI}),o})();const jI=sy(null,"core",[]);let Sd=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Vt(oy))},o.\u0275mod=pt({type:o}),o.\u0275inj=Ft({}),o})();function W0(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ht,xe,V)=>{V.d(xe,{Z:()=>Ee});var a=V(2090),ie=V(4859),B=V(9681),de=V(1877);class ce{constructor(be,_e){this._delegate=be,this.firebase=_e,(0,B._addComponent)(be,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(be,_e=B._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(be);return!ut.isInitialized()&&"EXPLICIT"===(null===(rt=ut.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:_e})}_removeServiceInstance(be,_e=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(_e)}_addComponent(be){(0,B._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,B._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ye(){const ot=function me(ot){const be={},_e={__esModule:!0,initializeApp:function ke(Ze,z={}){const ve=B.initializeApp(Ze,z);if((0,a.r3)(be,ve.name))return be[ve.name];const J=new ot(ve,_e);return be[ve.name]=J,J},app:ut,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Se(Ze){const z=Ze.name,ve=z.replace("-compat","");if(B._registerComponent(Ze)&&"PUBLIC"===Ze.type){const J=(se=ut())=>{if("function"!=typeof se[ve])throw re.create("invalid-app-argument",{appName:z});return se[ve]()};void 0!==Ze.serviceProps&&(0,a.ZB)(J,Ze.serviceProps),_e[ve]=J,ot.prototype[ve]=function(...se){return this._getService.bind(this,z).apply(this,Ze.multipleInstances?se:[])}}return"PUBLIC"===Ze.type?_e[ve]:null},removeApp:function rt(Ze){delete be[Ze]},useAsService:function ze(Ze,z){return"serverAuth"===z?null:z},modularAPIs:B}};function ut(Ze){if(!(0,a.r3)(be,Ze=Ze||B._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ze});return be[Ze]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Ce(){return Object.keys(be).map(Ze=>be[Ze])}}),ut.App=ot,_e}(ce);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function be(_e){(0,a.ZB)(ot,_e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ot}(),Z=new de.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=$;!function Re(ot){(0,B.registerVersion)("@firebase/app-compat","0.1.33",ot)}()},9681:(ht,xe,V)=>{V.r(xe),V.d(xe,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Ks,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>_n,_clearComponents:()=>Ea,_components:()=>Zn,_getProvider:()=>Ft,_registerComponent:()=>zi,_removeServiceInstance:()=>dn,deleteApp:()=>Da,getApp:()=>or,getApps:()=>vr,initializeApp:()=>ss,onLog:()=>Es,registerVersion:()=>ar,setLogLevel:()=>Wn});var a=V(5861),ie=V(4859),B=V(1877),de=V(2090),ce=V(8766);class pe{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function re(j){return"VERSION"===j.getComponent()?.type}(K)){const Me=K.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter(K=>K).join(" ")}}const me="@firebase/app",$=new B.Yd("@firebase/app"),zt="[DEFAULT]",Qe={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Zn=new Map;function nn(j,W){try{j.container.addComponent(W)}catch(K){$.debug(`Component ${W.name} failed to register with FirebaseApp ${j.name}`,K)}}function rn(j,W){j.container.addOrOverwriteComponent(W)}function zi(j){const W=j.name;if(Zn.has(W))return $.debug(`There were multiple attempts to register component ${W}.`),!1;Zn.set(W,j);for(const K of _n.values())nn(K,j);return!0}function Ft(j,W){const K=j.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),j.container.getProvider(W)}function dn(j,W,K=zt){Ft(j,W).clearInstance(K)}function Ea(){Zn.clear()}const Ni=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sr{constructor(W,K,Me){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const Ks="9.9.4";function ss(j,W={}){"object"!=typeof W&&(W={name:W});const K=Object.assign({name:zt,automaticDataCollectionEnabled:!1},W),Me=K.name;if("string"!=typeof Me||!Me)throw Ni.create("bad-app-name",{appName:String(Me)});const $e=_n.get(Me);if($e){if((0,de.vZ)(j,$e.options)&&(0,de.vZ)(K,$e.config))return $e;throw Ni.create("duplicate-app",{appName:Me})}const pt=new ie.H0(Me);for(const an of Zn.values())pt.addComponent(an);const Dn=new sr(j,K,pt);return _n.set(Me,Dn),Dn}function or(j=zt){const W=_n.get(j);if(!W)throw Ni.create("no-app",{appName:j});return W}function vr(){return Array.from(_n.values())}function Da(j){return it.apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(j){const W=j.name;_n.has(W)&&(_n.delete(W),yield Promise.all(j.container.getProviders().map(K=>K.delete())),j.isDeleted=!0)})).apply(this,arguments)}function ar(j,W,K){var Me;let $e=null!==(Me=Qe[j])&&void 0!==Me?Me:j;K&&($e+=`-${K}`);const pt=$e.match(/\s|\//),Dn=W.match(/\s|\//);if(pt||Dn){const an=[`Unable to register library "${$e}" with version "${W}":`];return pt&&an.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),pt&&Dn&&an.push("and"),Dn&&an.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void $.warn(an.join(" "))}zi(new ie.wA(`${$e}-version`,()=>({library:$e,version:W}),"VERSION"))}function Es(j,W){if(null!==j&&"function"!=typeof j)throw Ni.create("invalid-log-argument");(0,B.Am)(j,W)}function Wn(j){(0,B.Ub)(j)}const Yn="firebase-heartbeat-store";let ni=null;function En(){return ni||(ni=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(j,W)=>{0===W&&j.createObjectStore(Yn)}}).catch(j=>{throw Ni.create("idb-open",{originalErrorMessage:j.message})})),ni}function ft(){return(ft=(0,a.Z)(function*(j){var W;try{return(yield En()).transaction(Yn).objectStore(Yn).get(vi(j))}catch(K){if(K instanceof de.ZR)$.warn(K.message);else{const Me=Ni.create("idb-get",{originalErrorMessage:null===(W=K)||void 0===W?void 0:W.message});$.warn(Me.message)}}})).apply(this,arguments)}function yn(j,W){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(j,W){var K;try{const $e=(yield En()).transaction(Yn,"readwrite");return yield $e.objectStore(Yn).put(W,vi(j)),$e.done}catch(Me){if(Me instanceof de.ZR)$.warn(Me.message);else{const $e=Ni.create("idb-set",{originalErrorMessage:null===(K=Me)||void 0===K?void 0:K.message});$.warn($e.message)}}})).apply(this,arguments)}function vi(j){return`${j.name}!${j.options.appId}`}class Ds{constructor(W){this.container=W,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new sn(K),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var W=this;return(0,a.Z)(function*(){const Me=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=on();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==$e&&!W._heartbeatsCache.heartbeats.some(pt=>pt.date===$e))return W._heartbeatsCache.heartbeats.push({date:$e,agent:Me}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(pt=>{const Dn=new Date(pt.date).valueOf();return Date.now()-Dn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,a.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const K=on(),{heartbeatsToSend:Me,unsentEntries:$e}=function Br(j,W=1024){const K=[];let Me=j.slice();for(const $e of j){const pt=K.find(Dn=>Dn.agent===$e.agent);if(pt){if(pt.dates.push($e.date),X(K)>W){pt.dates.pop();break}}else if(K.push({agent:$e.agent,dates:[$e.date]}),X(K)>W){K.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:K,unsentEntries:Me}}(W._heartbeatsCache.heartbeats),pt=(0,de.L)(JSON.stringify({version:2,heartbeats:Me}));return W._heartbeatsCache.lastSentHeartbeatDate=K,$e.length>0?(W._heartbeatsCache.heartbeats=$e,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),pt})()}}function on(){return(new Date).toISOString().substring(0,10)}class sn{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,a.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function vt(j){return ft.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var K=this;return(0,a.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const pt=yield K.read();return yn(K.app,{lastSentHeartbeatDate:null!==(Me=W.lastSentHeartbeatDate)&&void 0!==Me?Me:pt.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var K=this;return(0,a.Z)(function*(){var Me;if(yield K._canUseIndexedDBPromise){const pt=yield K.read();return yn(K.app,{lastSentHeartbeatDate:null!==(Me=W.lastSentHeartbeatDate)&&void 0!==Me?Me:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...W.heartbeats]})}})()}}function X(j){return(0,de.L)(JSON.stringify({version:2,heartbeats:j})).length}!function q(j){zi(new ie.wA("platform-logger",W=>new pe(W),"PRIVATE")),zi(new ie.wA("heartbeat",W=>new Ds(W),"PRIVATE")),ar(me,"0.7.32",j),ar(me,"0.7.32","esm2017"),ar("fire-js","")}("")},4859:(ht,xe,V)=>{V.d(xe,{H0:()=>me,wA:()=>B,zt:()=>ce});var a=V(5861),ie=V(2090);class B{constructor($,Z,ee){this.name=$,this.instanceFactory=Z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const de="[DEFAULT]";class ce{constructor($,Z){this.name=$,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const Z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(Z)){const ee=new ie.BH;if(this.instancesDeferred.set(Z,ee),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:Z});Ge&&ee.resolve(Ge)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate($){var Z;const ee=this.normalizeInstanceIdentifier($?.identifier),Ge=null!==(Z=$?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Re){if(Ge)return null;throw Re}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(ye){return"EAGER"===ye.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[Z,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(Z);try{const Re=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Re)}catch{}}}}clearInstance($=de){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,a.Z)(function*(){const Z=Array.from($.instances.values());yield Promise.all([...Z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...Z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=de){return this.instances.has($)}getOptions($=de){return this.instancesOptions.get($)||{}}initialize($={}){const{options:Z={}}=$,ee=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:Z});for(const[Re,Ee]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Re)&&Ee.resolve(Ge);return Ge}onInit($,Z){var ee;const Ge=this.normalizeInstanceIdentifier(Z),Re=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Re.add($),this.onInitCallbacks.set(Ge,Re);const Ee=this.instances.get(Ge);return Ee&&$(Ee,Ge),()=>{Re.delete($)}}invokeOnInitCallbacks($,Z){const ee=this.onInitCallbacks.get(Z);if(ee)for(const Ge of ee)try{Ge($,Z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:Z={}}){let ee=this.instances.get($);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=$,ye===de?void 0:ye),options:Z}),this.instances.set($,ee),this.instancesOptions.set($,Z),this.invokeOnInitCallbacks(ee,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ee)}catch{}var ye;return ee||null}normalizeInstanceIdentifier($=de){return this.component?this.component.multipleInstances?$:de:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor($){this.name=$,this.providers=new Map}addComponent($){const Z=this.getProvider($.name);if(Z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);Z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const Z=new ce($,this);return this.providers.set($,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,xe,V)=>{V.d(xe,{Am:()=>ye,Ub:()=>me,Yd:()=>re,in:()=>ie});const a=[];var ie=(()=>{return($=ie||(ie={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ie;var $})();const B={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},de=ie.INFO,ce={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},pe=($,Z,...ee)=>{if(Z<$.logLevel)return;const Ge=(new Date).toISOString(),Re=ce[Z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Re](`[${Ge}]  ${$.name}:`,...ee)};class re{constructor(Z){this.name=Z,this._logLevel=de,this._logHandler=pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in ie))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?B[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...Z),this._logHandler(this,ie.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...Z),this._logHandler(this,ie.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...Z),this._logHandler(this,ie.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...Z),this._logHandler(this,ie.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...Z),this._logHandler(this,ie.ERROR,...Z)}}function me($){a.forEach(Z=>{Z.setLogLevel($)})}function ye($,Z){for(const ee of a){let Ge=null;Z&&Z.level&&(Ge=B[Z.level]),ee.userLogHandler=null===$?null:(Re,Ee,...ot)=>{const be=ot.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");Ee>=(Ge??Re.logLevel)&&$({level:ie[Ee].toLowerCase(),message:be,args:ot,type:Re.name})}}}},8766:(ht,xe,V)=>{V.d(xe,{Lj:()=>ke,X3:()=>ut});var a=V(5861);let B,de;const re=new WeakMap,me=new WeakMap,ye=new WeakMap,$=new WeakMap,Z=new WeakMap;let Re={get(z,ve,J){if(z instanceof IDBTransaction){if("done"===ve)return me.get(z);if("objectStoreNames"===ve)return z.objectStoreNames||ye.get(z);if("store"===ve)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return _e(z[ve])},set:(z,ve,J)=>(z[ve]=J,!0),has:(z,ve)=>z instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in z};function be(z){return"function"==typeof z?function ot(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ve){return z.apply(rt(this),ve),_e(re.get(this))}:function(...ve){return _e(z.apply(rt(this),ve))}:function(ve,...J){const se=z.call(rt(this),ve,...J);return ye.set(se,ve.sort?ve.sort():[ve]),_e(se)}}(z):(z instanceof IDBTransaction&&function Ge(z){if(me.has(z))return;const ve=new Promise((J,se)=>{const ue=()=>{z.removeEventListener("complete",ae),z.removeEventListener("error",Be),z.removeEventListener("abort",Be)},ae=()=>{J(),ue()},Be=()=>{se(z.error||new DOMException("AbortError","AbortError")),ue()};z.addEventListener("complete",ae),z.addEventListener("error",Be),z.addEventListener("abort",Be)});me.set(z,ve)}(z),((z,ve)=>ve.some(J=>z instanceof J))(z,function ce(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Re):z)}function _e(z){if(z instanceof IDBRequest)return function ee(z){const ve=new Promise((J,se)=>{const ue=()=>{z.removeEventListener("success",ae),z.removeEventListener("error",Be)},ae=()=>{J(_e(z.result)),ue()},Be=()=>{se(z.error),ue()};z.addEventListener("success",ae),z.addEventListener("error",Be)});return ve.then(J=>{J instanceof IDBCursor&&re.set(J,z)}).catch(()=>{}),Z.set(ve,z),ve}(z);if($.has(z))return $.get(z);const ve=be(z);return ve!==z&&($.set(z,ve),Z.set(ve,z)),ve}const rt=z=>Z.get(z);function ut(z,ve,{blocked:J,upgrade:se,blocking:ue,terminated:ae}={}){const Be=indexedDB.open(z,ve),Fe=_e(Be);return se&&Be.addEventListener("upgradeneeded",yt=>{se(_e(Be.result),yt.oldVersion,yt.newVersion,_e(Be.transaction))}),J&&Be.addEventListener("blocked",()=>J()),Fe.then(yt=>{ae&&yt.addEventListener("close",()=>ae()),ue&&yt.addEventListener("versionchange",()=>ue())}).catch(()=>{}),Fe}function ke(z,{blocked:ve}={}){const J=indexedDB.deleteDatabase(z);return ve&&J.addEventListener("blocked",()=>ve()),_e(J).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],ze=new Map;function Ze(z,ve){if(!(z instanceof IDBDatabase)||ve in z||"string"!=typeof ve)return;if(ze.get(ve))return ze.get(ve);const J=ve.replace(/FromIndex$/,""),se=ve!==J,ue=Se.includes(J);if(!(J in(se?IDBIndex:IDBObjectStore).prototype)||!ue&&!Ce.includes(J))return;const ae=function(){var Be=(0,a.Z)(function*(Fe,...yt){const Qt=this.transaction(Fe,ue?"readwrite":"readonly");let zt=Qt.store;return se&&(zt=zt.index(yt.shift())),(yield Promise.all([zt[J](...yt),ue&&Qt.done]))[0]});return function(yt){return Be.apply(this,arguments)}}();return ze.set(ve,ae),ae}!function Ee(z){Re=z(Re)}(z=>({...z,get:(ve,J,se)=>Ze(ve,J)||z.get(ve,J,se),has:(ve,J)=>!!Ze(ve,J)||z.has(ve,J)}))},5861:(ht,xe,V)=>{function a(B,de,ce,pe,re,me,ye){try{var $=B[me](ye),Z=$.value}catch(ee){return void ce(ee)}$.done?de(Z):Promise.resolve(Z).then(pe,re)}function ie(B){return function(){var de=this,ce=arguments;return new Promise(function(pe,re){var me=B.apply(de,ce);function ye(Z){a(me,pe,re,ye,$,"next",Z)}function $(Z){a(me,pe,re,ye,$,"throw",Z)}ye(void 0)})}}V.d(xe,{Z:()=>ie})}},ht=>{ht(ht.s=4462)}]);